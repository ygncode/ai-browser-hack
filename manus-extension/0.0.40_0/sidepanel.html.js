var Kt=Object.defineProperty;var Ut=(f,k,L)=>k in f?Kt(f,k,{enumerable:!0,configurable:!0,writable:!0,value:L}):f[k]=L;var vt=(f,k,L)=>Ut(f,typeof k!="symbol"?k+"":k,L);import{c as Jt,r as me,j as h,E as Ht,a as Gt}from"./eye.js";import{l as ie,s as ut}from"./sendMessage.js";import{d as Ot,t as Nt,g as Yt,a as Zt}from"./token.js";import{t as Xt,a as Tt,c as Mt,M as Qt,L as er}from"./helper.js";var tr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rr(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Dt=Jt("download",ar);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],or=Jt("x",nr);function sr({triggers:f,onTrigger:k,getActionStatus:L}){const[o,t]=me.useState(()=>{const n={};for(const i of f)n[i.id]={payload:JSON.stringify(i.payload||{},null,2),error:null,isEdited:!1};return n}),e=(n,i)=>{t(u=>({...u,[n]:{...u[n],payload:i,isEdited:!0}}))},s=n=>{t(i=>({...i,[n.id]:{payload:JSON.stringify(n.payload||{},null,2),error:null,isEdited:!1}}))},l=n=>{const i=o[n.id];if(i)try{const u=JSON.parse(i.payload);t(m=>({...m,[n.id]:{...m[n.id],error:null}})),k==null||k(n.id,n.browser_action,u)}catch(u){const m=u instanceof Error?u.message:"Invalid JSON";t(v=>({...v,[n.id]:{...v[n.id],error:m}}))}};return h.jsx("div",{className:"grid gap-3",style:{gridTemplateColumns:"repeat(auto-fill, minmax(210px, 1fr))"},children:f.map(n=>{const i=o[n.id];if(!i)return null;const u=i.error!==null,m=L==null?void 0:L(n.id),v=h.jsxs("div",{className:"flex items-end justify-between gap-2",children:[h.jsxs("div",{className:"flex flex-col gap-1 min-w-0 flex-1",children:[h.jsx("h3",{className:"text-sm font-semibold text-white truncate",children:n.name}),h.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-mono bg-[#1c2030]/80 border border-[#94a3b8]/20 text-[#94a3b8] w-fit truncate max-w-full",children:n.browser_action})]}),!n.hideJson&&h.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[i.isEdited&&h.jsx("button",{type:"button",onClick:()=>s(n),className:"px-2 py-1 text-xs text-[#94a3b8] hover:text-[#cbd5e1] transition-colors",title:"重置为默认值",children:"Reset"}),h.jsx("button",{type:"button",onClick:()=>l(n),className:"px-2 py-1 rounded border text-xs font-medium transition-colors border-[#5a63ed]/50 bg-[#5a63ed]/20 text-[#a5b4fc] hover:bg-[#5a63ed]/30 hover:border-[#5a63ed]/70 active:bg-[#5a63ed]/15",title:`触发 ${n.browser_action}`,children:"Trigger"})]})]}),j=m&&m.status!=="idle"&&h.jsxs("div",{className:"flex items-start gap-1.5 px-2 py-1 rounded text-xs",children:[m.status==="loading"&&h.jsxs("div",{className:"flex items-center gap-1.5 text-[#94a3b8]",children:[h.jsx("span",{className:"inline-block w-3 h-3 border-2 border-[#94a3b8] border-t-transparent rounded-full animate-spin"}),h.jsx("span",{children:"Executing..."})]}),m.status==="success"&&h.jsxs("div",{className:"flex items-center gap-1.5 text-green-400",children:[h.jsx("span",{children:"✓"}),h.jsx("span",{children:m.message||"Success"})]}),m.status==="error"&&h.jsxs("div",{className:"flex items-center gap-1.5 text-red-400",children:[h.jsx("span",{children:"✗"}),h.jsx("span",{children:m.error||"Failed"})]})]});return n.hideJson?h.jsxs("button",{type:"button",onClick:()=>l(n),className:"flex flex-col gap-2 px-2 py-2 rounded-lg bg-[#0f121e]/60 border border-transparent cursor-pointer transition-all duration-200 hover:bg-[#5a63ed]/20 hover:border-[#5a63ed]/50 text-left",children:[v,j]},n.id):h.jsxs("div",{className:"flex flex-col gap-2 px-2 py-2 rounded-lg bg-[#0f121e]/60",children:[v,j,h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("textarea",{value:i.payload,onChange:S=>e(n.id,S.target.value),className:`w-full h-24 px-3 py-2 rounded border font-mono text-[11px] leading-relaxed resize-y transition-all ${u?"border-red-500/60 bg-red-900/20 text-red-200 shadow-inner shadow-red-900/20 focus:border-red-500 focus:ring-2 focus:ring-red-500/50 focus:bg-red-900/25":"border-[#5a63ed]/30 bg-[#0a0d1a]/80 text-[#a5b4fc] shadow-inner shadow-black/20 focus:border-[#5a63ed] focus:ring-2 focus:ring-[#5a63ed]/30 focus:bg-[#0a0d1a]/90"} focus:outline-none placeholder:text-[#64748b]/50`,placeholder:"JSON payload...",spellCheck:!1}),u&&h.jsxs("div",{className:"flex items-start gap-1.5 px-2 py-1 rounded bg-red-900/20 border border-red-500/30",children:[h.jsx("span",{className:"text-red-400 text-xs",children:"⚠"}),h.jsx("span",{className:"text-red-300 text-xs flex-1",children:i.error})]})]})]},n.id)})})}var Bt={exports:{}};(function(f,k){(function(L,o){f.exports=o(me)})(tr,function(L){return function(o){var t={};function e(s){if(t[s])return t[s].exports;var l=t[s]={i:s,l:!1,exports:{}};return o[s].call(l.exports,l,l.exports,e),l.l=!0,l.exports}return e.m=o,e.c=t,e.d=function(s,l,n){e.o(s,l)||Object.defineProperty(s,l,{enumerable:!0,get:n})},e.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},e.t=function(s,l){if(1&l&&(s=e(s)),8&l||4&l&&typeof s=="object"&&s&&s.__esModule)return s;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:s}),2&l&&typeof s!="string")for(var i in s)e.d(n,i,(function(u){return s[u]}).bind(null,i));return n},e.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return e.d(l,"a",l),l},e.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},e.p="",e(e.s=48)}([function(o,t){o.exports=L},function(o,t){var e=o.exports={version:"2.6.12"};typeof __e=="number"&&(__e=e)},function(o,t,e){var s=e(26)("wks"),l=e(17),n=e(3).Symbol,i=typeof n=="function";(o.exports=function(u){return s[u]||(s[u]=i&&n[u]||(i?n:l)("Symbol."+u))}).store=s},function(o,t){var e=o.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=e)},function(o,t,e){o.exports=!e(8)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(o,t){var e={}.hasOwnProperty;o.exports=function(s,l){return e.call(s,l)}},function(o,t,e){var s=e(7),l=e(16);o.exports=e(4)?function(n,i,u){return s.f(n,i,l(1,u))}:function(n,i,u){return n[i]=u,n}},function(o,t,e){var s=e(10),l=e(35),n=e(23),i=Object.defineProperty;t.f=e(4)?Object.defineProperty:function(u,m,v){if(s(u),m=n(m,!0),s(v),l)try{return i(u,m,v)}catch{}if("get"in v||"set"in v)throw TypeError("Accessors not supported!");return"value"in v&&(u[m]=v.value),u}},function(o,t){o.exports=function(e){try{return!!e()}catch{return!0}}},function(o,t,e){var s=e(40),l=e(22);o.exports=function(n){return s(l(n))}},function(o,t,e){var s=e(11);o.exports=function(l){if(!s(l))throw TypeError(l+" is not an object!");return l}},function(o,t){o.exports=function(e){return typeof e=="object"?e!==null:typeof e=="function"}},function(o,t){o.exports={}},function(o,t,e){var s=e(39),l=e(27);o.exports=Object.keys||function(n){return s(n,l)}},function(o,t){o.exports=!0},function(o,t,e){var s=e(3),l=e(1),n=e(53),i=e(6),u=e(5),m=function(v,j,S){var P,T,Y,B=v&m.F,H=v&m.G,r=v&m.S,J=v&m.P,z=v&m.B,V=v&m.W,q=H?l:l[j]||(l[j]={}),E=q.prototype,N=H?s:r?s[j]:(s[j]||{}).prototype;for(P in H&&(S=j),S)(T=!B&&N&&N[P]!==void 0)&&u(q,P)||(Y=T?N[P]:S[P],q[P]=H&&typeof N[P]!="function"?S[P]:z&&T?n(Y,s):V&&N[P]==Y?function(I){var $=function(x,ee,U){if(this instanceof I){switch(arguments.length){case 0:return new I;case 1:return new I(x);case 2:return new I(x,ee)}return new I(x,ee,U)}return I.apply(this,arguments)};return $.prototype=I.prototype,$}(Y):J&&typeof Y=="function"?n(Function.call,Y):Y,J&&((q.virtual||(q.virtual={}))[P]=Y,v&m.R&&E&&!E[P]&&i(E,P,Y)))};m.F=1,m.G=2,m.S=4,m.P=8,m.B=16,m.W=32,m.U=64,m.R=128,o.exports=m},function(o,t){o.exports=function(e,s){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:s}}},function(o,t){var e=0,s=Math.random();o.exports=function(l){return"Symbol(".concat(l===void 0?"":l,")_",(++e+s).toString(36))}},function(o,t,e){var s=e(22);o.exports=function(l){return Object(s(l))}},function(o,t){t.f={}.propertyIsEnumerable},function(o,t,e){var s=e(52)(!0);e(34)(String,"String",function(l){this._t=String(l),this._i=0},function(){var l,n=this._t,i=this._i;return i>=n.length?{value:void 0,done:!0}:(l=s(n,i),this._i+=l.length,{value:l,done:!1})})},function(o,t){var e=Math.ceil,s=Math.floor;o.exports=function(l){return isNaN(l=+l)?0:(l>0?s:e)(l)}},function(o,t){o.exports=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e}},function(o,t,e){var s=e(11);o.exports=function(l,n){if(!s(l))return l;var i,u;if(n&&typeof(i=l.toString)=="function"&&!s(u=i.call(l))||typeof(i=l.valueOf)=="function"&&!s(u=i.call(l))||!n&&typeof(i=l.toString)=="function"&&!s(u=i.call(l)))return u;throw TypeError("Can't convert object to primitive value")}},function(o,t){var e={}.toString;o.exports=function(s){return e.call(s).slice(8,-1)}},function(o,t,e){var s=e(26)("keys"),l=e(17);o.exports=function(n){return s[n]||(s[n]=l(n))}},function(o,t,e){var s=e(1),l=e(3),n=l["__core-js_shared__"]||(l["__core-js_shared__"]={});(o.exports=function(i,u){return n[i]||(n[i]=u!==void 0?u:{})})("versions",[]).push({version:s.version,mode:e(14)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(o,t){o.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(o,t,e){var s=e(7).f,l=e(5),n=e(2)("toStringTag");o.exports=function(i,u,m){i&&!l(i=m?i:i.prototype,n)&&s(i,n,{configurable:!0,value:u})}},function(o,t,e){e(62);for(var s=e(3),l=e(6),n=e(12),i=e(2)("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),m=0;m<u.length;m++){var v=u[m],j=s[v],S=j&&j.prototype;S&&!S[i]&&l(S,i,v),n[v]=n.Array}},function(o,t,e){t.f=e(2)},function(o,t,e){var s=e(3),l=e(1),n=e(14),i=e(30),u=e(7).f;o.exports=function(m){var v=l.Symbol||(l.Symbol=n?{}:s.Symbol||{});m.charAt(0)=="_"||m in v||u(v,m,{value:i.f(m)})}},function(o,t){t.f=Object.getOwnPropertySymbols},function(o,t){o.exports=function(e,s,l){return Math.min(Math.max(e,s),l)}},function(o,t,e){var s=e(14),l=e(15),n=e(37),i=e(6),u=e(12),m=e(55),v=e(28),j=e(61),S=e(2)("iterator"),P=!([].keys&&"next"in[].keys()),T=function(){return this};o.exports=function(Y,B,H,r,J,z,V){m(H,B,r);var q,E,N,I=function(G){if(!P&&G in U)return U[G];switch(G){case"keys":case"values":return function(){return new H(this,G)}}return function(){return new H(this,G)}},$=B+" Iterator",x=J=="values",ee=!1,U=Y.prototype,O=U[S]||U["@@iterator"]||J&&U[J],X=O||I(J),fe=J?x?I("entries"):X:void 0,le=B=="Array"&&U.entries||O;if(le&&(N=j(le.call(new Y)))!==Object.prototype&&N.next&&(v(N,$,!0),s||typeof N[S]=="function"||i(N,S,T)),x&&O&&O.name!=="values"&&(ee=!0,X=function(){return O.call(this)}),s&&!V||!P&&!ee&&U[S]||i(U,S,X),u[B]=X,u[$]=T,J)if(q={values:x?X:I("values"),keys:z?X:I("keys"),entries:fe},V)for(E in q)E in U||n(U,E,q[E]);else l(l.P+l.F*(P||ee),B,q);return q}},function(o,t,e){o.exports=!e(4)&&!e(8)(function(){return Object.defineProperty(e(36)("div"),"a",{get:function(){return 7}}).a!=7})},function(o,t,e){var s=e(11),l=e(3).document,n=s(l)&&s(l.createElement);o.exports=function(i){return n?l.createElement(i):{}}},function(o,t,e){o.exports=e(6)},function(o,t,e){var s=e(10),l=e(56),n=e(27),i=e(25)("IE_PROTO"),u=function(){},m=function(){var v,j=e(36)("iframe"),S=n.length;for(j.style.display="none",e(60).appendChild(j),j.src="javascript:",(v=j.contentWindow.document).open(),v.write("<script>document.F=Object<\/script>"),v.close(),m=v.F;S--;)delete m.prototype[n[S]];return m()};o.exports=Object.create||function(v,j){var S;return v!==null?(u.prototype=s(v),S=new u,u.prototype=null,S[i]=v):S=m(),j===void 0?S:l(S,j)}},function(o,t,e){var s=e(5),l=e(9),n=e(57)(!1),i=e(25)("IE_PROTO");o.exports=function(u,m){var v,j=l(u),S=0,P=[];for(v in j)v!=i&&s(j,v)&&P.push(v);for(;m.length>S;)s(j,v=m[S++])&&(~n(P,v)||P.push(v));return P}},function(o,t,e){var s=e(24);o.exports=Object("z").propertyIsEnumerable(0)?Object:function(l){return s(l)=="String"?l.split(""):Object(l)}},function(o,t,e){var s=e(39),l=e(27).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(n){return s(n,l)}},function(o,t,e){var s=e(24),l=e(2)("toStringTag"),n=s(function(){return arguments}())=="Arguments";o.exports=function(i){var u,m,v;return i===void 0?"Undefined":i===null?"Null":typeof(m=function(j,S){try{return j[S]}catch{}}(u=Object(i),l))=="string"?m:n?s(u):(v=s(u))=="Object"&&typeof u.callee=="function"?"Arguments":v}},function(o,t){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch{typeof window=="object"&&(e=window)}o.exports=e},function(o,t){var e=/-?\d+(\.\d+)?%?/g;o.exports=function(s){return s.match(e)}},function(o,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.getBase16Theme=t.createStyling=t.invertTheme=void 0;var s=T(e(49)),l=T(e(76)),n=T(e(81)),i=T(e(89)),u=T(e(93)),m=function(E){if(E&&E.__esModule)return E;var N={};if(E!=null)for(var I in E)Object.prototype.hasOwnProperty.call(E,I)&&(N[I]=E[I]);return N.default=E,N}(e(94)),v=T(e(132)),j=T(e(133)),S=T(e(138)),P=e(139);function T(E){return E&&E.__esModule?E:{default:E}}var Y=m.default,B=(0,i.default)(Y),H=(0,S.default)(j.default,P.rgb2yuv,function(E){var N,I=(0,n.default)(E,3),$=I[0],x=I[1],ee=I[2];return[(N=$,N<.25?1:N<.5?.9-N:1.1-N),x,ee]},P.yuv2rgb,v.default),r=function(E){return function(N){return{className:[N.className,E.className].filter(Boolean).join(" "),style:(0,l.default)({},N.style||{},E.style||{})}}},J=function(E,N){var I=(0,i.default)(N);for(var $ in E)I.indexOf($)===-1&&I.push($);return I.reduce(function(x,ee){return x[ee]=function(U,O){if(U===void 0)return O;if(O===void 0)return U;var X=U===void 0?"undefined":(0,s.default)(U),fe=O===void 0?"undefined":(0,s.default)(O);switch(X){case"string":switch(fe){case"string":return[O,U].filter(Boolean).join(" ");case"object":return r({className:U,style:O});case"function":return function(le){for(var G=arguments.length,ce=Array(G>1?G-1:0),Q=1;Q<G;Q++)ce[Q-1]=arguments[Q];return r({className:U})(O.apply(void 0,[le].concat(ce)))}}case"object":switch(fe){case"string":return r({className:O,style:U});case"object":return(0,l.default)({},O,U);case"function":return function(le){for(var G=arguments.length,ce=Array(G>1?G-1:0),Q=1;Q<G;Q++)ce[Q-1]=arguments[Q];return r({style:U})(O.apply(void 0,[le].concat(ce)))}}case"function":switch(fe){case"string":return function(le){for(var G=arguments.length,ce=Array(G>1?G-1:0),Q=1;Q<G;Q++)ce[Q-1]=arguments[Q];return U.apply(void 0,[r(le)({className:O})].concat(ce))};case"object":return function(le){for(var G=arguments.length,ce=Array(G>1?G-1:0),Q=1;Q<G;Q++)ce[Q-1]=arguments[Q];return U.apply(void 0,[r(le)({style:O})].concat(ce))};case"function":return function(le){for(var G=arguments.length,ce=Array(G>1?G-1:0),Q=1;Q<G;Q++)ce[Q-1]=arguments[Q];return U.apply(void 0,[O.apply(void 0,[le].concat(ce))].concat(ce))}}}}(E[ee],N[ee]),x},{})},z=function(E,N){for(var I=arguments.length,$=Array(I>2?I-2:0),x=2;x<I;x++)$[x-2]=arguments[x];if(N===null)return E;Array.isArray(N)||(N=[N]);var ee=N.map(function(O){return E[O]}).filter(Boolean),U=ee.reduce(function(O,X){return typeof X=="string"?O.className=[O.className,X].filter(Boolean).join(" "):(X===void 0?"undefined":(0,s.default)(X))==="object"?O.style=(0,l.default)({},O.style,X):typeof X=="function"&&(O=(0,l.default)({},O,X.apply(void 0,[O].concat($)))),O},{className:"",style:{}});return U.className||delete U.className,(0,i.default)(U.style).length===0&&delete U.style,U},V=t.invertTheme=function(E){return(0,i.default)(E).reduce(function(N,I){return N[I]=/^base/.test(I)?H(E[I]):I==="scheme"?E[I]+":inverted":E[I],N},{})},q=(t.createStyling=(0,u.default)(function(E){for(var N=arguments.length,I=Array(N>3?N-3:0),$=3;$<N;$++)I[$-3]=arguments[$];var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},U=x.defaultBase16,O=U===void 0?Y:U,X=x.base16Themes,fe=X===void 0?null:X,le=q(ee,fe);le&&(ee=(0,l.default)({},le,ee));var G=B.reduce(function(ve,Me){return ve[Me]=ee[Me]||O[Me],ve},{}),ce=(0,i.default)(ee).reduce(function(ve,Me){return B.indexOf(Me)===-1&&(ve[Me]=ee[Me]),ve},{}),Q=E(G),he=J(ce,Q);return(0,u.default)(z,2).apply(void 0,[he].concat(I))},3),t.getBase16Theme=function(E,N){if(E&&E.extend&&(E=E.extend),typeof E=="string"){var I=E.split(":"),$=(0,n.default)(I,2),x=$[0],ee=$[1];E=(N||{})[x]||m[x],ee==="inverted"&&(E=V(E))}return E&&E.hasOwnProperty("base00")?E:void 0})},function(o,t,e){var s,l=typeof Reflect=="object"?Reflect:null,n=l&&typeof l.apply=="function"?l.apply:function(r,J,z){return Function.prototype.apply.call(r,J,z)};s=l&&typeof l.ownKeys=="function"?l.ownKeys:Object.getOwnPropertySymbols?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:function(r){return Object.getOwnPropertyNames(r)};var i=Number.isNaN||function(r){return r!=r};function u(){u.init.call(this)}o.exports=u,o.exports.once=function(r,J){return new Promise(function(z,V){function q(){E!==void 0&&r.removeListener("error",E),z([].slice.call(arguments))}var E;J!=="error"&&(E=function(N){r.removeListener(J,q),V(N)},r.once("error",E)),r.once(J,q)})},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var m=10;function v(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}function j(r){return r._maxListeners===void 0?u.defaultMaxListeners:r._maxListeners}function S(r,J,z,V){var q,E,N,I;if(v(z),(E=r._events)===void 0?(E=r._events=Object.create(null),r._eventsCount=0):(E.newListener!==void 0&&(r.emit("newListener",J,z.listener?z.listener:z),E=r._events),N=E[J]),N===void 0)N=E[J]=z,++r._eventsCount;else if(typeof N=="function"?N=E[J]=V?[z,N]:[N,z]:V?N.unshift(z):N.push(z),(q=j(r))>0&&N.length>q&&!N.warned){N.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+N.length+" "+String(J)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=r,$.type=J,$.count=N.length,I=$,console&&console.warn&&console.warn(I)}return r}function P(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function T(r,J,z){var V={fired:!1,wrapFn:void 0,target:r,type:J,listener:z},q=P.bind(V);return q.listener=z,V.wrapFn=q,q}function Y(r,J,z){var V=r._events;if(V===void 0)return[];var q=V[J];return q===void 0?[]:typeof q=="function"?z?[q.listener||q]:[q]:z?function(E){for(var N=new Array(E.length),I=0;I<N.length;++I)N[I]=E[I].listener||E[I];return N}(q):H(q,q.length)}function B(r){var J=this._events;if(J!==void 0){var z=J[r];if(typeof z=="function")return 1;if(z!==void 0)return z.length}return 0}function H(r,J){for(var z=new Array(J),V=0;V<J;++V)z[V]=r[V];return z}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(r){if(typeof r!="number"||r<0||i(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");m=r}}),u.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||i(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this},u.prototype.getMaxListeners=function(){return j(this)},u.prototype.emit=function(r){for(var J=[],z=1;z<arguments.length;z++)J.push(arguments[z]);var V=r==="error",q=this._events;if(q!==void 0)V=V&&q.error===void 0;else if(!V)return!1;if(V){var E;if(J.length>0&&(E=J[0]),E instanceof Error)throw E;var N=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw N.context=E,N}var I=q[r];if(I===void 0)return!1;if(typeof I=="function")n(I,this,J);else{var $=I.length,x=H(I,$);for(z=0;z<$;++z)n(x[z],this,J)}return!0},u.prototype.addListener=function(r,J){return S(this,r,J,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(r,J){return S(this,r,J,!0)},u.prototype.once=function(r,J){return v(J),this.on(r,T(this,r,J)),this},u.prototype.prependOnceListener=function(r,J){return v(J),this.prependListener(r,T(this,r,J)),this},u.prototype.removeListener=function(r,J){var z,V,q,E,N;if(v(J),(V=this._events)===void 0)return this;if((z=V[r])===void 0)return this;if(z===J||z.listener===J)--this._eventsCount==0?this._events=Object.create(null):(delete V[r],V.removeListener&&this.emit("removeListener",r,z.listener||J));else if(typeof z!="function"){for(q=-1,E=z.length-1;E>=0;E--)if(z[E]===J||z[E].listener===J){N=z[E].listener,q=E;break}if(q<0)return this;q===0?z.shift():function(I,$){for(;$+1<I.length;$++)I[$]=I[$+1];I.pop()}(z,q),z.length===1&&(V[r]=z[0]),V.removeListener!==void 0&&this.emit("removeListener",r,N||J)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(r){var J,z,V;if((z=this._events)===void 0)return this;if(z.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):z[r]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete z[r]),this;if(arguments.length===0){var q,E=Object.keys(z);for(V=0;V<E.length;++V)(q=E[V])!=="removeListener"&&this.removeAllListeners(q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(J=z[r])=="function")this.removeListener(r,J);else if(J!==void 0)for(V=J.length-1;V>=0;V--)this.removeListener(r,J[V]);return this},u.prototype.listeners=function(r){return Y(this,r,!0)},u.prototype.rawListeners=function(r){return Y(this,r,!1)},u.listenerCount=function(r,J){return typeof r.listenerCount=="function"?r.listenerCount(J):B.call(r,J)},u.prototype.listenerCount=B,u.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]}},function(o,t,e){o.exports.Dispatcher=e(140)},function(o,t,e){o.exports=e(142)},function(o,t,e){t.__esModule=!0;var s=i(e(50)),l=i(e(65)),n=typeof l.default=="function"&&typeof s.default=="symbol"?function(u){return typeof u}:function(u){return u&&typeof l.default=="function"&&u.constructor===l.default&&u!==l.default.prototype?"symbol":typeof u};function i(u){return u&&u.__esModule?u:{default:u}}t.default=typeof l.default=="function"&&n(s.default)==="symbol"?function(u){return u===void 0?"undefined":n(u)}:function(u){return u&&typeof l.default=="function"&&u.constructor===l.default&&u!==l.default.prototype?"symbol":u===void 0?"undefined":n(u)}},function(o,t,e){o.exports={default:e(51),__esModule:!0}},function(o,t,e){e(20),e(29),o.exports=e(30).f("iterator")},function(o,t,e){var s=e(21),l=e(22);o.exports=function(n){return function(i,u){var m,v,j=String(l(i)),S=s(u),P=j.length;return S<0||S>=P?n?"":void 0:(m=j.charCodeAt(S))<55296||m>56319||S+1===P||(v=j.charCodeAt(S+1))<56320||v>57343?n?j.charAt(S):m:n?j.slice(S,S+2):v-56320+(m-55296<<10)+65536}}},function(o,t,e){var s=e(54);o.exports=function(l,n,i){if(s(l),n===void 0)return l;switch(i){case 1:return function(u){return l.call(n,u)};case 2:return function(u,m){return l.call(n,u,m)};case 3:return function(u,m,v){return l.call(n,u,m,v)}}return function(){return l.apply(n,arguments)}}},function(o,t){o.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}},function(o,t,e){var s=e(38),l=e(16),n=e(28),i={};e(6)(i,e(2)("iterator"),function(){return this}),o.exports=function(u,m,v){u.prototype=s(i,{next:l(1,v)}),n(u,m+" Iterator")}},function(o,t,e){var s=e(7),l=e(10),n=e(13);o.exports=e(4)?Object.defineProperties:function(i,u){l(i);for(var m,v=n(u),j=v.length,S=0;j>S;)s.f(i,m=v[S++],u[m]);return i}},function(o,t,e){var s=e(9),l=e(58),n=e(59);o.exports=function(i){return function(u,m,v){var j,S=s(u),P=l(S.length),T=n(v,P);if(i&&m!=m){for(;P>T;)if((j=S[T++])!=j)return!0}else for(;P>T;T++)if((i||T in S)&&S[T]===m)return i||T||0;return!i&&-1}}},function(o,t,e){var s=e(21),l=Math.min;o.exports=function(n){return n>0?l(s(n),9007199254740991):0}},function(o,t,e){var s=e(21),l=Math.max,n=Math.min;o.exports=function(i,u){return(i=s(i))<0?l(i+u,0):n(i,u)}},function(o,t,e){var s=e(3).document;o.exports=s&&s.documentElement},function(o,t,e){var s=e(5),l=e(18),n=e(25)("IE_PROTO"),i=Object.prototype;o.exports=Object.getPrototypeOf||function(u){return u=l(u),s(u,n)?u[n]:typeof u.constructor=="function"&&u instanceof u.constructor?u.constructor.prototype:u instanceof Object?i:null}},function(o,t,e){var s=e(63),l=e(64),n=e(12),i=e(9);o.exports=e(34)(Array,"Array",function(u,m){this._t=i(u),this._i=0,this._k=m},function(){var u=this._t,m=this._k,v=this._i++;return!u||v>=u.length?(this._t=void 0,l(1)):l(0,m=="keys"?v:m=="values"?u[v]:[v,u[v]])},"values"),n.Arguments=n.Array,s("keys"),s("values"),s("entries")},function(o,t){o.exports=function(){}},function(o,t){o.exports=function(e,s){return{value:s,done:!!e}}},function(o,t,e){o.exports={default:e(66),__esModule:!0}},function(o,t,e){e(67),e(73),e(74),e(75),o.exports=e(1).Symbol},function(o,t,e){var s=e(3),l=e(5),n=e(4),i=e(15),u=e(37),m=e(68).KEY,v=e(8),j=e(26),S=e(28),P=e(17),T=e(2),Y=e(30),B=e(31),H=e(69),r=e(70),J=e(10),z=e(11),V=e(18),q=e(9),E=e(23),N=e(16),I=e(38),$=e(71),x=e(72),ee=e(32),U=e(7),O=e(13),X=x.f,fe=U.f,le=$.f,G=s.Symbol,ce=s.JSON,Q=ce&&ce.stringify,he=T("_hidden"),ve=T("toPrimitive"),Me={}.propertyIsEnumerable,xe=j("symbol-registry"),Ce=j("symbols"),be=j("op-symbols"),ge=Object.prototype,Re=typeof G=="function"&&!!ee.f,$e=s.QObject,Ge=!$e||!$e.prototype||!$e.prototype.findChild,Ye=n&&v(function(){return I(fe({},"a",{get:function(){return fe(this,"a",{value:7}).a}})).a!=7})?function(_,F,D){var W=X(ge,F);W&&delete ge[F],fe(_,F,D),W&&_!==ge&&fe(ge,F,W)}:fe,Ze=function(_){var F=Ce[_]=I(G.prototype);return F._k=_,F},Xe=Re&&typeof G.iterator=="symbol"?function(_){return typeof _=="symbol"}:function(_){return _ instanceof G},We=function(_,F,D){return _===ge&&We(be,F,D),J(_),F=E(F,!0),J(D),l(Ce,F)?(D.enumerable?(l(_,he)&&_[he][F]&&(_[he][F]=!1),D=I(D,{enumerable:N(0,!1)})):(l(_,he)||fe(_,he,N(1,{})),_[he][F]=!0),Ye(_,F,D)):fe(_,F,D)},rt=function(_,F){J(_);for(var D,W=H(F=q(F)),ae=0,te=W.length;te>ae;)We(_,D=W[ae++],F[D]);return _},at=function(_){var F=Me.call(this,_=E(_,!0));return!(this===ge&&l(Ce,_)&&!l(be,_))&&(!(F||!l(this,_)||!l(Ce,_)||l(this,he)&&this[he][_])||F)},Qe=function(_,F){if(_=q(_),F=E(F,!0),_!==ge||!l(Ce,F)||l(be,F)){var D=X(_,F);return!D||!l(Ce,F)||l(_,he)&&_[he][F]||(D.enumerable=!0),D}},nt=function(_){for(var F,D=le(q(_)),W=[],ae=0;D.length>ae;)l(Ce,F=D[ae++])||F==he||F==m||W.push(F);return W},Ke=function(_){for(var F,D=_===ge,W=le(D?be:q(_)),ae=[],te=0;W.length>te;)!l(Ce,F=W[te++])||D&&!l(ge,F)||ae.push(Ce[F]);return ae};Re||(u((G=function(){if(this instanceof G)throw TypeError("Symbol is not a constructor!");var _=P(arguments.length>0?arguments[0]:void 0),F=function(D){this===ge&&F.call(be,D),l(this,he)&&l(this[he],_)&&(this[he][_]=!1),Ye(this,_,N(1,D))};return n&&Ge&&Ye(ge,_,{configurable:!0,set:F}),Ze(_)}).prototype,"toString",function(){return this._k}),x.f=Qe,U.f=We,e(41).f=$.f=nt,e(19).f=at,ee.f=Ke,n&&!e(14)&&u(ge,"propertyIsEnumerable",at,!0),Y.f=function(_){return Ze(T(_))}),i(i.G+i.W+i.F*!Re,{Symbol:G});for(var Te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Se=0;Te.length>Se;)T(Te[Se++]);for(var et=O(T.store),M=0;et.length>M;)B(et[M++]);i(i.S+i.F*!Re,"Symbol",{for:function(_){return l(xe,_+="")?xe[_]:xe[_]=G(_)},keyFor:function(_){if(!Xe(_))throw TypeError(_+" is not a symbol!");for(var F in xe)if(xe[F]===_)return F},useSetter:function(){Ge=!0},useSimple:function(){Ge=!1}}),i(i.S+i.F*!Re,"Object",{create:function(_,F){return F===void 0?I(_):rt(I(_),F)},defineProperty:We,defineProperties:rt,getOwnPropertyDescriptor:Qe,getOwnPropertyNames:nt,getOwnPropertySymbols:Ke});var w=v(function(){ee.f(1)});i(i.S+i.F*w,"Object",{getOwnPropertySymbols:function(_){return ee.f(V(_))}}),ce&&i(i.S+i.F*(!Re||v(function(){var _=G();return Q([_])!="[null]"||Q({a:_})!="{}"||Q(Object(_))!="{}"})),"JSON",{stringify:function(_){for(var F,D,W=[_],ae=1;arguments.length>ae;)W.push(arguments[ae++]);if(D=F=W[1],(z(F)||_!==void 0)&&!Xe(_))return r(F)||(F=function(te,ue){if(typeof D=="function"&&(ue=D.call(this,te,ue)),!Xe(ue))return ue}),W[1]=F,Q.apply(ce,W)}}),G.prototype[ve]||e(6)(G.prototype,ve,G.prototype.valueOf),S(G,"Symbol"),S(Math,"Math",!0),S(s.JSON,"JSON",!0)},function(o,t,e){var s=e(17)("meta"),l=e(11),n=e(5),i=e(7).f,u=0,m=Object.isExtensible||function(){return!0},v=!e(8)(function(){return m(Object.preventExtensions({}))}),j=function(P){i(P,s,{value:{i:"O"+ ++u,w:{}}})},S=o.exports={KEY:s,NEED:!1,fastKey:function(P,T){if(!l(P))return typeof P=="symbol"?P:(typeof P=="string"?"S":"P")+P;if(!n(P,s)){if(!m(P))return"F";if(!T)return"E";j(P)}return P[s].i},getWeak:function(P,T){if(!n(P,s)){if(!m(P))return!0;if(!T)return!1;j(P)}return P[s].w},onFreeze:function(P){return v&&S.NEED&&m(P)&&!n(P,s)&&j(P),P}}},function(o,t,e){var s=e(13),l=e(32),n=e(19);o.exports=function(i){var u=s(i),m=l.f;if(m)for(var v,j=m(i),S=n.f,P=0;j.length>P;)S.call(i,v=j[P++])&&u.push(v);return u}},function(o,t,e){var s=e(24);o.exports=Array.isArray||function(l){return s(l)=="Array"}},function(o,t,e){var s=e(9),l=e(41).f,n={}.toString,i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];o.exports.f=function(u){return i&&n.call(u)=="[object Window]"?function(m){try{return l(m)}catch{return i.slice()}}(u):l(s(u))}},function(o,t,e){var s=e(19),l=e(16),n=e(9),i=e(23),u=e(5),m=e(35),v=Object.getOwnPropertyDescriptor;t.f=e(4)?v:function(j,S){if(j=n(j),S=i(S,!0),m)try{return v(j,S)}catch{}if(u(j,S))return l(!s.f.call(j,S),j[S])}},function(o,t){},function(o,t,e){e(31)("asyncIterator")},function(o,t,e){e(31)("observable")},function(o,t,e){t.__esModule=!0;var s,l=e(77),n=(s=l)&&s.__esModule?s:{default:s};t.default=n.default||function(i){for(var u=1;u<arguments.length;u++){var m=arguments[u];for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(i[v]=m[v])}return i}},function(o,t,e){o.exports={default:e(78),__esModule:!0}},function(o,t,e){e(79),o.exports=e(1).Object.assign},function(o,t,e){var s=e(15);s(s.S+s.F,"Object",{assign:e(80)})},function(o,t,e){var s=e(4),l=e(13),n=e(32),i=e(19),u=e(18),m=e(40),v=Object.assign;o.exports=!v||e(8)(function(){var j={},S={},P=Symbol(),T="abcdefghijklmnopqrst";return j[P]=7,T.split("").forEach(function(Y){S[Y]=Y}),v({},j)[P]!=7||Object.keys(v({},S)).join("")!=T})?function(j,S){for(var P=u(j),T=arguments.length,Y=1,B=n.f,H=i.f;T>Y;)for(var r,J=m(arguments[Y++]),z=B?l(J).concat(B(J)):l(J),V=z.length,q=0;V>q;)r=z[q++],s&&!H.call(J,r)||(P[r]=J[r]);return P}:v},function(o,t,e){t.__esModule=!0;var s=n(e(82)),l=n(e(85));function n(i){return i&&i.__esModule?i:{default:i}}t.default=function(i,u){if(Array.isArray(i))return i;if((0,s.default)(Object(i)))return function(m,v){var j=[],S=!0,P=!1,T=void 0;try{for(var Y,B=(0,l.default)(m);!(S=(Y=B.next()).done)&&(j.push(Y.value),!v||j.length!==v);S=!0);}catch(H){P=!0,T=H}finally{try{!S&&B.return&&B.return()}finally{if(P)throw T}}return j}(i,u);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(o,t,e){o.exports={default:e(83),__esModule:!0}},function(o,t,e){e(29),e(20),o.exports=e(84)},function(o,t,e){var s=e(42),l=e(2)("iterator"),n=e(12);o.exports=e(1).isIterable=function(i){var u=Object(i);return u[l]!==void 0||"@@iterator"in u||n.hasOwnProperty(s(u))}},function(o,t,e){o.exports={default:e(86),__esModule:!0}},function(o,t,e){e(29),e(20),o.exports=e(87)},function(o,t,e){var s=e(10),l=e(88);o.exports=e(1).getIterator=function(n){var i=l(n);if(typeof i!="function")throw TypeError(n+" is not iterable!");return s(i.call(n))}},function(o,t,e){var s=e(42),l=e(2)("iterator"),n=e(12);o.exports=e(1).getIteratorMethod=function(i){if(i!=null)return i[l]||i["@@iterator"]||n[s(i)]}},function(o,t,e){o.exports={default:e(90),__esModule:!0}},function(o,t,e){e(91),o.exports=e(1).Object.keys},function(o,t,e){var s=e(18),l=e(13);e(92)("keys",function(){return function(n){return l(s(n))}})},function(o,t,e){var s=e(15),l=e(1),n=e(8);o.exports=function(i,u){var m=(l.Object||{})[i]||Object[i],v={};v[i]=u(m),s(s.S+s.F*n(function(){m(1)}),"Object",v)}},function(o,t,e){(function(s){var l=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],n=/^\s+|\s+$/g,i=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,u=/\{\n\/\* \[wrapped with (.+)\] \*/,m=/,? & /,v=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,S=/^\[object .+?Constructor\]$/,P=/^0o[0-7]+$/i,T=/^(?:0|[1-9]\d*)$/,Y=parseInt,B=typeof s=="object"&&s&&s.Object===Object&&s,H=typeof self=="object"&&self&&self.Object===Object&&self,r=B||H||Function("return this")();function J(M,w,_){switch(_.length){case 0:return M.call(w);case 1:return M.call(w,_[0]);case 2:return M.call(w,_[0],_[1]);case 3:return M.call(w,_[0],_[1],_[2])}return M.apply(w,_)}function z(M,w){return!!(M&&M.length)&&function(_,F,D){if(F!=F)return function(te,ue,we,_e){for(var Ae=te.length,ye=we+-1;++ye<Ae;)if(ue(te[ye],ye,te))return ye;return-1}(_,V,D);for(var W=D-1,ae=_.length;++W<ae;)if(_[W]===F)return W;return-1}(M,w,0)>-1}function V(M){return M!=M}function q(M,w){for(var _=M.length,F=0;_--;)M[_]===w&&F++;return F}function E(M,w){for(var _=-1,F=M.length,D=0,W=[];++_<F;){var ae=M[_];ae!==w&&ae!=="__lodash_placeholder__"||(M[_]="__lodash_placeholder__",W[D++]=_)}return W}var N,I,$,x=Function.prototype,ee=Object.prototype,U=r["__core-js_shared__"],O=(N=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",X=x.toString,fe=ee.hasOwnProperty,le=ee.toString,G=RegExp("^"+X.call(fe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=Object.create,Q=Math.max,he=Math.min,ve=(I=Ze(Object,"defineProperty"),($=Ze.name)&&$.length>2?I:void 0);function Me(M){return Te(M)?ce(M):{}}function xe(M){return!(!Te(M)||function(w){return!!O&&O in w}(M))&&(function(w){var _=Te(w)?le.call(w):"";return _=="[object Function]"||_=="[object GeneratorFunction]"}(M)||function(w){var _=!1;if(w!=null&&typeof w.toString!="function")try{_=!!(w+"")}catch{}return _}(M)?G:S).test(function(w){if(w!=null){try{return X.call(w)}catch{}try{return w+""}catch{}}return""}(M))}function Ce(M,w,_,F){for(var D=-1,W=M.length,ae=_.length,te=-1,ue=w.length,we=Q(W-ae,0),_e=Array(ue+we),Ae=!F;++te<ue;)_e[te]=w[te];for(;++D<ae;)(Ae||D<W)&&(_e[_[D]]=M[D]);for(;we--;)_e[te++]=M[D++];return _e}function be(M,w,_,F){for(var D=-1,W=M.length,ae=-1,te=_.length,ue=-1,we=w.length,_e=Q(W-te,0),Ae=Array(_e+we),ye=!F;++D<_e;)Ae[D]=M[D];for(var Pe=D;++ue<we;)Ae[Pe+ue]=w[ue];for(;++ae<te;)(ye||D<W)&&(Ae[Pe+_[ae]]=M[D++]);return Ae}function ge(M){return function(){var w=arguments;switch(w.length){case 0:return new M;case 1:return new M(w[0]);case 2:return new M(w[0],w[1]);case 3:return new M(w[0],w[1],w[2]);case 4:return new M(w[0],w[1],w[2],w[3]);case 5:return new M(w[0],w[1],w[2],w[3],w[4]);case 6:return new M(w[0],w[1],w[2],w[3],w[4],w[5]);case 7:return new M(w[0],w[1],w[2],w[3],w[4],w[5],w[6])}var _=Me(M.prototype),F=M.apply(_,w);return Te(F)?F:_}}function Re(M,w,_,F,D,W,ae,te,ue,we){var _e=128&w,Ae=1&w,ye=2&w,Pe=24&w,Ie=512&w,Ve=ye?void 0:ge(M);return function De(){for(var je=arguments.length,oe=Array(je),Oe=je;Oe--;)oe[Oe]=arguments[Oe];if(Pe)var Fe=Ye(De),qe=q(oe,Fe);if(F&&(oe=Ce(oe,F,D,Pe)),W&&(oe=be(oe,W,ae,Pe)),je-=qe,Pe&&je<we){var Be=E(oe,Fe);return $e(M,w,Re,De.placeholder,_,oe,Be,te,ue,we-je)}var Le=Ae?_:this,ze=ye?Le[M]:M;return je=oe.length,te?oe=at(oe,te):Ie&&je>1&&oe.reverse(),_e&&ue<je&&(oe.length=ue),this&&this!==r&&this instanceof De&&(ze=Ve||ge(ze)),ze.apply(Le,oe)}}function $e(M,w,_,F,D,W,ae,te,ue,we){var _e=8&w;w|=_e?32:64,4&(w&=~(_e?64:32))||(w&=-4);var Ae=_(M,w,D,_e?W:void 0,_e?ae:void 0,_e?void 0:W,_e?void 0:ae,te,ue,we);return Ae.placeholder=F,Qe(Ae,M,w)}function Ge(M,w,_,F,D,W,ae,te){var ue=2&w;if(!ue&&typeof M!="function")throw new TypeError("Expected a function");var we=F?F.length:0;if(we||(w&=-97,F=D=void 0),ae=ae===void 0?ae:Q(et(ae),0),te=te===void 0?te:et(te),we-=D?D.length:0,64&w){var _e=F,Ae=D;F=D=void 0}var ye=[M,w,_,F,D,_e,Ae,W,ae,te];if(M=ye[0],w=ye[1],_=ye[2],F=ye[3],D=ye[4],!(te=ye[9]=ye[9]==null?ue?0:M.length:Q(ye[9]-we,0))&&24&w&&(w&=-25),w&&w!=1)Pe=w==8||w==16?function(Ie,Ve,De){var je=ge(Ie);return function oe(){for(var Oe=arguments.length,Fe=Array(Oe),qe=Oe,Be=Ye(oe);qe--;)Fe[qe]=arguments[qe];var Le=Oe<3&&Fe[0]!==Be&&Fe[Oe-1]!==Be?[]:E(Fe,Be);if((Oe-=Le.length)<De)return $e(Ie,Ve,Re,oe.placeholder,void 0,Fe,Le,void 0,void 0,De-Oe);var ze=this&&this!==r&&this instanceof oe?je:Ie;return J(ze,this,Fe)}}(M,w,te):w!=32&&w!=33||D.length?Re.apply(void 0,ye):function(Ie,Ve,De,je){var oe=1&Ve,Oe=ge(Ie);return function Fe(){for(var qe=-1,Be=arguments.length,Le=-1,ze=je.length,ot=Array(ze+Be),dt=this&&this!==r&&this instanceof Fe?Oe:Ie;++Le<ze;)ot[Le]=je[Le];for(;Be--;)ot[Le++]=arguments[++qe];return J(dt,oe?De:this,ot)}}(M,w,_,F);else var Pe=function(Ie,Ve,De){var je=1&Ve,oe=ge(Ie);return function Oe(){var Fe=this&&this!==r&&this instanceof Oe?oe:Ie;return Fe.apply(je?De:this,arguments)}}(M,w,_);return Qe(Pe,M,w)}function Ye(M){return M.placeholder}function Ze(M,w){var _=function(F,D){return F==null?void 0:F[D]}(M,w);return xe(_)?_:void 0}function Xe(M){var w=M.match(u);return w?w[1].split(m):[]}function We(M,w){var _=w.length,F=_-1;return w[F]=(_>1?"& ":"")+w[F],w=w.join(_>2?", ":" "),M.replace(i,`{
/* [wrapped with `+w+`] */
`)}function rt(M,w){return!!(w=w??9007199254740991)&&(typeof M=="number"||T.test(M))&&M>-1&&M%1==0&&M<w}function at(M,w){for(var _=M.length,F=he(w.length,_),D=function(ae,te){var ue=-1,we=ae.length;for(te||(te=Array(we));++ue<we;)te[ue]=ae[ue];return te}(M);F--;){var W=w[F];M[F]=rt(W,_)?D[W]:void 0}return M}var Qe=ve?function(M,w,_){var F,D=w+"";return ve(M,"toString",{configurable:!0,enumerable:!1,value:(F=We(D,nt(Xe(D),_)),function(){return F})})}:function(M){return M};function nt(M,w){return function(_,F){for(var D=-1,W=_?_.length:0;++D<W&&F(_[D],D,_)!==!1;);}(l,function(_){var F="_."+_[0];w&_[1]&&!z(M,F)&&M.push(F)}),M.sort()}function Ke(M,w,_){var F=Ge(M,8,void 0,void 0,void 0,void 0,void 0,w=_?void 0:w);return F.placeholder=Ke.placeholder,F}function Te(M){var w=typeof M;return!!M&&(w=="object"||w=="function")}function Se(M){return M?(M=function(w){if(typeof w=="number")return w;if(function(D){return typeof D=="symbol"||function(W){return!!W&&typeof W=="object"}(D)&&le.call(D)=="[object Symbol]"}(w))return NaN;if(Te(w)){var _=typeof w.valueOf=="function"?w.valueOf():w;w=Te(_)?_+"":_}if(typeof w!="string")return w===0?w:+w;w=w.replace(n,"");var F=j.test(w);return F||P.test(w)?Y(w.slice(2),F?2:8):v.test(w)?NaN:+w}(M))===1/0||M===-1/0?17976931348623157e292*(M<0?-1:1):M==M?M:0:M===0?M:0}function et(M){var w=Se(M),_=w%1;return w==w?_?w-_:w:0}Ke.placeholder={},o.exports=Ke}).call(this,e(43))},function(o,t,e){function s(be){return be&&be.__esModule?be.default:be}t.__esModule=!0;var l=e(95);t.threezerotwofour=s(l);var n=e(96);t.apathy=s(n);var i=e(97);t.ashes=s(i);var u=e(98);t.atelierDune=s(u);var m=e(99);t.atelierForest=s(m);var v=e(100);t.atelierHeath=s(v);var j=e(101);t.atelierLakeside=s(j);var S=e(102);t.atelierSeaside=s(S);var P=e(103);t.bespin=s(P);var T=e(104);t.brewer=s(T);var Y=e(105);t.bright=s(Y);var B=e(106);t.chalk=s(B);var H=e(107);t.codeschool=s(H);var r=e(108);t.colors=s(r);var J=e(109);t.default=s(J);var z=e(110);t.eighties=s(z);var V=e(111);t.embers=s(V);var q=e(112);t.flat=s(q);var E=e(113);t.google=s(E);var N=e(114);t.grayscale=s(N);var I=e(115);t.greenscreen=s(I);var $=e(116);t.harmonic=s($);var x=e(117);t.hopscotch=s(x);var ee=e(118);t.isotope=s(ee);var U=e(119);t.marrakesh=s(U);var O=e(120);t.mocha=s(O);var X=e(121);t.monokai=s(X);var fe=e(122);t.ocean=s(fe);var le=e(123);t.paraiso=s(le);var G=e(124);t.pop=s(G);var ce=e(125);t.railscasts=s(ce);var Q=e(126);t.shapeshifter=s(Q);var he=e(127);t.solarized=s(he);var ve=e(128);t.summerfruit=s(ve);var Me=e(129);t.tomorrow=s(Me);var xe=e(130);t.tube=s(xe);var Ce=e(131);t.twilight=s(Ce)},function(o,t,e){t.__esModule=!0,t.default={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"brewer",author:"timothée poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"},o.exports=t.default},function(o,t,e){t.__esModule=!0,t.default={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"},o.exports=t.default},function(o,t,e){var s=e(33);function l(n){var i=Math.round(s(n,0,255)).toString(16);return i.length==1?"0"+i:i}o.exports=function(n){var i=n.length===4?l(255*n[3]):"";return"#"+l(n[0])+l(n[1])+l(n[2])+i}},function(o,t,e){var s=e(134),l=e(135),n=e(136),i=e(137),u={"#":l,hsl:function(v){var j=s(v),S=i(j);return j.length===4&&S.push(j[3]),S},rgb:n};function m(v){for(var j in u)if(v.indexOf(j)===0)return u[j](v)}m.rgb=n,m.hsl=s,m.hex=l,o.exports=m},function(o,t,e){var s=e(44),l=e(33);function n(i,u){switch(i=parseFloat(i),u){case 0:return l(i,0,360);case 1:case 2:return l(i,0,100);case 3:return l(i,0,1)}}o.exports=function(i){return s(i).map(n)}},function(o,t){o.exports=function(e){e.length!==4&&e.length!==5||(e=function(n){for(var i="#",u=1;u<n.length;u++){var m=n.charAt(u);i+=m+m}return i}(e));var s=[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)];if(e.length===9){var l=parseFloat((parseInt(e.substring(7,9),16)/255).toFixed(2));s.push(l)}return s}},function(o,t,e){var s=e(44),l=e(33);function n(i,u){return u<3?i.indexOf("%")!=-1?Math.round(255*l(parseInt(i,10),0,100)/100):l(parseInt(i,10),0,255):l(parseFloat(i),0,1)}o.exports=function(i){return s(i).map(n)}},function(o,t){o.exports=function(e){var s,l,n,i,u,m=e[0]/360,v=e[1]/100,j=e[2]/100;if(v==0)return[u=255*j,u,u];s=2*j-(l=j<.5?j*(1+v):j+v-j*v),i=[0,0,0];for(var S=0;S<3;S++)(n=m+1/3*-(S-1))<0&&n++,n>1&&n--,u=6*n<1?s+6*(l-s)*n:2*n<1?l:3*n<2?s+(l-s)*(2/3-n)*6:s,i[S]=255*u;return i}},function(o,t,e){(function(s){var l=typeof s=="object"&&s&&s.Object===Object&&s,n=typeof self=="object"&&self&&self.Object===Object&&self,i=l||n||Function("return this")();function u(E,N,I){switch(I.length){case 0:return E.call(N);case 1:return E.call(N,I[0]);case 2:return E.call(N,I[0],I[1]);case 3:return E.call(N,I[0],I[1],I[2])}return E.apply(N,I)}function m(E,N){for(var I=-1,$=N.length,x=E.length;++I<$;)E[x+I]=N[I];return E}var v=Object.prototype,j=v.hasOwnProperty,S=v.toString,P=i.Symbol,T=v.propertyIsEnumerable,Y=P?P.isConcatSpreadable:void 0,B=Math.max;function H(E){return r(E)||function(N){return function(I){return function($){return!!$&&typeof $=="object"}(I)&&function($){return $!=null&&function(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=9007199254740991}($.length)&&!function(x){var ee=function(U){var O=typeof U;return!!U&&(O=="object"||O=="function")}(x)?S.call(x):"";return ee=="[object Function]"||ee=="[object GeneratorFunction]"}($)}(I)}(N)&&j.call(N,"callee")&&(!T.call(N,"callee")||S.call(N)=="[object Arguments]")}(E)||!!(Y&&E&&E[Y])}var r=Array.isArray,J,z,V,q=(z=function(E){var N=(E=function(x,ee,U,O,X){var fe=-1,le=x.length;for(U||(U=H),X||(X=[]);++fe<le;){var G=x[fe];U(G)?m(X,G):X[X.length]=G}return X}(E)).length,I=N;for(J;I--;)if(typeof E[I]!="function")throw new TypeError("Expected a function");return function(){for(var $=0,x=N?E[$].apply(this,arguments):arguments[0];++$<N;)x=E[$].call(this,x);return x}},V=B(V===void 0?z.length-1:V,0),function(){for(var E=arguments,N=-1,I=B(E.length-V,0),$=Array(I);++N<I;)$[N]=E[V+N];N=-1;for(var x=Array(V+1);++N<V;)x[N]=E[N];return x[V]=$,u(z,this,x)});o.exports=q}).call(this,e(43))},function(o,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.yuv2rgb=function(s){var l,n,i,u=s[0],m=s[1],v=s[2];return l=1*u+0*m+1.13983*v,n=1*u+-.39465*m+-.5806*v,i=1*u+2.02311*m+0*v,l=Math.min(Math.max(0,l),1),n=Math.min(Math.max(0,n),1),i=Math.min(Math.max(0,i),1),[255*l,255*n,255*i]},t.rgb2yuv=function(s){var l=s[0]/255,n=s[1]/255,i=s[2]/255;return[.299*l+.587*n+.114*i,-.14713*l+-.28886*n+.436*i,.615*l+-.51499*n+-.10001*i]}},function(o,t,e){function s(i,u,m){return u in i?Object.defineProperty(i,u,{value:m,enumerable:!0,configurable:!0,writable:!0}):i[u]=m,i}var l=e(141),n=function(){function i(){s(this,"_callbacks",void 0),s(this,"_isDispatching",void 0),s(this,"_isHandled",void 0),s(this,"_isPending",void 0),s(this,"_lastID",void 0),s(this,"_pendingPayload",void 0),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}var u=i.prototype;return u.register=function(m){var v="ID_"+this._lastID++;return this._callbacks[v]=m,v},u.unregister=function(m){this._callbacks[m]||l(!1),delete this._callbacks[m]},u.waitFor=function(m){this._isDispatching||l(!1);for(var v=0;v<m.length;v++){var j=m[v];this._isPending[j]?this._isHandled[j]||l(!1):(this._callbacks[j]||l(!1),this._invokeCallback(j))}},u.dispatch=function(m){this._isDispatching&&l(!1),this._startDispatching(m);try{for(var v in this._callbacks)this._isPending[v]||this._invokeCallback(v)}finally{this._stopDispatching()}},u.isDispatching=function(){return this._isDispatching},u._invokeCallback=function(m){this._isPending[m]=!0,this._callbacks[m](this._pendingPayload),this._isHandled[m]=!0},u._startDispatching=function(m){for(var v in this._callbacks)this._isPending[v]=!1,this._isHandled[v]=!1;this._pendingPayload=m,this._isDispatching=!0},u._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},i}();o.exports=n},function(o,t,e){o.exports=function(s,l){for(var n=arguments.length,i=new Array(n>2?n-2:0),u=2;u<n;u++)i[u-2]=arguments[u];if(!s){var m;if(l===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=0;(m=new Error(l.replace(/%s/g,function(){return String(i[v++])}))).name="Invariant Violation"}throw m.framesToPop=1,m}}},function(o,t,e){function s(p,b,a){return b in p?Object.defineProperty(p,b,{value:a,enumerable:!0,configurable:!0,writable:!0}):p[b]=a,p}function l(p,b){var a=Object.keys(p);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(p);b&&(c=c.filter(function(d){return Object.getOwnPropertyDescriptor(p,d).enumerable})),a.push.apply(a,c)}return a}function n(p){for(var b=1;b<arguments.length;b++){var a=arguments[b]!=null?arguments[b]:{};b%2?l(Object(a),!0).forEach(function(c){s(p,c,a[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(c){Object.defineProperty(p,c,Object.getOwnPropertyDescriptor(a,c))})}return p}function i(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function u(p,b){for(var a=0;a<b.length;a++){var c=b[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(p,c.key,c)}}function m(p,b,a){return b&&u(p.prototype,b),a&&u(p,a),p}function v(p,b){return(v=Object.setPrototypeOf||function(a,c){return a.__proto__=c,a})(p,b)}function j(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(b&&b.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),b&&v(p,b)}function S(p){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(p)}function P(p){return(P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}function T(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function Y(p,b){return!b||P(b)!=="object"&&typeof b!="function"?T(p):b}function B(p){var b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var a,c=S(p);if(b){var d=S(this).constructor;a=Reflect.construct(c,arguments,d)}else a=c.apply(this,arguments);return Y(this,a)}}e.r(t);var H=e(0),r=e.n(H);function J(){var p=this.constructor.getDerivedStateFromProps(this.props,this.state);p!=null&&this.setState(p)}function z(p){this.setState((function(b){var a=this.constructor.getDerivedStateFromProps(p,b);return a??null}).bind(this))}function V(p,b){try{var a=this.props,c=this.state;this.props=p,this.state=b,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(a,c)}finally{this.props=a,this.state=c}}function q(p){var b=p.prototype;if(!b||!b.isReactComponent)throw new Error("Can only polyfill class components");if(typeof p.getDerivedStateFromProps!="function"&&typeof b.getSnapshotBeforeUpdate!="function")return p;var a=null,c=null,d=null;if(typeof b.componentWillMount=="function"?a="componentWillMount":typeof b.UNSAFE_componentWillMount=="function"&&(a="UNSAFE_componentWillMount"),typeof b.componentWillReceiveProps=="function"?c="componentWillReceiveProps":typeof b.UNSAFE_componentWillReceiveProps=="function"&&(c="UNSAFE_componentWillReceiveProps"),typeof b.componentWillUpdate=="function"?d="componentWillUpdate":typeof b.UNSAFE_componentWillUpdate=="function"&&(d="UNSAFE_componentWillUpdate"),a!==null||c!==null||d!==null){var g=p.displayName||p.name,A=typeof p.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+g+" uses "+A+" but also contains the following legacy lifecycles:"+(a!==null?`
  `+a:"")+(c!==null?`
  `+c:"")+(d!==null?`
  `+d:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof p.getDerivedStateFromProps=="function"&&(b.componentWillMount=J,b.componentWillReceiveProps=z),typeof b.getSnapshotBeforeUpdate=="function"){if(typeof b.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");b.componentWillUpdate=V;var C=b.componentDidUpdate;b.componentDidUpdate=function(y,R,K){var ne=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:K;C.call(this,y,R,ne)}}return p}function E(p,b){if(p==null)return{};var a,c,d=function(A,C){if(A==null)return{};var y,R,K={},ne=Object.keys(A);for(R=0;R<ne.length;R++)y=ne[R],C.indexOf(y)>=0||(K[y]=A[y]);return K}(p,b);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(p);for(c=0;c<g.length;c++)a=g[c],b.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(p,a)&&(d[a]=p[a])}return d}function N(p){var b=function(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}(p);return b==="number"&&(b=isNaN(p)?"nan":(0|p)!=p?"float":"integer"),b}J.__suppressDeprecationWarning=!0,z.__suppressDeprecationWarning=!0,V.__suppressDeprecationWarning=!0;var I={scheme:"rjv-default",author:"mac gainor",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#dc322f",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},$={scheme:"rjv-grey",author:"mac gainor",base00:"rgba(1, 1, 1, 0)",base01:"rgba(1, 1, 1, 0.1)",base02:"rgba(0, 0, 0, 0.2)",base03:"rgba(1, 1, 1, 0.3)",base04:"rgba(0, 0, 0, 0.4)",base05:"rgba(1, 1, 1, 0.5)",base06:"rgba(1, 1, 1, 0.6)",base07:"rgba(1, 1, 1, 0.7)",base08:"rgba(1, 1, 1, 0.8)",base09:"rgba(1, 1, 1, 0.8)",base0A:"rgba(1, 1, 1, 0.8)",base0B:"rgba(1, 1, 1, 0.8)",base0C:"rgba(1, 1, 1, 0.8)",base0D:"rgba(1, 1, 1, 0.8)",base0E:"rgba(1, 1, 1, 0.8)",base0F:"rgba(1, 1, 1, 0.8)"},x={globalFontFamily:"monospace",globalCursor:"default",braceFontWeight:"bold",braceCursor:"pointer",ellipsisFontSize:"18px",ellipsisLineHeight:"10px",ellipsisCursor:"pointer",keyMargin:"0px 5px",keyLetterSpacing:"0.5px",keyFontStyle:"none",keyVerticalAlign:"top",keyOpacity:"0.85",keyOpacityHover:"1",keyValPaddingTop:"3px",keyValPaddingBottom:"3px",keyValPaddingRight:"5px",keyValBorderLeft:"1px solid",keyValBorderHover:"2px solid",pushedContentMarginLeft:"6px",variableValuePaddingRight:"6px",nullFontSize:"11px",nullFontWeight:"bold",nullPadding:"1px 2px",nullBorderRadius:"3px",nanFontSize:"11px",nanFontWeight:"bold",nanPadding:"1px 2px",nanBorderRadius:"3px",undefinedFontSize:"11px",undefinedPadding:"1px 2px",undefinedBorderRadius:"3px",dataTypeFontSize:"11px",dataTypeMarginRight:"4px",datatypeOpacity:"0.8",objectSizeBorderRadius:"3px",objectSizeFontStyle:"italic",objectSizeMargin:"0px 6px 0px 0px",clipboardCursor:"pointer",clipboardCheckMarginLeft:"-12px",metaDataPadding:"0px 0px 0px 10px",arrayGroupMetaPadding:"0px 0px 0px 4px",iconContainerWidth:"17px",tooltipPadding:"4px",editInputMinWidth:"130px",editInputBorderRadius:"2px",editInputPadding:"5px",editInputMarginRight:"4px",editInputFontFamily:"monospace",iconCursor:"pointer",iconFontSize:"15px",iconPaddingRight:"1px",dateValueMarginLeft:"2px",iconMarginRight:"3px",detectedRowPaddingTop:"3px",addKeyCoverBackground:"rgba(255, 255, 255, 0.3)",addKeyCoverPosition:"absolute",addKeyCoverPositionPx:"0px",addKeyModalWidth:"200px",addKeyModalMargin:"auto",addKeyModalPadding:"10px",addKeyModalRadius:"3px"},ee=e(45),U=function(p){var b=function(a){return{backgroundColor:a.base00,ellipsisColor:a.base09,braceColor:a.base07,expandedIcon:a.base0D,collapsedIcon:a.base0E,keyColor:a.base07,arrayKeyColor:a.base0C,objectSize:a.base04,copyToClipboard:a.base0F,copyToClipboardCheck:a.base0D,objectBorder:a.base02,dataTypes:{boolean:a.base0E,date:a.base0D,float:a.base0B,function:a.base0D,integer:a.base0F,string:a.base09,nan:a.base08,null:a.base0A,undefined:a.base05,regexp:a.base0A,background:a.base02},editVariable:{editIcon:a.base0E,cancelIcon:a.base09,removeIcon:a.base09,addIcon:a.base0E,checkIcon:a.base0E,background:a.base01,color:a.base0A,border:a.base07},addKeyModal:{background:a.base05,border:a.base04,color:a.base0A,labelColor:a.base01},validationFailure:{background:a.base09,iconColor:a.base01,fontColor:a.base01}}}(p);return{"app-container":{fontFamily:x.globalFontFamily,cursor:x.globalCursor,backgroundColor:b.backgroundColor,position:"relative"},ellipsis:{display:"inline-block",color:b.ellipsisColor,fontSize:x.ellipsisFontSize,lineHeight:x.ellipsisLineHeight,cursor:x.ellipsisCursor},"brace-row":{display:"inline-block",cursor:"pointer"},brace:{display:"inline-block",cursor:x.braceCursor,fontWeight:x.braceFontWeight,color:b.braceColor},"expanded-icon":{color:b.expandedIcon},"collapsed-icon":{color:b.collapsedIcon},colon:{display:"inline-block",margin:x.keyMargin,color:b.keyColor,verticalAlign:"top"},objectKeyVal:function(a,c){return{style:n({paddingTop:x.keyValPaddingTop,paddingRight:x.keyValPaddingRight,paddingBottom:x.keyValPaddingBottom,borderLeft:x.keyValBorderLeft+" "+b.objectBorder,":hover":{paddingLeft:c.paddingLeft-1+"px",borderLeft:x.keyValBorderHover+" "+b.objectBorder}},c)}},"object-key-val-no-border":{padding:x.keyValPadding},"pushed-content":{marginLeft:x.pushedContentMarginLeft},variableValue:function(a,c){return{style:n({display:"inline-block",paddingRight:x.variableValuePaddingRight,position:"relative"},c)}},"object-name":{display:"inline-block",color:b.keyColor,letterSpacing:x.keyLetterSpacing,fontStyle:x.keyFontStyle,verticalAlign:x.keyVerticalAlign,opacity:x.keyOpacity,":hover":{opacity:x.keyOpacityHover}},"array-key":{display:"inline-block",color:b.arrayKeyColor,letterSpacing:x.keyLetterSpacing,fontStyle:x.keyFontStyle,verticalAlign:x.keyVerticalAlign,opacity:x.keyOpacity,":hover":{opacity:x.keyOpacityHover}},"object-size":{color:b.objectSize,borderRadius:x.objectSizeBorderRadius,fontStyle:x.objectSizeFontStyle,margin:x.objectSizeMargin,cursor:"default"},"data-type-label":{fontSize:x.dataTypeFontSize,marginRight:x.dataTypeMarginRight,opacity:x.datatypeOpacity},boolean:{display:"inline-block",color:b.dataTypes.boolean},date:{display:"inline-block",color:b.dataTypes.date},"date-value":{marginLeft:x.dateValueMarginLeft},float:{display:"inline-block",color:b.dataTypes.float},function:{display:"inline-block",color:b.dataTypes.function,cursor:"pointer",whiteSpace:"pre-line"},"function-value":{fontStyle:"italic"},integer:{display:"inline-block",color:b.dataTypes.integer},string:{display:"inline-block",color:b.dataTypes.string},nan:{display:"inline-block",color:b.dataTypes.nan,fontSize:x.nanFontSize,fontWeight:x.nanFontWeight,backgroundColor:b.dataTypes.background,padding:x.nanPadding,borderRadius:x.nanBorderRadius},null:{display:"inline-block",color:b.dataTypes.null,fontSize:x.nullFontSize,fontWeight:x.nullFontWeight,backgroundColor:b.dataTypes.background,padding:x.nullPadding,borderRadius:x.nullBorderRadius},undefined:{display:"inline-block",color:b.dataTypes.undefined,fontSize:x.undefinedFontSize,padding:x.undefinedPadding,borderRadius:x.undefinedBorderRadius,backgroundColor:b.dataTypes.background},regexp:{display:"inline-block",color:b.dataTypes.regexp},"copy-to-clipboard":{cursor:x.clipboardCursor},"copy-icon":{color:b.copyToClipboard,fontSize:x.iconFontSize,marginRight:x.iconMarginRight,verticalAlign:"top"},"copy-icon-copied":{color:b.copyToClipboardCheck,marginLeft:x.clipboardCheckMarginLeft},"array-group-meta-data":{display:"inline-block",padding:x.arrayGroupMetaPadding},"object-meta-data":{display:"inline-block",padding:x.metaDataPadding},"icon-container":{display:"inline-block",width:x.iconContainerWidth},tooltip:{padding:x.tooltipPadding},removeVarIcon:{verticalAlign:"top",display:"inline-block",color:b.editVariable.removeIcon,cursor:x.iconCursor,fontSize:x.iconFontSize,marginRight:x.iconMarginRight},addVarIcon:{verticalAlign:"top",display:"inline-block",color:b.editVariable.addIcon,cursor:x.iconCursor,fontSize:x.iconFontSize,marginRight:x.iconMarginRight},editVarIcon:{verticalAlign:"top",display:"inline-block",color:b.editVariable.editIcon,cursor:x.iconCursor,fontSize:x.iconFontSize,marginRight:x.iconMarginRight},"edit-icon-container":{display:"inline-block",verticalAlign:"top"},"check-icon":{display:"inline-block",cursor:x.iconCursor,color:b.editVariable.checkIcon,fontSize:x.iconFontSize,paddingRight:x.iconPaddingRight},"cancel-icon":{display:"inline-block",cursor:x.iconCursor,color:b.editVariable.cancelIcon,fontSize:x.iconFontSize,paddingRight:x.iconPaddingRight},"edit-input":{display:"inline-block",minWidth:x.editInputMinWidth,borderRadius:x.editInputBorderRadius,backgroundColor:b.editVariable.background,color:b.editVariable.color,padding:x.editInputPadding,marginRight:x.editInputMarginRight,fontFamily:x.editInputFontFamily},"detected-row":{paddingTop:x.detectedRowPaddingTop},"key-modal-request":{position:x.addKeyCoverPosition,top:x.addKeyCoverPositionPx,left:x.addKeyCoverPositionPx,right:x.addKeyCoverPositionPx,bottom:x.addKeyCoverPositionPx,backgroundColor:x.addKeyCoverBackground},"key-modal":{width:x.addKeyModalWidth,backgroundColor:b.addKeyModal.background,marginLeft:x.addKeyModalMargin,marginRight:x.addKeyModalMargin,padding:x.addKeyModalPadding,borderRadius:x.addKeyModalRadius,marginTop:"15px",position:"relative"},"key-modal-label":{color:b.addKeyModal.labelColor,marginLeft:"2px",marginBottom:"5px",fontSize:"11px"},"key-modal-input-container":{overflow:"hidden"},"key-modal-input":{width:"100%",padding:"3px 6px",fontFamily:"monospace",color:b.addKeyModal.color,border:"none",boxSizing:"border-box",borderRadius:"2px"},"key-modal-cancel":{backgroundColor:b.editVariable.removeIcon,position:"absolute",top:"0px",right:"0px",borderRadius:"0px 3px 0px 3px",cursor:"pointer"},"key-modal-cancel-icon":{color:b.addKeyModal.labelColor,fontSize:x.iconFontSize,transform:"rotate(45deg)"},"key-modal-submit":{color:b.editVariable.addIcon,fontSize:x.iconFontSize,position:"absolute",right:"2px",top:"3px",cursor:"pointer"},"function-ellipsis":{display:"inline-block",color:b.ellipsisColor,fontSize:x.ellipsisFontSize,lineHeight:x.ellipsisLineHeight,cursor:x.ellipsisCursor},"validation-failure":{float:"right",padding:"3px 6px",borderRadius:"2px",cursor:"pointer",color:b.validationFailure.fontColor,backgroundColor:b.validationFailure.background},"validation-failure-label":{marginRight:"6px"},"validation-failure-clear":{position:"relative",verticalAlign:"top",cursor:"pointer",color:b.validationFailure.iconColor,fontSize:x.iconFontSize,transform:"rotate(45deg)"}}};function O(p,b,a){return p||console.error("theme has not been set"),function(c){var d=I;return c!==!1&&c!=="none"||(d=$),Object(ee.createStyling)(U,{defaultBase16:d})(c)}(p)(b,a)}var X=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){var c=this.props,d=(c.rjvId,c.type_name),g=c.displayDataTypes,A=c.theme;return g?r.a.createElement("span",Object.assign({className:"data-type-label"},O(A,"data-type-label")),d):null}}]),a}(r.a.PureComponent),fe=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){var c=this.props;return r.a.createElement("div",O(c.theme,"boolean"),r.a.createElement(X,Object.assign({type_name:"bool"},c)),c.value?"true":"false")}}]),a}(r.a.PureComponent),le=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){var c=this.props;return r.a.createElement("div",O(c.theme,"date"),r.a.createElement(X,Object.assign({type_name:"date"},c)),r.a.createElement("span",Object.assign({className:"date-value"},O(c.theme,"date-value")),c.value.toLocaleTimeString("en-us",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})))}}]),a}(r.a.PureComponent),G=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){var c=this.props;return r.a.createElement("div",O(c.theme,"float"),r.a.createElement(X,Object.assign({type_name:"float"},c)),this.props.value)}}]),a}(r.a.PureComponent);function ce(p,b){(b==null||b>p.length)&&(b=p.length);for(var a=0,c=new Array(b);a<b;a++)c[a]=p[a];return c}function Q(p,b){if(p){if(typeof p=="string")return ce(p,b);var a=Object.prototype.toString.call(p).slice(8,-1);return a==="Object"&&p.constructor&&(a=p.constructor.name),a==="Map"||a==="Set"?Array.from(p):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ce(p,b):void 0}}function he(p,b){var a;if(typeof Symbol>"u"||p[Symbol.iterator]==null){if(Array.isArray(p)||(a=Q(p))||b){a&&(p=a);var c=0,d=function(){};return{s:d,n:function(){return c>=p.length?{done:!0}:{done:!1,value:p[c++]}},e:function(y){throw y},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,A=!0,C=!1;return{s:function(){a=p[Symbol.iterator]()},n:function(){var y=a.next();return A=y.done,y},e:function(y){C=!0,g=y},f:function(){try{A||a.return==null||a.return()}finally{if(C)throw g}}}}function ve(p){return function(b){if(Array.isArray(b))return ce(b)}(p)||function(b){if(typeof Symbol<"u"&&Symbol.iterator in Object(b))return Array.from(b)}(p)||Q(p)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var Me=e(46),xe=new(e(47)).Dispatcher,Ce=new(function(p){j(a,p);var b=B(a);function a(){var c;i(this,a);for(var d=arguments.length,g=new Array(d),A=0;A<d;A++)g[A]=arguments[A];return(c=b.call.apply(b,[this].concat(g))).objects={},c.set=function(C,y,R,K){c.objects[C]===void 0&&(c.objects[C]={}),c.objects[C][y]===void 0&&(c.objects[C][y]={}),c.objects[C][y][R]=K},c.get=function(C,y,R,K){return c.objects[C]===void 0||c.objects[C][y]===void 0||c.objects[C][y][R]==null?K:c.objects[C][y][R]},c.handleAction=function(C){var y=C.rjvId,R=C.data;switch(C.name){case"RESET":c.emit("reset-"+y);break;case"VARIABLE_UPDATED":C.data.updated_src=c.updateSrc(y,R),c.set(y,"action","variable-update",n(n({},R),{},{type:"variable-edited"})),c.emit("variable-update-"+y);break;case"VARIABLE_REMOVED":C.data.updated_src=c.updateSrc(y,R),c.set(y,"action","variable-update",n(n({},R),{},{type:"variable-removed"})),c.emit("variable-update-"+y);break;case"VARIABLE_ADDED":C.data.updated_src=c.updateSrc(y,R),c.set(y,"action","variable-update",n(n({},R),{},{type:"variable-added"})),c.emit("variable-update-"+y);break;case"ADD_VARIABLE_KEY_REQUEST":c.set(y,"action","new-key-request",R),c.emit("add-key-request-"+y)}},c.updateSrc=function(C,y){var R=y.name,K=y.namespace,ne=y.new_value,se=(y.existing_value,y.variable_removed);K.shift();var de,re=c.get(C,"global","src"),pe=c.deepCopy(re,ve(K)),ke=pe,Z=he(K);try{for(Z.s();!(de=Z.n()).done;)ke=ke[de.value]}catch(Ee){Z.e(Ee)}finally{Z.f()}return se?N(ke)=="array"?ke.splice(R,1):delete ke[R]:R!==null?ke[R]=ne:pe=ne,c.set(C,"global","src",pe),pe},c.deepCopy=function(C,y){var R,K=N(C),ne=y.shift();return K=="array"?R=ve(C):K=="object"&&(R=n({},C)),ne!==void 0&&(R[ne]=c.deepCopy(C[ne],y)),R},c}return a}(Me.EventEmitter));xe.register(Ce.handleAction.bind(Ce));var be=Ce,ge=function(p){j(a,p);var b=B(a);function a(c){var d;return i(this,a),(d=b.call(this,c)).toggleCollapsed=function(){d.setState({collapsed:!d.state.collapsed},function(){be.set(d.props.rjvId,d.props.namespace,"collapsed",d.state.collapsed)})},d.getFunctionDisplay=function(g){var A=T(d).props;return g?r.a.createElement("span",null,d.props.value.toString().slice(9,-1).replace(/\{[\s\S]+/,""),r.a.createElement("span",{className:"function-collapsed",style:{fontWeight:"bold"}},r.a.createElement("span",null,"{"),r.a.createElement("span",O(A.theme,"ellipsis"),"..."),r.a.createElement("span",null,"}"))):d.props.value.toString().slice(9,-1)},d.state={collapsed:be.get(c.rjvId,c.namespace,"collapsed",!0)},d}return m(a,[{key:"render",value:function(){var c=this.props,d=this.state.collapsed;return r.a.createElement("div",O(c.theme,"function"),r.a.createElement(X,Object.assign({type_name:"function"},c)),r.a.createElement("span",Object.assign({},O(c.theme,"function-value"),{className:"rjv-function-container",onClick:this.toggleCollapsed}),this.getFunctionDisplay(d)))}}]),a}(r.a.PureComponent),Re=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){return r.a.createElement("div",O(this.props.theme,"nan"),"NaN")}}]),a}(r.a.PureComponent),$e=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){return r.a.createElement("div",O(this.props.theme,"null"),"NULL")}}]),a}(r.a.PureComponent),Ge=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){var c=this.props;return r.a.createElement("div",O(c.theme,"integer"),r.a.createElement(X,Object.assign({type_name:"int"},c)),this.props.value)}}]),a}(r.a.PureComponent),Ye=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){var c=this.props;return r.a.createElement("div",O(c.theme,"regexp"),r.a.createElement(X,Object.assign({type_name:"regexp"},c)),this.props.value.toString())}}]),a}(r.a.PureComponent),Ze=function(p){j(a,p);var b=B(a);function a(c){var d;return i(this,a),(d=b.call(this,c)).toggleCollapsed=function(){d.setState({collapsed:!d.state.collapsed},function(){be.set(d.props.rjvId,d.props.namespace,"collapsed",d.state.collapsed)})},d.state={collapsed:be.get(c.rjvId,c.namespace,"collapsed",!0)},d}return m(a,[{key:"render",value:function(){this.state.collapsed;var c=this.props,d=c.collapseStringsAfterLength,g=c.theme,A=c.value,C={style:{cursor:"default"}};return N(d)==="integer"&&A.length>d&&(C.style.cursor="pointer",this.state.collapsed&&(A=r.a.createElement("span",null,A.substring(0,d),r.a.createElement("span",O(g,"ellipsis")," ...")))),r.a.createElement("div",O(g,"string"),r.a.createElement(X,Object.assign({type_name:"string"},c)),r.a.createElement("span",Object.assign({className:"string-value"},C,{onClick:this.toggleCollapsed}),'"',A,'"'))}}]),a}(r.a.PureComponent),Xe=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){return r.a.createElement("div",O(this.props.theme,"undefined"),"undefined")}}]),a}(r.a.PureComponent);function We(){return(We=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var a=arguments[b];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(p[c]=a[c])}return p}).apply(this,arguments)}var rt=H.useLayoutEffect,at=function(p){var b=Object(H.useRef)(p);return rt(function(){b.current=p}),b},Qe=function(p,b){typeof p!="function"?p.current=b:p(b)},nt=function(p,b){var a=Object(H.useRef)();return Object(H.useCallback)(function(c){p.current=c,a.current&&Qe(a.current,null),a.current=b,b&&Qe(b,c)},[b])},Ke={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Te=function(p){Object.keys(Ke).forEach(function(b){p.style.setProperty(b,Ke[b],"important")})},Se=null,et=function(){},M=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],w=!!document.documentElement.currentStyle,_=function(p,b){var a=p.cacheMeasurements,c=p.maxRows,d=p.minRows,g=p.onChange,A=g===void 0?et:g,C=p.onHeightChange,y=C===void 0?et:C,R=function(Z,Ee){if(Z==null)return{};var Je,Ue,mt={},He=Object.keys(Z);for(Ue=0;Ue<He.length;Ue++)Je=He[Ue],Ee.indexOf(Je)>=0||(mt[Je]=Z[Je]);return mt}(p,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),K,ne=R.value!==void 0,se=Object(H.useRef)(null),de=nt(se,b),re=Object(H.useRef)(0),pe=Object(H.useRef)(),ke=function(){var Z=se.current,Ee=a&&pe.current?pe.current:function(He){var ht=window.getComputedStyle(He);if(ht===null)return null;var st,Ne=(st=ht,M.reduce(function(pt,ct){return pt[ct]=st[ct],pt},{})),it=Ne.boxSizing;return it===""?null:(w&&it==="border-box"&&(Ne.width=parseFloat(Ne.width)+parseFloat(Ne.borderRightWidth)+parseFloat(Ne.borderLeftWidth)+parseFloat(Ne.paddingRight)+parseFloat(Ne.paddingLeft)+"px"),{sizingStyle:Ne,paddingSize:parseFloat(Ne.paddingBottom)+parseFloat(Ne.paddingTop),borderSize:parseFloat(Ne.borderBottomWidth)+parseFloat(Ne.borderTopWidth)})}(Z);if(Ee){pe.current=Ee;var Je=function(He,ht,st,Ne){st===void 0&&(st=1),Ne===void 0&&(Ne=1/0),Se||((Se=document.createElement("textarea")).setAttribute("tab-index","-1"),Se.setAttribute("aria-hidden","true"),Te(Se)),Se.parentNode===null&&document.body.appendChild(Se);var it=He.paddingSize,pt=He.borderSize,ct=He.sizingStyle,St=ct.boxSizing;Object.keys(ct).forEach(function(xt){var lt=xt;Se.style[lt]=ct[lt]}),Te(Se),Se.value=ht;var yt=function(xt,lt){var At=xt.scrollHeight;return lt.sizingStyle.boxSizing==="border-box"?At+lt.borderSize:At-lt.paddingSize}(Se,He);Se.value="x";var wt=Se.scrollHeight-it,_t=wt*st;St==="border-box"&&(_t=_t+it+pt),yt=Math.max(_t,yt);var kt=wt*Ne;return St==="border-box"&&(kt=kt+it+pt),[yt=Math.min(kt,yt),wt]}(Ee,Z.value||Z.placeholder||"x",d,c),Ue=Je[0],mt=Je[1];re.current!==Ue&&(re.current=Ue,Z.style.setProperty("height",Ue+"px","important"),y(Ue,{rowHeight:mt}))}};return Object(H.useLayoutEffect)(ke),K=at(ke),Object(H.useLayoutEffect)(function(){var Z=function(Ee){K.current(Ee)};return window.addEventListener("resize",Z),function(){window.removeEventListener("resize",Z)}},[]),Object(H.createElement)("textarea",We({},R,{onChange:function(Z){ne||ke(),A(Z)},ref:de}))},F=Object(H.forwardRef)(_);function D(p){p=p.trim();try{if((p=JSON.stringify(JSON.parse(p)))[0]==="[")return W("array",JSON.parse(p));if(p[0]==="{")return W("object",JSON.parse(p));if(p.match(/\-?\d+\.\d+/)&&p.match(/\-?\d+\.\d+/)[0]===p)return W("float",parseFloat(p));if(p.match(/\-?\d+e-\d+/)&&p.match(/\-?\d+e-\d+/)[0]===p)return W("float",Number(p));if(p.match(/\-?\d+/)&&p.match(/\-?\d+/)[0]===p)return W("integer",parseInt(p));if(p.match(/\-?\d+e\+\d+/)&&p.match(/\-?\d+e\+\d+/)[0]===p)return W("integer",Number(p))}catch{}switch(p=p.toLowerCase()){case"undefined":return W("undefined",void 0);case"nan":return W("nan",NaN);case"null":return W("null",null);case"true":return W("boolean",!0);case"false":return W("boolean",!1);default:if(p=Date.parse(p))return W("date",new Date(p))}return W(!1,null)}function W(p,b){return{type:p,value:b}}var ae=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){var c=this.props,d=c.style,g=E(c,["style"]);return r.a.createElement("span",g,r.a.createElement("svg",Object.assign({},oe(d),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),r.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"})))}}]),a}(r.a.PureComponent),te=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){var c=this.props,d=c.style,g=E(c,["style"]);return r.a.createElement("span",g,r.a.createElement("svg",Object.assign({},oe(d),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),r.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"})))}}]),a}(r.a.PureComponent),ue=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){var c=this.props,d=c.style,g=E(c,["style"]),A=oe(d).style;return r.a.createElement("span",g,r.a.createElement("svg",{fill:A.color,width:A.height,height:A.width,style:A,viewBox:"0 0 1792 1792"},r.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),a}(r.a.PureComponent),we=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){var c=this.props,d=c.style,g=E(c,["style"]),A=oe(d).style;return r.a.createElement("span",g,r.a.createElement("svg",{fill:A.color,width:A.height,height:A.width,style:A,viewBox:"0 0 1792 1792"},r.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),a}(r.a.PureComponent),_e=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){var c=this.props,d=c.style,g=E(c,["style"]);return r.a.createElement("span",g,r.a.createElement("svg",{style:n(n({},oe(d).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},r.a.createElement("path",{d:"M0 14l6-6-6-6z"})))}}]),a}(r.a.PureComponent),Ae=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){var c=this.props,d=c.style,g=E(c,["style"]);return r.a.createElement("span",g,r.a.createElement("svg",{style:n(n({},oe(d).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},r.a.createElement("path",{d:"M0 5l6 6 6-6z"})))}}]),a}(r.a.PureComponent),ye=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){var c=this.props,d=c.style,g=E(c,["style"]);return r.a.createElement("span",g,r.a.createElement("svg",Object.assign({},oe(d),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),r.a.createElement("g",null,r.a.createElement("path",{d:"m30 35h-25v-22.5h25v7.5h2.5v-12.5c0-1.4-1.1-2.5-2.5-2.5h-7.5c0-2.8-2.2-5-5-5s-5 2.2-5 5h-7.5c-1.4 0-2.5 1.1-2.5 2.5v27.5c0 1.4 1.1 2.5 2.5 2.5h25c1.4 0 2.5-1.1 2.5-2.5v-5h-2.5v5z m-20-27.5h2.5s2.5-1.1 2.5-2.5 1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5 1.3 2.5 2.5 2.5h2.5s2.5 1.1 2.5 2.5h-20c0-1.5 1.1-2.5 2.5-2.5z m-2.5 20h5v-2.5h-5v2.5z m17.5-5v-5l-10 7.5 10 7.5v-5h12.5v-5h-12.5z m-17.5 10h7.5v-2.5h-7.5v2.5z m12.5-17.5h-12.5v2.5h12.5v-2.5z m-7.5 5h-5v2.5h5v-2.5z"}))))}}]),a}(r.a.PureComponent),Pe=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){var c=this.props,d=c.style,g=E(c,["style"]);return r.a.createElement("span",g,r.a.createElement("svg",Object.assign({},oe(d),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),r.a.createElement("g",null,r.a.createElement("path",{d:"m28.6 25q0-0.5-0.4-1l-4-4 4-4q0.4-0.5 0.4-1 0-0.6-0.4-1.1l-2-2q-0.4-0.4-1-0.4-0.6 0-1 0.4l-4.1 4.1-4-4.1q-0.4-0.4-1-0.4-0.6 0-1 0.4l-2 2q-0.5 0.5-0.5 1.1 0 0.5 0.5 1l4 4-4 4q-0.5 0.5-0.5 1 0 0.7 0.5 1.1l2 2q0.4 0.4 1 0.4 0.6 0 1-0.4l4-4.1 4.1 4.1q0.4 0.4 1 0.4 0.6 0 1-0.4l2-2q0.4-0.4 0.4-1z m8.7-5q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),a}(r.a.PureComponent),Ie=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){var c=this.props,d=c.style,g=E(c,["style"]);return r.a.createElement("span",g,r.a.createElement("svg",Object.assign({},oe(d),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),r.a.createElement("g",null,r.a.createElement("path",{d:"m30.1 21.4v-2.8q0-0.6-0.4-1t-1-0.5h-5.7v-5.7q0-0.6-0.4-1t-1-0.4h-2.9q-0.6 0-1 0.4t-0.4 1v5.7h-5.7q-0.6 0-1 0.5t-0.5 1v2.8q0 0.6 0.5 1t1 0.5h5.7v5.7q0 0.5 0.4 1t1 0.4h2.9q0.6 0 1-0.4t0.4-1v-5.7h5.7q0.6 0 1-0.5t0.4-1z m7.2-1.4q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),a}(r.a.PureComponent),Ve=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){var c=this.props,d=c.style,g=E(c,["style"]);return r.a.createElement("span",g,r.a.createElement("svg",Object.assign({},oe(d),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),r.a.createElement("g",null,r.a.createElement("path",{d:"m31.6 21.6h-10v10h-3.2v-10h-10v-3.2h10v-10h3.2v10h10v3.2z"}))))}}]),a}(r.a.PureComponent),De=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){var c=this.props,d=c.style,g=E(c,["style"]);return r.a.createElement("span",g,r.a.createElement("svg",Object.assign({},oe(d),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),r.a.createElement("g",null,r.a.createElement("path",{d:"m19.8 26.4l2.6-2.6-3.4-3.4-2.6 2.6v1.3h2.2v2.1h1.2z m9.8-16q-0.3-0.4-0.7 0l-7.8 7.8q-0.4 0.4 0 0.7t0.7 0l7.8-7.8q0.4-0.4 0-0.7z m1.8 13.2v4.3q0 2.6-1.9 4.5t-4.5 1.9h-18.6q-2.6 0-4.5-1.9t-1.9-4.5v-18.6q0-2.7 1.9-4.6t4.5-1.8h18.6q1.4 0 2.6 0.5 0.3 0.2 0.4 0.5 0.1 0.4-0.2 0.7l-1.1 1.1q-0.3 0.3-0.7 0.1-0.5-0.1-1-0.1h-18.6q-1.4 0-2.5 1.1t-1 2.5v18.6q0 1.4 1 2.5t2.5 1h18.6q1.5 0 2.5-1t1.1-2.5v-2.9q0-0.2 0.2-0.4l1.4-1.5q0.3-0.3 0.8-0.1t0.4 0.6z m-2.1-16.5l6.4 6.5-15 15h-6.4v-6.5z m9.9 3l-2.1 2-6.4-6.4 2.1-2q0.6-0.7 1.5-0.7t1.5 0.7l3.4 3.4q0.6 0.6 0.6 1.5t-0.6 1.5z"}))))}}]),a}(r.a.PureComponent),je=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){var c=this.props,d=c.style,g=E(c,["style"]);return r.a.createElement("span",g,r.a.createElement("svg",Object.assign({},oe(d),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),r.a.createElement("g",null,r.a.createElement("path",{d:"m31.7 16.4q0-0.6-0.4-1l-2.1-2.1q-0.4-0.4-1-0.4t-1 0.4l-9.1 9.1-5-5q-0.5-0.4-1-0.4t-1 0.4l-2.1 2q-0.4 0.4-0.4 1 0 0.6 0.4 1l8.1 8.1q0.4 0.4 1 0.4 0.6 0 1-0.4l12.2-12.1q0.4-0.4 0.4-1z m5.6 3.6q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),a}(r.a.PureComponent);function oe(p){return p||(p={}),{style:n(n({verticalAlign:"middle"},p),{},{color:p.color?p.color:"#000000",height:"1em",width:"1em"})}}var Oe=function(p){j(a,p);var b=B(a);function a(c){var d;return i(this,a),(d=b.call(this,c)).copiedTimer=null,d.handleCopy=function(){var g=document.createElement("textarea"),A=d.props,C=A.clickCallback,y=A.src,R=A.namespace;g.innerHTML=JSON.stringify(d.clipboardValue(y),null,"  "),document.body.appendChild(g),g.select(),document.execCommand("copy"),document.body.removeChild(g),d.copiedTimer=setTimeout(function(){d.setState({copied:!1})},5500),d.setState({copied:!0},function(){typeof C=="function"&&C({src:y,namespace:R,name:R[R.length-1]})})},d.getClippyIcon=function(){var g=d.props.theme;return d.state.copied?r.a.createElement("span",null,r.a.createElement(ye,Object.assign({className:"copy-icon"},O(g,"copy-icon"))),r.a.createElement("span",O(g,"copy-icon-copied"),"✔")):r.a.createElement(ye,Object.assign({className:"copy-icon"},O(g,"copy-icon")))},d.clipboardValue=function(g){switch(N(g)){case"function":case"regexp":return g.toString();default:return g}},d.state={copied:!1},d}return m(a,[{key:"componentWillUnmount",value:function(){this.copiedTimer&&(clearTimeout(this.copiedTimer),this.copiedTimer=null)}},{key:"render",value:function(){var c=this.props,d=(c.src,c.theme),g=c.hidden,A=c.rowHovered,C=O(d,"copy-to-clipboard").style,y="inline";return g&&(y="none"),r.a.createElement("span",{className:"copy-to-clipboard-container",title:"Copy to clipboard",style:{verticalAlign:"top",display:A?"inline-block":"none"}},r.a.createElement("span",{style:n(n({},C),{},{display:y}),onClick:this.handleCopy},this.getClippyIcon()))}}]),a}(r.a.PureComponent),Fe=function(p){j(a,p);var b=B(a);function a(c){var d;return i(this,a),(d=b.call(this,c)).getEditIcon=function(){var g=d.props,A=g.variable,C=g.theme;return r.a.createElement("div",{className:"click-to-edit",style:{verticalAlign:"top",display:d.state.hovered?"inline-block":"none"}},r.a.createElement(De,Object.assign({className:"click-to-edit-icon"},O(C,"editVarIcon"),{onClick:function(){d.prepopInput(A)}})))},d.prepopInput=function(g){if(d.props.onEdit!==!1){var A=function(y){var R;switch(N(y)){case"undefined":R="undefined";break;case"nan":R="NaN";break;case"string":R=y;break;case"date":case"function":case"regexp":R=y.toString();break;default:try{R=JSON.stringify(y,null,"  ")}catch{R=""}}return R}(g.value),C=D(A);d.setState({editMode:!0,editValue:A,parsedInput:{type:C.type,value:C.value}})}},d.getRemoveIcon=function(){var g=d.props,A=g.variable,C=g.namespace,y=g.theme,R=g.rjvId;return r.a.createElement("div",{className:"click-to-remove",style:{verticalAlign:"top",display:d.state.hovered?"inline-block":"none"}},r.a.createElement(Pe,Object.assign({className:"click-to-remove-icon"},O(y,"removeVarIcon"),{onClick:function(){xe.dispatch({name:"VARIABLE_REMOVED",rjvId:R,data:{name:A.name,namespace:C,existing_value:A.value,variable_removed:!0}})}})))},d.getValue=function(g,A){var C=!A&&g.type,y=T(d).props;switch(C){case!1:return d.getEditInput();case"string":return r.a.createElement(Ze,Object.assign({value:g.value},y));case"integer":return r.a.createElement(Ge,Object.assign({value:g.value},y));case"float":return r.a.createElement(G,Object.assign({value:g.value},y));case"boolean":return r.a.createElement(fe,Object.assign({value:g.value},y));case"function":return r.a.createElement(ge,Object.assign({value:g.value},y));case"null":return r.a.createElement($e,y);case"nan":return r.a.createElement(Re,y);case"undefined":return r.a.createElement(Xe,y);case"date":return r.a.createElement(le,Object.assign({value:g.value},y));case"regexp":return r.a.createElement(Ye,Object.assign({value:g.value},y));default:return r.a.createElement("div",{className:"object-value"},JSON.stringify(g.value))}},d.getEditInput=function(){var g=d.props.theme,A=d.state.editValue;return r.a.createElement("div",null,r.a.createElement(F,Object.assign({type:"text",inputRef:function(C){return C&&C.focus()},value:A,className:"variable-editor",onChange:function(C){var y=C.target.value,R=D(y);d.setState({editValue:y,parsedInput:{type:R.type,value:R.value}})},onKeyDown:function(C){switch(C.key){case"Escape":d.setState({editMode:!1,editValue:""});break;case"Enter":(C.ctrlKey||C.metaKey)&&d.submitEdit(!0)}C.stopPropagation()},placeholder:"update this value",minRows:2},O(g,"edit-input"))),r.a.createElement("div",O(g,"edit-icon-container"),r.a.createElement(Pe,Object.assign({className:"edit-cancel"},O(g,"cancel-icon"),{onClick:function(){d.setState({editMode:!1,editValue:""})}})),r.a.createElement(je,Object.assign({className:"edit-check string-value"},O(g,"check-icon"),{onClick:function(){d.submitEdit()}})),r.a.createElement("div",null,d.showDetected())))},d.submitEdit=function(g){var A=d.props,C=A.variable,y=A.namespace,R=A.rjvId,K=d.state,ne=K.editValue,se=K.parsedInput,de=ne;g&&se.type&&(de=se.value),d.setState({editMode:!1}),xe.dispatch({name:"VARIABLE_UPDATED",rjvId:R,data:{name:C.name,namespace:y,existing_value:C.value,new_value:de,variable_removed:!1}})},d.showDetected=function(){var g=d.props,A=g.theme,C=(g.variable,g.namespace,g.rjvId,d.state.parsedInput),y=(C.type,C.value,d.getDetectedInput());if(y)return r.a.createElement("div",null,r.a.createElement("div",O(A,"detected-row"),y,r.a.createElement(je,{className:"edit-check detected",style:n({verticalAlign:"top",paddingLeft:"3px"},O(A,"check-icon").style),onClick:function(){d.submitEdit(!0)}})))},d.getDetectedInput=function(){var g=d.state.parsedInput,A=g.type,C=g.value,y=T(d).props,R=y.theme;if(A!==!1)switch(A.toLowerCase()){case"object":return r.a.createElement("span",null,r.a.createElement("span",{style:n(n({},O(R,"brace").style),{},{cursor:"default"})},"{"),r.a.createElement("span",{style:n(n({},O(R,"ellipsis").style),{},{cursor:"default"})},"..."),r.a.createElement("span",{style:n(n({},O(R,"brace").style),{},{cursor:"default"})},"}"));case"array":return r.a.createElement("span",null,r.a.createElement("span",{style:n(n({},O(R,"brace").style),{},{cursor:"default"})},"["),r.a.createElement("span",{style:n(n({},O(R,"ellipsis").style),{},{cursor:"default"})},"..."),r.a.createElement("span",{style:n(n({},O(R,"brace").style),{},{cursor:"default"})},"]"));case"string":return r.a.createElement(Ze,Object.assign({value:C},y));case"integer":return r.a.createElement(Ge,Object.assign({value:C},y));case"float":return r.a.createElement(G,Object.assign({value:C},y));case"boolean":return r.a.createElement(fe,Object.assign({value:C},y));case"function":return r.a.createElement(ge,Object.assign({value:C},y));case"null":return r.a.createElement($e,y);case"nan":return r.a.createElement(Re,y);case"undefined":return r.a.createElement(Xe,y);case"date":return r.a.createElement(le,Object.assign({value:new Date(C)},y))}},d.state={editMode:!1,editValue:"",hovered:!1,renameKey:!1,parsedInput:{type:!1,value:null}},d}return m(a,[{key:"render",value:function(){var c=this,d=this.props,g=d.variable,A=d.singleIndent,C=d.type,y=d.theme,R=d.namespace,K=d.indentWidth,ne=d.enableClipboard,se=d.onEdit,de=d.onDelete,re=d.onSelect,pe=d.displayArrayKey,ke=d.quotesOnKeys,Z=this.state.editMode;return r.a.createElement("div",Object.assign({},O(y,"objectKeyVal",{paddingLeft:K*A}),{onMouseEnter:function(){return c.setState(n(n({},c.state),{},{hovered:!0}))},onMouseLeave:function(){return c.setState(n(n({},c.state),{},{hovered:!1}))},className:"variable-row",key:g.name}),C=="array"?pe?r.a.createElement("span",Object.assign({},O(y,"array-key"),{key:g.name+"_"+R}),g.name,r.a.createElement("div",O(y,"colon"),":")):null:r.a.createElement("span",null,r.a.createElement("span",Object.assign({},O(y,"object-name"),{className:"object-key",key:g.name+"_"+R}),!!ke&&r.a.createElement("span",{style:{verticalAlign:"top"}},'"'),r.a.createElement("span",{style:{display:"inline-block"}},g.name),!!ke&&r.a.createElement("span",{style:{verticalAlign:"top"}},'"')),r.a.createElement("span",O(y,"colon"),":")),r.a.createElement("div",Object.assign({className:"variable-value",onClick:re===!1&&se===!1?null:function(Ee){var Je=ve(R);(Ee.ctrlKey||Ee.metaKey)&&se!==!1?c.prepopInput(g):re!==!1&&(Je.shift(),re(n(n({},g),{},{namespace:Je})))}},O(y,"variableValue",{cursor:re===!1?"default":"pointer"})),this.getValue(g,Z)),ne?r.a.createElement(Oe,{rowHovered:this.state.hovered,hidden:Z,src:g.value,clickCallback:ne,theme:y,namespace:[].concat(ve(R),[g.name])}):null,se!==!1&&Z==0?this.getEditIcon():null,de!==!1&&Z==0?this.getRemoveIcon():null)}}]),a}(r.a.PureComponent),qe=function(p){j(a,p);var b=B(a);function a(){var c;i(this,a);for(var d=arguments.length,g=new Array(d),A=0;A<d;A++)g[A]=arguments[A];return(c=b.call.apply(b,[this].concat(g))).getObjectSize=function(){var C=c.props,y=C.size,R=C.theme;if(C.displayObjectSize)return r.a.createElement("span",Object.assign({className:"object-size"},O(R,"object-size")),y," item",y===1?"":"s")},c.getAddAttribute=function(C){var y=c.props,R=y.theme,K=y.namespace,ne=y.name,se=y.src,de=y.rjvId,re=y.depth;return r.a.createElement("span",{className:"click-to-add",style:{verticalAlign:"top",display:C?"inline-block":"none"}},r.a.createElement(Ie,Object.assign({className:"click-to-add-icon"},O(R,"addVarIcon"),{onClick:function(){var pe={name:re>0?ne:null,namespace:K.splice(0,K.length-1),existing_value:se,variable_removed:!1,key_name:null};N(se)==="object"?xe.dispatch({name:"ADD_VARIABLE_KEY_REQUEST",rjvId:de,data:pe}):xe.dispatch({name:"VARIABLE_ADDED",rjvId:de,data:n(n({},pe),{},{new_value:[].concat(ve(se),[null])})})}})))},c.getRemoveObject=function(C){var y=c.props,R=y.theme,K=(y.hover,y.namespace),ne=y.name,se=y.src,de=y.rjvId;if(K.length!==1)return r.a.createElement("span",{className:"click-to-remove",style:{display:C?"inline-block":"none"}},r.a.createElement(Pe,Object.assign({className:"click-to-remove-icon"},O(R,"removeVarIcon"),{onClick:function(){xe.dispatch({name:"VARIABLE_REMOVED",rjvId:de,data:{name:ne,namespace:K.splice(0,K.length-1),existing_value:se,variable_removed:!0}})}})))},c.render=function(){var C=c.props,y=C.theme,R=C.onDelete,K=C.onAdd,ne=C.enableClipboard,se=C.src,de=C.namespace,re=C.rowHovered;return r.a.createElement("div",Object.assign({},O(y,"object-meta-data"),{className:"object-meta-data",onClick:function(pe){pe.stopPropagation()}}),c.getObjectSize(),ne?r.a.createElement(Oe,{rowHovered:re,clickCallback:ne,src:se,theme:y,namespace:de}):null,K!==!1?c.getAddAttribute(re):null,R!==!1?c.getRemoveObject(re):null)},c}return a}(r.a.PureComponent);function Be(p){var b=p.parent_type,a=p.namespace,c=p.quotesOnKeys,d=p.theme,g=p.jsvRoot,A=p.name,C=p.displayArrayKey,y=p.name?p.name:"";return!g||A!==!1&&A!==null?b=="array"?C?r.a.createElement("span",Object.assign({},O(d,"array-key"),{key:a}),r.a.createElement("span",{className:"array-key"},y),r.a.createElement("span",O(d,"colon"),":")):r.a.createElement("span",null):r.a.createElement("span",Object.assign({},O(d,"object-name"),{key:a}),r.a.createElement("span",{className:"object-key"},c&&r.a.createElement("span",{style:{verticalAlign:"top"}},'"'),r.a.createElement("span",null,y),c&&r.a.createElement("span",{style:{verticalAlign:"top"}},'"')),r.a.createElement("span",O(d,"colon"),":")):r.a.createElement("span",null)}function Le(p){var b=p.theme;switch(p.iconStyle){case"triangle":return r.a.createElement(Ae,Object.assign({},O(b,"expanded-icon"),{className:"expanded-icon"}));case"square":return r.a.createElement(ue,Object.assign({},O(b,"expanded-icon"),{className:"expanded-icon"}));default:return r.a.createElement(ae,Object.assign({},O(b,"expanded-icon"),{className:"expanded-icon"}))}}function ze(p){var b=p.theme;switch(p.iconStyle){case"triangle":return r.a.createElement(_e,Object.assign({},O(b,"collapsed-icon"),{className:"collapsed-icon"}));case"square":return r.a.createElement(we,Object.assign({},O(b,"collapsed-icon"),{className:"collapsed-icon"}));default:return r.a.createElement(te,Object.assign({},O(b,"collapsed-icon"),{className:"collapsed-icon"}))}}var ot=function(p){j(a,p);var b=B(a);function a(c){var d;return i(this,a),(d=b.call(this,c)).toggleCollapsed=function(g){var A=[];for(var C in d.state.expanded)A.push(d.state.expanded[C]);A[g]=!A[g],d.setState({expanded:A})},d.state={expanded:[]},d}return m(a,[{key:"getExpandedIcon",value:function(c){var d=this.props,g=d.theme,A=d.iconStyle;return this.state.expanded[c]?r.a.createElement(Le,{theme:g,iconStyle:A}):r.a.createElement(ze,{theme:g,iconStyle:A})}},{key:"render",value:function(){var c=this,d=this.props,g=d.src,A=d.groupArraysAfterLength,C=(d.depth,d.name),y=d.theme,R=d.jsvRoot,K=d.namespace,ne=(d.parent_type,E(d,["src","groupArraysAfterLength","depth","name","theme","jsvRoot","namespace","parent_type"])),se=0,de=5*this.props.indentWidth;R||(se=5*this.props.indentWidth);var re=A,pe=Math.ceil(g.length/re);return r.a.createElement("div",Object.assign({className:"object-key-val"},O(y,R?"jsv-root":"objectKeyVal",{paddingLeft:se})),r.a.createElement(Be,this.props),r.a.createElement("span",null,r.a.createElement(qe,Object.assign({size:g.length},this.props))),ve(Array(pe)).map(function(ke,Z){return r.a.createElement("div",Object.assign({key:Z,className:"object-key-val array-group"},O(y,"objectKeyVal",{marginLeft:6,paddingLeft:de})),r.a.createElement("span",O(y,"brace-row"),r.a.createElement("div",Object.assign({className:"icon-container"},O(y,"icon-container"),{onClick:function(Ee){c.toggleCollapsed(Z)}}),c.getExpandedIcon(Z)),c.state.expanded[Z]?r.a.createElement(bt,Object.assign({key:C+Z,depth:0,name:!1,collapsed:!1,groupArraysAfterLength:re,index_offset:Z*re,src:g.slice(Z*re,Z*re+re),namespace:K,type:"array",parent_type:"array_group",theme:y},ne)):r.a.createElement("span",Object.assign({},O(y,"brace"),{onClick:function(Ee){c.toggleCollapsed(Z)},className:"array-group-brace"}),"[",r.a.createElement("div",Object.assign({},O(y,"array-group-meta-data"),{className:"array-group-meta-data"}),r.a.createElement("span",Object.assign({className:"object-size"},O(y,"object-size")),Z*re," - ",Z*re+re>g.length?g.length:Z*re+re)),"]")))}))}}]),a}(r.a.PureComponent),dt=function(p){j(a,p);var b=B(a);function a(c){var d;i(this,a),(d=b.call(this,c)).toggleCollapsed=function(){d.setState({expanded:!d.state.expanded},function(){be.set(d.props.rjvId,d.props.namespace,"expanded",d.state.expanded)})},d.getObjectContent=function(A,C,y){return r.a.createElement("div",{className:"pushed-content object-container"},r.a.createElement("div",Object.assign({className:"object-content"},O(d.props.theme,"pushed-content")),d.renderObjectContents(C,y)))},d.getEllipsis=function(){return d.state.size===0?null:r.a.createElement("div",Object.assign({},O(d.props.theme,"ellipsis"),{className:"node-ellipsis",onClick:d.toggleCollapsed}),"...")},d.getObjectMetaData=function(A){var C=d.props,y=(C.rjvId,C.theme,d.state),R=y.size,K=y.hovered;return r.a.createElement(qe,Object.assign({rowHovered:K,size:R},d.props))},d.renderObjectContents=function(A,C){var y,R=d.props,K=R.depth,ne=R.parent_type,se=R.index_offset,de=R.groupArraysAfterLength,re=R.namespace,pe=d.state.object_type,ke=[],Z=Object.keys(A||{});return d.props.sortKeys&&pe!=="array"&&(Z=Z.sort()),Z.forEach(function(Ee){if(y=new zt(Ee,A[Ee]),ne==="array_group"&&se&&(y.name=parseInt(y.name)+se),A.hasOwnProperty(Ee))if(y.type==="object")ke.push(r.a.createElement(bt,Object.assign({key:y.name,depth:K+1,name:y.name,src:y.value,namespace:re.concat(y.name),parent_type:pe},C)));else if(y.type==="array"){var Je=bt;de&&y.value.length>de&&(Je=ot),ke.push(r.a.createElement(Je,Object.assign({key:y.name,depth:K+1,name:y.name,src:y.value,namespace:re.concat(y.name),type:"array",parent_type:pe},C)))}else ke.push(r.a.createElement(Fe,Object.assign({key:y.name+"_"+re,variable:y,singleIndent:5,namespace:re,type:d.props.type},C)))}),ke};var g=a.getState(c);return d.state=n(n({},g),{},{prevProps:{}}),d}return m(a,[{key:"getBraceStart",value:function(c,d){var g=this,A=this.props,C=A.src,y=A.theme,R=A.iconStyle;if(A.parent_type==="array_group")return r.a.createElement("span",null,r.a.createElement("span",O(y,"brace"),c==="array"?"[":"{"),d?this.getObjectMetaData(C):null);var K=d?Le:ze;return r.a.createElement("span",null,r.a.createElement("span",Object.assign({onClick:function(ne){g.toggleCollapsed()}},O(y,"brace-row")),r.a.createElement("div",Object.assign({className:"icon-container"},O(y,"icon-container")),r.a.createElement(K,{theme:y,iconStyle:R})),r.a.createElement(Be,this.props),r.a.createElement("span",O(y,"brace"),c==="array"?"[":"{")),d?this.getObjectMetaData(C):null)}},{key:"render",value:function(){var c=this,d=this.props,g=d.depth,A=d.src,C=(d.namespace,d.name,d.type,d.parent_type),y=d.theme,R=d.jsvRoot,K=d.iconStyle,ne=E(d,["depth","src","namespace","name","type","parent_type","theme","jsvRoot","iconStyle"]),se=this.state,de=se.object_type,re=se.expanded,pe={};return R||C==="array_group"?C==="array_group"&&(pe.borderLeft=0,pe.display="inline"):pe.paddingLeft=5*this.props.indentWidth,r.a.createElement("div",Object.assign({className:"object-key-val",onMouseEnter:function(){return c.setState(n(n({},c.state),{},{hovered:!0}))},onMouseLeave:function(){return c.setState(n(n({},c.state),{},{hovered:!1}))}},O(y,R?"jsv-root":"objectKeyVal",pe)),this.getBraceStart(de,re),re?this.getObjectContent(g,A,n({theme:y,iconStyle:K},ne)):this.getEllipsis(),r.a.createElement("span",{className:"brace-row"},r.a.createElement("span",{style:n(n({},O(y,"brace").style),{},{paddingLeft:re?"3px":"0px"})},de==="array"?"]":"}"),re?null:this.getObjectMetaData(A)))}}],[{key:"getDerivedStateFromProps",value:function(c,d){var g=d.prevProps;return c.src!==g.src||c.collapsed!==g.collapsed||c.name!==g.name||c.namespace!==g.namespace||c.rjvId!==g.rjvId?n(n({},a.getState(c)),{},{prevProps:c}):null}}]),a}(r.a.PureComponent);dt.getState=function(p){var b=Object.keys(p.src).length,a=(p.collapsed===!1||p.collapsed!==!0&&p.collapsed>p.depth)&&(!p.shouldCollapse||p.shouldCollapse({name:p.name,src:p.src,type:N(p.src),namespace:p.namespace})===!1)&&b!==0;return{expanded:be.get(p.rjvId,p.namespace,"expanded",a),object_type:p.type==="array"?"array":"object",parent_type:p.type==="array"?"array":"object",size:b,hovered:!1}};var zt=function p(b,a){i(this,p),this.name=b,this.value=a,this.type=N(a)};q(dt);var bt=dt,Vt=function(p){j(a,p);var b=B(a);function a(){var c;i(this,a);for(var d=arguments.length,g=new Array(d),A=0;A<d;A++)g[A]=arguments[A];return(c=b.call.apply(b,[this].concat(g))).render=function(){var C=T(c).props,y=[C.name],R=bt;return Array.isArray(C.src)&&C.groupArraysAfterLength&&C.src.length>C.groupArraysAfterLength&&(R=ot),r.a.createElement("div",{className:"pretty-json-container object-container"},r.a.createElement("div",{className:"object-content"},r.a.createElement(R,Object.assign({namespace:y,depth:0,jsvRoot:!0},C))))},c}return a}(r.a.PureComponent),qt=function(p){j(a,p);var b=B(a);function a(c){var d;return i(this,a),(d=b.call(this,c)).closeModal=function(){xe.dispatch({rjvId:d.props.rjvId,name:"RESET"})},d.submit=function(){d.props.submit(d.state.input)},d.state={input:c.input?c.input:""},d}return m(a,[{key:"render",value:function(){var c=this,d=this.props,g=d.theme,A=d.rjvId,C=d.isValid,y=this.state.input,R=C(y);return r.a.createElement("div",Object.assign({className:"key-modal-request"},O(g,"key-modal-request"),{onClick:this.closeModal}),r.a.createElement("div",Object.assign({},O(g,"key-modal"),{onClick:function(K){K.stopPropagation()}}),r.a.createElement("div",O(g,"key-modal-label"),"Key Name:"),r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("input",Object.assign({},O(g,"key-modal-input"),{className:"key-modal-input",ref:function(K){return K&&K.focus()},spellCheck:!1,value:y,placeholder:"...",onChange:function(K){c.setState({input:K.target.value})},onKeyPress:function(K){R&&K.key==="Enter"?c.submit():K.key==="Escape"&&c.closeModal()}})),R?r.a.createElement(je,Object.assign({},O(g,"key-modal-submit"),{className:"key-modal-submit",onClick:function(K){return c.submit()}})):null),r.a.createElement("span",O(g,"key-modal-cancel"),r.a.createElement(Ve,Object.assign({},O(g,"key-modal-cancel-icon"),{className:"key-modal-cancel",onClick:function(){xe.dispatch({rjvId:A,name:"RESET"})}})))))}}]),a}(r.a.PureComponent),$t=function(p){j(a,p);var b=B(a);function a(){var c;i(this,a);for(var d=arguments.length,g=new Array(d),A=0;A<d;A++)g[A]=arguments[A];return(c=b.call.apply(b,[this].concat(g))).isValid=function(C){var y=c.props.rjvId,R=be.get(y,"action","new-key-request");return C!=""&&Object.keys(R.existing_value).indexOf(C)===-1},c.submit=function(C){var y=c.props.rjvId,R=be.get(y,"action","new-key-request");R.new_value=n({},R.existing_value),R.new_value[C]=c.props.defaultValue,xe.dispatch({name:"VARIABLE_ADDED",rjvId:y,data:R})},c}return m(a,[{key:"render",value:function(){var c=this.props,d=c.active,g=c.theme,A=c.rjvId;return d?r.a.createElement(qt,{rjvId:A,theme:g,isValid:this.isValid,submit:this.submit}):null}}]),a}(r.a.PureComponent),Wt=function(p){j(a,p);var b=B(a);function a(){return i(this,a),b.apply(this,arguments)}return m(a,[{key:"render",value:function(){var c=this.props,d=c.message,g=c.active,A=c.theme,C=c.rjvId;return g?r.a.createElement("div",Object.assign({className:"validation-failure"},O(A,"validation-failure"),{onClick:function(){xe.dispatch({rjvId:C,name:"RESET"})}}),r.a.createElement("span",O(A,"validation-failure-label"),d),r.a.createElement(Ve,O(A,"validation-failure-clear"))):null}}]),a}(r.a.PureComponent),ft=function(p){j(a,p);var b=B(a);function a(c){var d;return i(this,a),(d=b.call(this,c)).rjvId=Date.now().toString(),d.getListeners=function(){return{reset:d.resetState,"variable-update":d.updateSrc,"add-key-request":d.addKeyRequest}},d.updateSrc=function(){var g,A=be.get(d.rjvId,"action","variable-update"),C=A.name,y=A.namespace,R=A.new_value,K=A.existing_value,ne=(A.variable_removed,A.updated_src),se=A.type,de=d.props,re=de.onEdit,pe=de.onDelete,ke=de.onAdd,Z={existing_src:d.state.src,new_value:R,updated_src:ne,name:C,namespace:y,existing_value:K};switch(se){case"variable-added":g=ke(Z);break;case"variable-edited":g=re(Z);break;case"variable-removed":g=pe(Z)}g!==!1?(be.set(d.rjvId,"global","src",ne),d.setState({src:ne})):d.setState({validationFailure:!0})},d.addKeyRequest=function(){d.setState({addKeyRequest:!0})},d.resetState=function(){d.setState({validationFailure:!1,addKeyRequest:!1})},d.state={addKeyRequest:!1,editKeyRequest:!1,validationFailure:!1,src:a.defaultProps.src,name:a.defaultProps.name,theme:a.defaultProps.theme,validationMessage:a.defaultProps.validationMessage,prevSrc:a.defaultProps.src,prevName:a.defaultProps.name,prevTheme:a.defaultProps.theme},d}return m(a,[{key:"componentDidMount",value:function(){be.set(this.rjvId,"global","src",this.state.src);var c=this.getListeners();for(var d in c)be.on(d+"-"+this.rjvId,c[d]);this.setState({addKeyRequest:!1,editKeyRequest:!1})}},{key:"componentDidUpdate",value:function(c,d){d.addKeyRequest!==!1&&this.setState({addKeyRequest:!1}),d.editKeyRequest!==!1&&this.setState({editKeyRequest:!1}),c.src!==this.state.src&&be.set(this.rjvId,"global","src",this.state.src)}},{key:"componentWillUnmount",value:function(){var c=this.getListeners();for(var d in c)be.removeListener(d+"-"+this.rjvId,c[d])}},{key:"render",value:function(){var c=this.state,d=c.validationFailure,g=c.validationMessage,A=c.addKeyRequest,C=c.theme,y=c.src,R=c.name,K=this.props,ne=K.style,se=K.defaultValue;return r.a.createElement("div",{className:"react-json-view",style:n(n({},O(C,"app-container").style),ne)},r.a.createElement(Wt,{message:g,active:d,theme:C,rjvId:this.rjvId}),r.a.createElement(Vt,Object.assign({},this.props,{src:y,name:R,theme:C,type:N(y),rjvId:this.rjvId})),r.a.createElement($t,{active:A,theme:C,rjvId:this.rjvId,defaultValue:se}))}}],[{key:"getDerivedStateFromProps",value:function(c,d){if(c.src!==d.prevSrc||c.name!==d.prevName||c.theme!==d.prevTheme){var g={src:c.src,name:c.name,theme:c.theme,validationMessage:c.validationMessage,prevSrc:c.src,prevName:c.name,prevTheme:c.theme};return a.validateState(g)}return null}}]),a}(r.a.PureComponent);ft.defaultProps={src:{},name:"root",theme:"rjv-default",collapsed:!1,collapseStringsAfterLength:!1,shouldCollapse:!1,sortKeys:!1,quotesOnKeys:!0,groupArraysAfterLength:100,indentWidth:4,enableClipboard:!0,displayObjectSize:!0,displayDataTypes:!0,onEdit:!1,onDelete:!1,onAdd:!1,onSelect:!1,iconStyle:"triangle",style:{},validationMessage:"Validation Error",defaultValue:null,displayArrayKey:!0},ft.validateState=function(p){var b={};return N(p.theme)!=="object"||function(a){var c=["base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F"];if(N(a)==="object"){for(var d=0;d<c.length;d++)if(!(c[d]in a))return!1;return!0}return!1}(p.theme)||(console.error("react-json-view error:","theme prop must be a theme name or valid base-16 theme object.",'defaulting to "rjv-default" theme'),b.theme="rjv-default"),N(p.src)!=="object"&&N(p.src)!=="array"&&(console.error("react-json-view error:","src property must be a valid json object"),b.name="ERROR",b.src={message:"src property must be a valid json object"}),n(n({},p),b)},q(ft),t.default=ft}])})})(Bt);var ir=Bt.exports;const cr=rr(ir);function lr(f){const k=f.label==="highlighted"?"annotated":"clean";return`screenshot-${f.id}-${k}.png`}function Ct(f){try{const k=document.createElement("a");k.href=f.dataUrl,k.download=lr(f),document.body.appendChild(k),k.click(),document.body.removeChild(k)}catch(k){console.error("Failed to download screenshot",k)}}function ur(f){f.forEach((k,L)=>{setTimeout(()=>{Ct(k)},L*150)})}function dr({runLogs:f,maxLogs:k=50}){const L=Object.values(f).sort((o,t)=>t.startedAt-o.startedAt).slice(0,k);return L.length===0?h.jsx("p",{className:"text-sm text-white/75",children:"暂无运行记录"}):h.jsx("div",{className:"flex flex-col gap-3",children:L.map(o=>h.jsx(pr,{runLog:o},o.runId))})}function pr({runLog:f}){const L={running:{bg:"bg-[#5a63ed]/20",text:"text-[#8c92ff]"},completed:{bg:"bg-[#2ecc71]/20",text:"text-[#2ecc71]"},error:{bg:"bg-[#e74c3c]/20",text:"text-[#ff958a]"},stopped:{bg:"bg-[#f1c40f]/20",text:"text-[#f1c40f]"}}[f.status];return h.jsxs("div",{className:"border border-white/6 rounded-[10px] p-3 bg-white/[0.03]",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("strong",{className:"text-white",children:f.scenarioName}),h.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${L.bg} ${L.text}`,children:f.status.toUpperCase()})]}),h.jsx("ol",{className:"list-none p-0 m-0 flex flex-col gap-2",children:f.steps.map((o,t)=>h.jsx(br,{step:o,index:t},`${f.runId}-step-${t}`))}),f.logs&&f.logs.length>0&&h.jsxs("details",{className:"mt-3 text-xs",children:[h.jsxs("summary",{className:"cursor-pointer text-[#8c92ff] font-semibold",children:["事件日志 (",f.logs.length,")"]}),h.jsx("div",{className:"mt-2 space-y-1",children:f.logs.map((o,t)=>h.jsx(yr,{log:o},`${f.runId}-log-${t}`))})]})]})}function br({step:f,index:k}){const L={pending:"border-white/4",success:"border-[#2ecc71]/25",error:"border-[#e74c3c]/25"},o=f.action.type==="browser_view",t=!!f.artifacts,e=o&&!t&&!f.error&&f.status==="success";return h.jsxs("li",{className:`p-2 rounded-lg bg-white/[0.02] border ${L[f.status]}`,children:[h.jsxs("div",{className:"font-semibold text-white text-sm",children:[k+1,". ",f.action.description]}),f.message&&h.jsx("div",{className:"mt-1 text-xs text-white/75",children:f.message}),f.error&&h.jsx("div",{className:"mt-1 text-xs text-[#ff958a]",children:f.error}),e&&h.jsx("div",{className:"mt-2 text-xs text-[#f1c40f] bg-[#f1c40f]/10 border border-[#f1c40f]/25 rounded px-2 py-1",children:"⚠️ Artifacts not available (page content was not captured)"}),f.artifacts&&h.jsx(fr,{artifacts:f.artifacts})]})}function fr({artifacts:f}){var t;if(!f)return null;const k=f.textContent.length,L=f.markdownContent.length,o=(t=f.metadata)==null?void 0:t.highlightCount;return h.jsxs("div",{className:"mt-2 p-2 rounded-lg bg-[#5a63ed]/8 border border-[#5a63ed]/20 flex flex-col gap-2",children:[h.jsxs("div",{className:"text-xs text-white/75",children:["Plain text ",k," chars · Markdown ",L," chars",typeof o=="number"&&` · ${o} highlighted elements`]}),h.jsx("div",{className:"text-xs leading-relaxed text-white/85 bg-[#0f111a]/50 rounded-md p-2 border border-white/8",children:f.markdownContent.length>280?`${f.markdownContent.slice(0,280)}…`:f.markdownContent}),h.jsxs("details",{className:"text-xs",children:[h.jsx("summary",{className:"cursor-pointer text-[#8c92ff]",children:"Show extracted plain text"}),h.jsx("pre",{className:"mt-1.5 max-h-[200px] overflow-auto p-2 bg-[#0f111a]/85 rounded-md border border-white/8 whitespace-pre-wrap break-words text-white/90",children:f.textContent})]}),h.jsxs("details",{className:"text-xs",children:[h.jsx("summary",{className:"cursor-pointer text-[#8c92ff]",children:"Show extracted markdown"}),h.jsx("pre",{className:"mt-1.5 max-h-[200px] overflow-auto p-2 bg-[#0f111a]/85 rounded-md border border-white/8 whitespace-pre-wrap break-words text-white/90",children:f.markdownContent})]}),f.screenshots&&f.screenshots.length>0&&h.jsxs("div",{className:"flex flex-col gap-2",children:[f.screenshots.length>1&&h.jsx("div",{className:"flex justify-end",children:h.jsxs("button",{type:"button",onClick:()=>ur(f.screenshots),className:"clickable flex items-center gap-1 px-2 py-1 text-xs text-[#8c92ff] bg-[#5a63ed]/10 border border-[#5a63ed]/30 rounded-md transition-all hover:bg-[#5a63ed]/20 hover:border-[#5a63ed]/50",children:[h.jsxs("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[h.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),h.jsx("polyline",{points:"7 10 12 15 17 10"}),h.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download All"]})}),h.jsx("div",{className:"flex gap-3 flex-wrap",children:f.screenshots.map(e=>h.jsx(mr,{screenshot:e},e.id))})]})]})}function mr({screenshot:f}){const[k,L]=me.useState(!1),o=()=>{L(!0)},t=l=>{l.stopPropagation(),Ct(f)},e=()=>{L(!1)},s=f.label==="highlighted"?"Annotated":"Clean";return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"group relative bg-[#0f111a]/90 rounded-lg p-1 cursor-pointer transition-all hover:-translate-y-0.5 hover:shadow-lg",title:`${s} screenshot - Click to preview`,children:[h.jsx("button",{type:"button",onClick:o,className:"clickable block border-none bg-transparent p-0 cursor-pointer",children:h.jsx("img",{src:f.dataUrl,alt:`${f.label} screenshot`,className:"block w-[140px] h-auto rounded-md"})}),h.jsx("span",{className:"absolute left-2 bottom-2 px-1 py-1 text-[11px] rounded-full bg-[#0f111a]/85 text-white border border-white/20 pointer-events-none",children:s}),h.jsx("div",{className:"absolute inset-1 rounded-md bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center pointer-events-none",children:h.jsx(Ht,{className:"w-6 h-6 text-white/90"})}),h.jsx("button",{type:"button",onClick:t,className:"clickable absolute top-2 right-2 p-1 rounded bg-[#0f111a]/80 border border-white/20 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-[#5a63ed]/80 hover:border-[#5a63ed]/50",title:`Download ${s.toLowerCase()} screenshot`,children:h.jsx(Dt,{className:"w-3.5 h-3.5 text-white"})})]}),k&&h.jsx(hr,{screenshot:f,onClose:e})]})}function hr({screenshot:f,onClose:k}){const L=f.label==="highlighted"?"Annotated":"Clean",o=s=>{s.target===s.currentTarget&&k()},t=s=>{s.key==="Escape"&&k()},e=()=>{Ct(f)};return h.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/85 flex items-center justify-center p-4",onClick:o,onKeyDown:t,role:"dialog","aria-modal":"true","aria-label":`${L} screenshot preview`,tabIndex:-1,ref:s=>s==null?void 0:s.focus(),children:h.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh] flex flex-col items-center gap-3",children:[h.jsxs("div",{className:"flex items-center justify-between w-full px-2",children:[h.jsxs("span",{className:"text-white/80 text-sm",children:[L," Screenshot"]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("button",{type:"button",onClick:e,className:"clickable flex items-center gap-1 px-2 py-1 text-xs text-white bg-[#5a63ed]/80 border border-[#5a63ed]/50 rounded-md transition-all hover:bg-[#5a63ed] hover:border-[#5a63ed]",children:[h.jsx(Dt,{className:"w-3.5 h-3.5"}),"Download"]}),h.jsx("button",{type:"button",onClick:k,className:"clickable p-1.5 rounded-md bg-white/10 border border-white/20 transition-all hover:bg-white/20 hover:border-white/30","aria-label":"Close preview",children:h.jsx(or,{className:"w-4 h-4 text-white"})})]})]}),h.jsx("img",{src:f.dataUrl,alt:`${f.label} screenshot`,className:"max-w-full max-h-[calc(90vh-60px)] object-contain rounded-lg shadow-2xl"})]})})}function yr({log:f}){const k=f.direction==="downstream"?"text-[#3498db]":"text-[#2ecc71]",L=new Date(f.timestamp).toLocaleTimeString(),o=f.payload&&Object.keys(f.payload).length>0;return h.jsxs("div",{className:"flex flex-col gap-1.5",children:[h.jsxs("div",{className:"flex items-start gap-2 p-1.5 bg-white/[0.02] rounded",children:[h.jsx("span",{className:`text-xs font-mono ${k}`,children:f.direction==="downstream"?"⬇":"⬆"}),h.jsx("span",{className:"text-xs text-white/50 font-mono",children:L}),h.jsx("span",{className:"text-xs text-white/75 font-semibold flex-1",children:f.type})]}),o&&h.jsxs("details",{className:"ml-6 text-xs",children:[h.jsx("summary",{className:"cursor-pointer text-[#8c92ff] hover:text-[#a5abff]",children:"Show payload"}),h.jsx("div",{className:"mt-1.5 p-2 bg-[#0f111a]/85 rounded-md border border-white/8 max-h-[300px] overflow-auto",children:h.jsx(cr,{src:f.payload,theme:"monokai",collapsed:!1,displayDataTypes:!1,displayObjectSize:!0,enableClipboard:!0,name:!1,iconStyle:"triangle",style:{background:"transparent",fontSize:"11px"}})})]})]})}function vr({scenarios:f,activeRunId:k,startingScenarioId:L,loadingScenarios:o,onRunScenario:t,onStopScenario:e}){const[s,l]=me.useState({}),n=()=>{const m={};f.forEach(v=>{m[v.id]=!0}),l(m)},i=()=>{l({})},u=m=>{l(v=>({...v,[m]:!v[m]}))};return o?h.jsx("div",{className:"text-sm text-white/75",children:h.jsx("p",{children:"Loading scenarios..."})}):f.length===0?h.jsx("div",{className:"text-sm text-white/75",children:h.jsx("p",{children:"No scenarios available."})}):h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("button",{type:"button",onClick:n,disabled:o||f.length===0,className:"px-3 py-2 rounded-lg border-none bg-white/10 text-white text-sm cursor-pointer transition-opacity disabled:opacity-50 disabled:cursor-not-allowed hover:enabled:bg-white/15",children:"Expand All Steps"}),h.jsx("button",{type:"button",onClick:i,disabled:o||f.length===0,className:"px-3 py-2 rounded-lg border-none bg-white/10 text-white text-sm cursor-pointer transition-opacity disabled:opacity-50 disabled:cursor-not-allowed hover:enabled:bg-white/15",children:"Collapse All Steps"})]}),f.map(m=>h.jsx(gr,{scenario:m,activeRunId:k,startingScenarioId:L,isStepsExpanded:s[m.id]||!1,onToggleSteps:()=>u(m.id),onRun:t,onStop:e},m.id))]})}function gr({scenario:f,activeRunId:k,startingScenarioId:L,isStepsExpanded:o,onToggleSteps:t,onRun:e,onStop:s}){const l=!!k,n=L===f.id;return h.jsxs("article",{className:"border border-white/8 rounded-[10px] p-3 bg-white/[0.03]",children:[h.jsx("h3",{className:"m-0 mb-1 text-[15px] font-semibold text-white",children:f.name}),f.description&&h.jsx("p",{className:"m-0 mb-2 text-sm text-white/75",children:f.description}),h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsxs("span",{className:"inline-block text-xs px-2 py-0.5 rounded-full bg-white/8 text-white/90",children:[f.stepCount," steps"]}),f.steps&&f.steps.length>0&&h.jsx("button",{type:"button",onClick:t,className:"text-xs px-2 py-0.5 rounded-full bg-white/5 text-white/75 border-none cursor-pointer transition-colors hover:bg-white/10 hover:text-white",children:o?"收起":`展开 ${f.stepCount} steps`})]}),o&&f.steps&&h.jsx(wr,{steps:f.steps}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{type:"button",onClick:()=>e(f.id),disabled:l||n,className:"px-3 py-2 rounded-lg border-none bg-[#5a63ed] text-white cursor-pointer transition-opacity disabled:opacity-50 disabled:cursor-not-allowed hover:enabled:opacity-90",children:l?"Scenario running":"Run scenario"}),h.jsx("button",{type:"button",onClick:()=>s(f.id),disabled:!k,className:"px-3 py-2 rounded-lg border-none bg-white/10 text-white cursor-pointer transition-opacity disabled:opacity-50 disabled:cursor-not-allowed hover:enabled:bg-white/15",children:"Stop"})]})]})}function wr({steps:f}){return h.jsx("div",{className:"mb-3 border border-white/5 rounded-lg p-2 bg-white/[0.02]",children:h.jsx("div",{className:"flex flex-col gap-1",children:f.map(k=>h.jsx(_r,{step:k},k.stepNumber))})})}function _r({step:f}){const[k,L]=me.useState(!1);return h.jsxs("div",{className:"border border-white/5 rounded-md p-2 bg-white/[0.01]",children:[h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("span",{className:"text-xs text-white/50 font-mono",children:["Step ",f.stepNumber,":"]})," ",h.jsx("span",{className:"text-sm text-white/90",children:f.description})]}),h.jsx("button",{type:"button",onClick:()=>L(!k),className:"text-xs px-2 py-0.5 rounded bg-white/5 text-white/60 border-none cursor-pointer transition-colors hover:bg-white/10 hover:text-white/90 flex-shrink-0",children:k?"隐藏 JSON":"查看 JSON"})]}),k&&h.jsx("pre",{className:"mt-2 p-2 rounded bg-black/30 text-xs text-white/70 overflow-x-auto font-mono m-0",children:JSON.stringify(f.payload,null,2)})]})}function kr({scenarios:f,activeRunId:k,startingScenarioId:L,loadingScenarios:o,error:t,onRunScenario:e,onStopScenario:s}){return h.jsxs("div",{className:"flex flex-col gap-6",children:[t&&h.jsx("div",{className:"p-3 rounded-lg bg-[#e74c3c]/15 text-[#ff9386] border border-[#e74c3c]/25",children:t}),h.jsxs("section",{children:[h.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"可用场景"}),h.jsx(vr,{scenarios:f,activeRunId:k,startingScenarioId:L,loadingScenarios:o,onRunScenario:e,onStopScenario:s})]})]})}function xr(f){if(f.browser_navigate)return`Navigate to ${f.browser_navigate.url}`;if(f.browser_view)return"View page";if(f.browser_press_key)return`Press key: ${f.browser_press_key.key}`;if(f.browser_scroll_down)return f.browser_scroll_down.to_bottom?"Scroll to bottom":"Scroll down";if(f.browser_scroll_up)return f.browser_scroll_up.to_top?"Scroll to top":"Scroll up";if(f.browser_scroll_left)return f.browser_scroll_left.to_end?"Scroll to start":"Scroll left";if(f.browser_scroll_right)return f.browser_scroll_right.to_end?"Scroll to end":"Scroll right";if(f.browser_find_keyword)return`Find: "${f.browser_find_keyword.keyword}"`;if(f.browser_click){const{index:k,coordinate_x:L,coordinate_y:o}=f.browser_click;return L!=null&&o!=null?`Click (${L}, ${o})`:k!=null?`Click [${k}]`:"Click"}if(f.browser_input){const{index:k,coordinate_x:L,coordinate_y:o,text:t,press_enter:e}=f.browser_input;return`Input${L!=null&&o!=null?` (${L}, ${o})`:k!=null?` [${k}]`:""}: "${t}"${e?" ⏎":""}`}return"Unknown action"}function jr(f){if(f.type==="session_status"){const k=[`Session status: ${f.status}`];return f.sessionTitle&&k.push(`"${f.sessionTitle}"`),f.error&&k.push(`(error: ${f.error})`),k.join(" ")}return xr(f.action)}function Er(f,k){return{stepNumber:k+1,description:jr(f),payload:f}}function Cr(f){return{id:f.id,name:f.name,description:f.description,stepCount:f.steps.length,steps:f.steps.map(Er)}}function Sr(f){return{...f,type:f.type,description:Ar(f)}}function Ar(f){switch(f.type){case"browser_navigate":return`Navigate to ${f.url}`;case"browser_click":return`Click (${Ft(f.target)})`;case"browser_input":return`Input text (${Ft(f.target)})`;case"browser_press_key":return`Press key ${f.key}`;case"browser_scroll":return`Scroll ${f.direction}${f.toExtreme?" to extreme":""}`;case"wait":return`Wait ${f.ms}ms`;case"browser_view":return"Capture page view";default:return"Unsupported action"}}function Ft(f){if(!f)return"unspecified target";switch(f.strategy){case"bySelector":return`selector ${f.selector}`;case"byIndex":return`index ${f.index}`;case"byCoordinates":return`coordinates ${f.x}, ${f.y}`;default:return"unknown target"}}function Or(f){return{action:Sr(f.action),status:f.status,message:f.message,error:f.error,artifacts:f.artifacts}}class Nr{constructor(){vt(this,"listeners",new Map)}on(k,L){return this.listeners.has(k)||this.listeners.set(k,new Set),this.listeners.get(k).add(L),()=>this.off(k,L)}off(k,L){var o;(o=this.listeners.get(k))==null||o.delete(L)}emit(k,L){const o=this.listeners.get(k);if(o)for(const t of o)try{t(L)}catch(e){ie.error(`Error in listener for ${k}:`,e)}}getListenerCount(k){var L;return((L=this.listeners.get(k))==null?void 0:L.size)??0}clear(){this.listeners.clear()}}class Mr{constructor(){vt(this,"eventEmitter",new Nr)}async handle(k,L,o){if(!this.isValidEventMessage(k)){ie.warn(`${this.constructor.name}: Invalid event message, ignoring`);return}const t=k;this.handleEvent(t)}on(k,L){return this.eventEmitter.on(k,L)}getListenerCount(k){return this.eventEmitter.getListenerCount(k)}clear(){this.eventEmitter.clear()}}const tt=class tt extends Mr{constructor(){super()}static getInstance(){return tt.instance||(tt.instance=new tt),tt.instance}isValidEventMessage(k){return!k||typeof k!="object"?!1:k.source==="background"}handleEvent(k){switch(k.type){case"automation/progress":this.eventEmitter.emit("automation/progress",k.result);break;case"automation/summary":this.eventEmitter.emit("automation/summary",k.summary);break;case"automation/event-log":this.eventEmitter.emit("automation/event-log",k.log);break;default:{const L=k;ie.warn("[SidePanelEventHandler] Unhandled event type:",L)}}}};vt(tt,"instance",null);let gt=tt;function jt(f,k){me.useEffect(()=>gt.getInstance().on(f,k),[f,k])}function Fr(){const[f,k]=me.useState({scenarios:Xt.map(Cr),runLogs:{},activeRunId:null,startingScenarioId:null,loadingScenarios:!0,error:void 0}),L=me.useCallback(n=>{ie.debug("[useAutomation] Received automation progress",{runId:n.runId,status:n.status}),k(i=>{const u=Et(i,n.runId,n.scenarioId),m={...u,status:n.status==="error"?"error":u.status,steps:[...u.steps,Or(n)]};return{...i,runLogs:{...i.runLogs,[u.runId]:m}}})},[]),o=me.useCallback(n=>{ie.debug("[useAutomation] Received automation summary",{runId:n.runId,status:n.status}),k(i=>{const u=Et(i,n.runId,n.scenarioId),m=i.activeRunId===n.runId?null:i.activeRunId;let v;return n.status==="success"?v="completed":n.status==="cancelled"?v="stopped":v="error",{...i,activeRunId:m,runLogs:{...i.runLogs,[n.runId]:{...u,status:v,completedAt:n.completedAt??Date.now()}}}})},[]),t=me.useCallback(n=>{ie.debug("[useAutomation] Received event log",{sessionId:n.sessionId,eventType:n.eventType});const i=`server-session-${n.sessionId}`;k(u=>{var P;let m=null,v=null;for(const[T,Y]of Object.entries(u.runLogs))if(Y.scenarioId===i||T.includes(n.sessionId)){m=Y,v=T;break}(!m||!v)&&(v=`server-${n.sessionId}-event`,m=Et(u,v,i));const j={timestamp:n.timestamp,direction:n.direction,type:n.eventType,payload:n.payload},S={...m,logs:[...m.logs||[],j]};if(n.eventType==="session_status"&&((P=n.payload)!=null&&P.status)){const T=n.payload.status;T==="completed"?S.status="completed":T==="stopped"?S.status="stopped":T==="error"&&(S.status="error")}return{...u,runLogs:{...u.runLogs,[v]:S}}})},[]);jt("automation/progress",L),jt("automation/summary",o),jt("automation/event-log",t),me.useEffect(()=>{(async()=>{k(i=>({...i,loadingScenarios:!0,error:void 0}));try{const i=await ut({source:"sidepanel",type:"automation/get-scenarios"});if(!i.ok)throw new Error(i.error??"Unknown error");ie.info("Background responded with scenario list",{count:Array.isArray(i.scenarios)?i.scenarios.length:"unknown"}),k(u=>({...u,loadingScenarios:!1,scenarios:i.scenarios||[]}))}catch(i){const u=i instanceof Error?i.message:String(i);ie.error("Failed to load scenarios from background",u),k(m=>({...m,loadingScenarios:!1,error:`Background unavailable: ${u}`}))}})()},[]);const e=me.useCallback(async n=>{if(f.activeRunId||f.startingScenarioId){ie.warn("Run request ignored because another scenario is active",{scenarioId:n,activeRunId:f.activeRunId});return}const i=Tt(n);if(!i){ie.error("Scenario not found when attempting to run",{scenarioId:n}),k(u=>({...u,error:`Scenario ${n} not found.`}));return}k(u=>({...u,startingScenarioId:n,error:void 0})),ie.info("Requesting background to start scenario",{scenarioId:n,stepCount:i.steps.length});try{const u=await ut({source:"sidepanel",type:"automation/run-mock-scenario",scenarioId:n});if(!u.ok||!u.runId)throw new Error(u.error??"Unknown error starting run");ie.info("Scenario run started",{scenarioId:n,runId:u.runId}),k(m=>{const v=m.runLogs[u.runId],j=v?{...v}:{runId:u.runId,scenarioId:n,scenarioName:i.name,status:"running",startedAt:Date.now(),steps:[]},S=v?v.status!=="running":!1;return{...m,activeRunId:S?m.activeRunId:u.runId,startingScenarioId:null,runLogs:{...m.runLogs,[u.runId]:j}}})}catch(u){const m=u instanceof Error?u.message:String(u);ie.error("Failed to start scenario from side panel",{scenarioId:n,reason:m}),k(v=>({...v,startingScenarioId:null,error:`Failed to start scenario: ${m}`}))}},[f.activeRunId,f.startingScenarioId]),s=me.useCallback(async n=>{if(!(f.activeRunId||f.startingScenarioId)){ie.warn("No active running scenario, cannot stop",{scenarioId:n});return}ie.info("Cancelling scenario run",{scenarioId:n});try{const i=await ut({source:"sidepanel",type:"automation/stop-mock-scenario",scenarioId:n});if(!i.ok)throw new Error(i.error??"Unknown error stopping scenario run");ie.info("Scenario stopped successfully",{scenarioId:n}),k(u=>({...u,startingScenarioId:void 0,activeRunId:void 0,error:void 0}))}catch(i){const u=i instanceof Error?i.message:String(i);ie.error("Failed to stop scenario from side panel",{scenarioId:n,reason:u}),k(m=>({...m,error:`Failed to stop scenario: ${u}`}))}},[f.activeRunId,f.startingScenarioId]),l=me.useCallback(()=>{k(n=>({...n,runLogs:{}})),ie.info("Run logs cleared")},[]);return{scenarios:f.scenarios,runLogs:f.runLogs,activeRunId:f.activeRunId,startingScenarioId:f.startingScenarioId,loadingScenarios:f.loadingScenarios,error:f.error,runScenario:e,stopScenario:s,clearLogs:l}}function Et(f,k,L){const o=f.runLogs[k];if(o)return o;const t=L.startsWith("server-session-");let e=Tt(L);if(t&&!e){const l=L.replace("server-session-","");e={id:L,name:`Server Action (Session: ${l})`,description:"Action triggered by Node.js server via Socket.IO",steps:[]}}return{runId:k,scenarioId:L,scenarioName:(e==null?void 0:e.name)??L,status:"running",startedAt:Date.now(),steps:[]}}function Pt(f,k){const L={browser_navigate:null,browser_click:null,browser_input:null,browser_press_key:null,browser_scroll_up:null,browser_scroll_down:null,browser_scroll_left:null,browser_scroll_right:null,browser_view:null,browser_find_keyword:null};switch(f){case"browser_navigate":L.browser_navigate=k;break;case"browser_click":L.browser_click=k;break;case"browser_input":L.browser_input=k;break;case"browser_press_key":L.browser_press_key=k;break;case"browser_scroll_up":L.browser_scroll_up=k;break;case"browser_scroll_down":L.browser_scroll_down=k;break;case"browser_scroll_left":L.browser_scroll_left=k;break;case"browser_scroll_right":L.browser_scroll_right=k;break;case"browser_view":L.browser_view={};break;case"browser_find_keyword":L.browser_find_keyword=k;break;default:throw new Error(`Unsupported browser_action: ${f}`)}return L}const Rt=[{id:"navigation",title:"Navigation",triggers:[{id:"nav-google",name:"Google (Search)",browser_action:"browser_navigate",payload:{url:"https://www.google.com/search?q=林俊杰"},hideJson:!0},{id:"nav-baidu",name:"Baidu (Search)",browser_action:"browser_navigate",payload:{url:"https://www.baidu.com/s?wd=人工智能"},hideJson:!0},{id:"nav-bing",name:"Bing (Search)",browser_action:"browser_navigate",payload:{url:"https://www.bing.com/search?q=machine+learning"},hideJson:!0},{id:"nav-linkedin",name:"LinkedIn Feed",browser_action:"browser_navigate",payload:{url:"https://www.linkedin.com/feed/"},hideJson:!0},{id:"nav-twitter",name:"Twitter",browser_action:"browser_navigate",payload:{url:"https://twitter.com"},hideJson:!0},{id:"nav-instagram",name:"Instagram Explore",browser_action:"browser_navigate",payload:{url:"https://www.instagram.com/explore/"},hideJson:!0},{id:"nav-tiktok",name:"TikTok For You",browser_action:"browser_navigate",payload:{url:"https://www.tiktok.com/foryou"},hideJson:!0},{id:"nav-youtube",name:"YouTube (Search)",browser_action:"browser_navigate",payload:{url:"https://www.youtube.com/results?search_query=飞轮海"},hideJson:!0},{id:"nav-netflix",name:"Netflix Browse",browser_action:"browser_navigate",payload:{url:"https://www.netflix.com/browse"},hideJson:!0},{id:"nav-github",name:"GitHub",browser_action:"browser_navigate",payload:{url:"https://github.com"},hideJson:!0},{id:"nav-stackoverflow",name:"Stack Overflow",browser_action:"browser_navigate",payload:{url:"https://stackoverflow.com"},hideJson:!0},{id:"nav-hackernews",name:"Hacker News",browser_action:"browser_navigate",payload:{url:"https://news.ycombinator.com/"},hideJson:!0},{id:"nav-devto",name:"Dev.to",browser_action:"browser_navigate",payload:{url:"https://dev.to/"},hideJson:!0},{id:"nav-reddit",name:"Reddit r/programming",browser_action:"browser_navigate",payload:{url:"https://www.reddit.com/r/programming/"},hideJson:!0},{id:"nav-medium",name:"Medium Technology",browser_action:"browser_navigate",payload:{url:"https://medium.com/tag/technology"},hideJson:!0},{id:"nav-producthunt",name:"Product Hunt",browser_action:"browser_navigate",payload:{url:"https://www.producthunt.com/"},hideJson:!0},{id:"nav-gmail",name:"Gmail",browser_action:"browser_navigate",payload:{url:"https://mail.google.com/mail/u/0/"},hideJson:!0},{id:"nav-spotify",name:"Spotify Search",browser_action:"browser_navigate",payload:{url:"https://open.spotify.com/search"},hideJson:!0},{id:"nav-wikipedia",name:"Wikipedia",browser_action:"browser_navigate",payload:{url:"https://en.wikipedia.org"},hideJson:!0},{id:"nav-amazon",name:"Amazon",browser_action:"browser_navigate",payload:{url:"https://www.amazon.com"},hideJson:!0}]},{id:"scroll-actions",title:"Scroll Actions",triggers:[{id:"scroll-up",name:"Scroll Up",browser_action:"browser_scroll_up",payload:{to_top:!1},hideJson:!0},{id:"scroll-to-top",name:"Scroll to Top",browser_action:"browser_scroll_up",payload:{to_top:!0},hideJson:!0},{id:"scroll-down",name:"Scroll Down",browser_action:"browser_scroll_down",payload:{to_bottom:!1},hideJson:!0},{id:"scroll-to-bottom",name:"Scroll to Bottom",browser_action:"browser_scroll_down",payload:{to_bottom:!0},hideJson:!0},{id:"scroll-left",name:"Scroll Left",browser_action:"browser_scroll_left",payload:{to_end:!1},hideJson:!0},{id:"scroll-to-start",name:"Scroll to Start",browser_action:"browser_scroll_left",payload:{to_end:!0},hideJson:!0},{id:"scroll-right",name:"Scroll Right",browser_action:"browser_scroll_right",payload:{to_end:!1},hideJson:!0},{id:"scroll-to-end",name:"Scroll to End",browser_action:"browser_scroll_right",payload:{to_end:!0},hideJson:!0}]},{id:"general-actions",title:"General Actions",triggers:[{id:"navigate",name:"Navigate to URL",browser_action:"browser_navigate",payload:{url:"https://example.com"}},{id:"click-index",name:"Click Element by Index",browser_action:"browser_click",payload:{index:0}},{id:"click-coord",name:"Click Element by Coordinates",browser_action:"browser_click",payload:{coordinate_x:100,coordinate_y:200}},{id:"input",name:"Input Text",browser_action:"browser_input",payload:{index:0,text:"hello world",press_enter:!1}},{id:"press-key",name:"Press Keyboard Key",browser_action:"browser_press_key",payload:{key:"Enter"}},{id:"find-keyword",name:"Find Keyword",browser_action:"browser_find_keyword",payload:{keyword:"search term",brief:"Looking for specific text on the page"}}]},{id:"keyboard-keys",title:"Press Keyboard Key",triggers:[{id:"key-f1",name:"F1",browser_action:"browser_press_key",payload:{key:"F1"},hideJson:!0},{id:"key-f2",name:"F2",browser_action:"browser_press_key",payload:{key:"F2"},hideJson:!0},{id:"key-f3",name:"F3",browser_action:"browser_press_key",payload:{key:"F3"},hideJson:!0},{id:"key-f4",name:"F4",browser_action:"browser_press_key",payload:{key:"F4"},hideJson:!0},{id:"key-f5",name:"F5",browser_action:"browser_press_key",payload:{key:"F5"},hideJson:!0},{id:"key-f6",name:"F6",browser_action:"browser_press_key",payload:{key:"F6"},hideJson:!0},{id:"key-f7",name:"F7",browser_action:"browser_press_key",payload:{key:"F7"},hideJson:!0},{id:"key-f8",name:"F8",browser_action:"browser_press_key",payload:{key:"F8"},hideJson:!0},{id:"key-f9",name:"F9",browser_action:"browser_press_key",payload:{key:"F9"},hideJson:!0},{id:"key-f10",name:"F10",browser_action:"browser_press_key",payload:{key:"F10"},hideJson:!0},{id:"key-f11",name:"F11",browser_action:"browser_press_key",payload:{key:"F11"},hideJson:!0},{id:"key-f12",name:"F12",browser_action:"browser_press_key",payload:{key:"F12"},hideJson:!0},{id:"key-escape",name:"Escape",browser_action:"browser_press_key",payload:{key:"Escape"},hideJson:!0},{id:"key-tab",name:"Tab",browser_action:"browser_press_key",payload:{key:"Tab"},hideJson:!0},{id:"key-capslock",name:"CapsLock",browser_action:"browser_press_key",payload:{key:"CapsLock"},hideJson:!0},{id:"key-enter",name:"Enter",browser_action:"browser_press_key",payload:{key:"Enter"},hideJson:!0},{id:"key-backspace",name:"Backspace",browser_action:"browser_press_key",payload:{key:"Backspace"},hideJson:!0},{id:"key-space",name:"Space",browser_action:"browser_press_key",payload:{key:" "},hideJson:!0},{id:"key-0",name:"0",browser_action:"browser_press_key",payload:{key:"0"},hideJson:!0},{id:"key-1",name:"1",browser_action:"browser_press_key",payload:{key:"1"},hideJson:!0},{id:"key-2",name:"2",browser_action:"browser_press_key",payload:{key:"2"},hideJson:!0},{id:"key-3",name:"3",browser_action:"browser_press_key",payload:{key:"3"},hideJson:!0},{id:"key-4",name:"4",browser_action:"browser_press_key",payload:{key:"4"},hideJson:!0},{id:"key-5",name:"5",browser_action:"browser_press_key",payload:{key:"5"},hideJson:!0},{id:"key-6",name:"6",browser_action:"browser_press_key",payload:{key:"6"},hideJson:!0},{id:"key-7",name:"7",browser_action:"browser_press_key",payload:{key:"7"},hideJson:!0},{id:"key-8",name:"8",browser_action:"browser_press_key",payload:{key:"8"},hideJson:!0},{id:"key-9",name:"9",browser_action:"browser_press_key",payload:{key:"9"},hideJson:!0},{id:"key-a",name:"A",browser_action:"browser_press_key",payload:{key:"A"},hideJson:!0},{id:"key-b",name:"B",browser_action:"browser_press_key",payload:{key:"B"},hideJson:!0},{id:"key-c",name:"C",browser_action:"browser_press_key",payload:{key:"C"},hideJson:!0},{id:"key-d",name:"D",browser_action:"browser_press_key",payload:{key:"D"},hideJson:!0},{id:"key-e",name:"E",browser_action:"browser_press_key",payload:{key:"E"},hideJson:!0},{id:"key-f",name:"F",browser_action:"browser_press_key",payload:{key:"F"},hideJson:!0},{id:"key-g",name:"G",browser_action:"browser_press_key",payload:{key:"G"},hideJson:!0},{id:"key-h",name:"H",browser_action:"browser_press_key",payload:{key:"H"},hideJson:!0},{id:"key-i",name:"I",browser_action:"browser_press_key",payload:{key:"I"},hideJson:!0},{id:"key-j",name:"J",browser_action:"browser_press_key",payload:{key:"J"},hideJson:!0},{id:"key-k",name:"K",browser_action:"browser_press_key",payload:{key:"K"},hideJson:!0},{id:"key-l",name:"L",browser_action:"browser_press_key",payload:{key:"L"},hideJson:!0},{id:"key-m",name:"M",browser_action:"browser_press_key",payload:{key:"M"},hideJson:!0},{id:"key-n",name:"N",browser_action:"browser_press_key",payload:{key:"N"},hideJson:!0},{id:"key-o",name:"O",browser_action:"browser_press_key",payload:{key:"O"},hideJson:!0},{id:"key-p",name:"P",browser_action:"browser_press_key",payload:{key:"P"},hideJson:!0},{id:"key-q",name:"Q",browser_action:"browser_press_key",payload:{key:"Q"},hideJson:!0},{id:"key-r",name:"R",browser_action:"browser_press_key",payload:{key:"R"},hideJson:!0},{id:"key-s",name:"S",browser_action:"browser_press_key",payload:{key:"S"},hideJson:!0},{id:"key-t",name:"T",browser_action:"browser_press_key",payload:{key:"T"},hideJson:!0},{id:"key-u",name:"U",browser_action:"browser_press_key",payload:{key:"U"},hideJson:!0},{id:"key-v",name:"V",browser_action:"browser_press_key",payload:{key:"V"},hideJson:!0},{id:"key-w",name:"W",browser_action:"browser_press_key",payload:{key:"W"},hideJson:!0},{id:"key-x",name:"X",browser_action:"browser_press_key",payload:{key:"X"},hideJson:!0},{id:"key-y",name:"Y",browser_action:"browser_press_key",payload:{key:"Y"},hideJson:!0},{id:"key-z",name:"Z",browser_action:"browser_press_key",payload:{key:"Z"},hideJson:!0},{id:"key-backquote",name:"` (Backquote)",browser_action:"browser_press_key",payload:{key:"`"},hideJson:!0},{id:"key-minus",name:"- (Minus)",browser_action:"browser_press_key",payload:{key:"-"},hideJson:!0},{id:"key-equal",name:"= (Equal)",browser_action:"browser_press_key",payload:{key:"="},hideJson:!0},{id:"key-bracketleft",name:"[ (BracketLeft)",browser_action:"browser_press_key",payload:{key:"["},hideJson:!0},{id:"key-bracketright",name:"] (BracketRight)",browser_action:"browser_press_key",payload:{key:"]"},hideJson:!0},{id:"key-backslash",name:"\\ (Backslash)",browser_action:"browser_press_key",payload:{key:"\\"},hideJson:!0},{id:"key-semicolon",name:"; (Semicolon)",browser_action:"browser_press_key",payload:{key:";"},hideJson:!0},{id:"key-quote",name:"' (Quote)",browser_action:"browser_press_key",payload:{key:"'"},hideJson:!0},{id:"key-comma",name:", (Comma)",browser_action:"browser_press_key",payload:{key:","},hideJson:!0},{id:"key-period",name:". (Period)",browser_action:"browser_press_key",payload:{key:"."},hideJson:!0},{id:"key-slash",name:"/ (Slash)",browser_action:"browser_press_key",payload:{key:"/"},hideJson:!0},{id:"key-arrowup",name:"Arrow Up",browser_action:"browser_press_key",payload:{key:"ArrowUp"},hideJson:!0},{id:"key-arrowdown",name:"Arrow Down",browser_action:"browser_press_key",payload:{key:"ArrowDown"},hideJson:!0},{id:"key-arrowleft",name:"Arrow Left",browser_action:"browser_press_key",payload:{key:"ArrowLeft"},hideJson:!0},{id:"key-arrowright",name:"Arrow Right",browser_action:"browser_press_key",payload:{key:"ArrowRight"},hideJson:!0},{id:"key-home",name:"Home",browser_action:"browser_press_key",payload:{key:"Home"},hideJson:!0},{id:"key-end",name:"End",browser_action:"browser_press_key",payload:{key:"End"},hideJson:!0},{id:"key-pageup",name:"Page Up",browser_action:"browser_press_key",payload:{key:"PageUp"},hideJson:!0},{id:"key-pagedown",name:"Page Down",browser_action:"browser_press_key",payload:{key:"PageDown"},hideJson:!0},{id:"key-insert",name:"Insert",browser_action:"browser_press_key",payload:{key:"Insert"},hideJson:!0},{id:"key-delete",name:"Delete",browser_action:"browser_press_key",payload:{key:"Delete"},hideJson:!0},{id:"key-numpad0",name:"Numpad 0",browser_action:"browser_press_key",payload:{key:"Numpad0"},hideJson:!0},{id:"key-numpad1",name:"Numpad 1",browser_action:"browser_press_key",payload:{key:"Numpad1"},hideJson:!0},{id:"key-numpad2",name:"Numpad 2",browser_action:"browser_press_key",payload:{key:"Numpad2"},hideJson:!0},{id:"key-numpad3",name:"Numpad 3",browser_action:"browser_press_key",payload:{key:"Numpad3"},hideJson:!0},{id:"key-numpad4",name:"Numpad 4",browser_action:"browser_press_key",payload:{key:"Numpad4"},hideJson:!0},{id:"key-numpad5",name:"Numpad 5",browser_action:"browser_press_key",payload:{key:"Numpad5"},hideJson:!0},{id:"key-numpad6",name:"Numpad 6",browser_action:"browser_press_key",payload:{key:"Numpad6"},hideJson:!0},{id:"key-numpad7",name:"Numpad 7",browser_action:"browser_press_key",payload:{key:"Numpad7"},hideJson:!0},{id:"key-numpad8",name:"Numpad 8",browser_action:"browser_press_key",payload:{key:"Numpad8"},hideJson:!0},{id:"key-numpad9",name:"Numpad 9",browser_action:"browser_press_key",payload:{key:"Numpad9"},hideJson:!0},{id:"key-numpad-multiply",name:"Numpad *",browser_action:"browser_press_key",payload:{key:"NumpadMultiply"},hideJson:!0},{id:"key-numpad-add",name:"Numpad +",browser_action:"browser_press_key",payload:{key:"NumpadAdd"},hideJson:!0},{id:"key-numpad-subtract",name:"Numpad -",browser_action:"browser_press_key",payload:{key:"NumpadSubtract"},hideJson:!0},{id:"key-numpad-decimal",name:"Numpad .",browser_action:"browser_press_key",payload:{key:"NumpadDecimal"},hideJson:!0},{id:"key-numpad-divide",name:"Numpad /",browser_action:"browser_press_key",payload:{key:"NumpadDivide"},hideJson:!0},{id:"key-numpad-enter",name:"Numpad Enter",browser_action:"browser_press_key",payload:{key:"NumpadEnter"},hideJson:!0}]},{id:"combined-keys",title:"Combined Keys",triggers:[{id:"combo-ctrl-c",name:"Ctrl+C (Copy)",browser_action:"browser_press_key",payload:{key:"Control+C"},hideJson:!0},{id:"combo-cmd-c",name:"Cmd+C (Copy Mac)",browser_action:"browser_press_key",payload:{key:"Meta+C"},hideJson:!0},{id:"combo-ctrl-v",name:"Ctrl+V (Paste)",browser_action:"browser_press_key",payload:{key:"Control+V"},hideJson:!0},{id:"combo-cmd-v",name:"Cmd+V (Paste Mac)",browser_action:"browser_press_key",payload:{key:"Meta+V"},hideJson:!0},{id:"combo-ctrl-x",name:"Ctrl+X (Cut)",browser_action:"browser_press_key",payload:{key:"Control+X"},hideJson:!0},{id:"combo-cmd-x",name:"Cmd+X (Cut Mac)",browser_action:"browser_press_key",payload:{key:"Meta+X"},hideJson:!0},{id:"combo-ctrl-a",name:"Ctrl+A (Select All)",browser_action:"browser_press_key",payload:{key:"Control+A"},hideJson:!0},{id:"combo-cmd-a",name:"Cmd+A (Select All Mac)",browser_action:"browser_press_key",payload:{key:"Meta+A"},hideJson:!0},{id:"combo-ctrl-z",name:"Ctrl+Z (Undo)",browser_action:"browser_press_key",payload:{key:"Control+Z"},hideJson:!0},{id:"combo-cmd-z",name:"Cmd+Z (Undo Mac)",browser_action:"browser_press_key",payload:{key:"Meta+Z"},hideJson:!0},{id:"combo-ctrl-y",name:"Ctrl+Y (Redo)",browser_action:"browser_press_key",payload:{key:"Control+Y"},hideJson:!0},{id:"combo-cmd-y",name:"Cmd+Y (Redo Mac)",browser_action:"browser_press_key",payload:{key:"Meta+Y"},hideJson:!0},{id:"combo-ctrl-s",name:"Ctrl+S (Save)",browser_action:"browser_press_key",payload:{key:"Control+S"},hideJson:!0},{id:"combo-cmd-s",name:"Cmd+S (Save Mac)",browser_action:"browser_press_key",payload:{key:"Meta+S"},hideJson:!0},{id:"combo-ctrl-f",name:"Ctrl+F (Find)",browser_action:"browser_press_key",payload:{key:"Control+F"},hideJson:!0},{id:"combo-cmd-f",name:"Cmd+F (Find Mac)",browser_action:"browser_press_key",payload:{key:"Meta+F"},hideJson:!0},{id:"combo-home",name:"Home",browser_action:"browser_press_key",payload:{key:"Home"},hideJson:!0},{id:"combo-end",name:"End",browser_action:"browser_press_key",payload:{key:"End"},hideJson:!0},{id:"combo-ctrl-home",name:"Ctrl+Home (Doc Start)",browser_action:"browser_press_key",payload:{key:"Control+Home"},hideJson:!0},{id:"combo-cmd-home",name:"Cmd+Home (Doc Start Mac)",browser_action:"browser_press_key",payload:{key:"Meta+Home"},hideJson:!0},{id:"combo-ctrl-end",name:"Ctrl+End (Doc End)",browser_action:"browser_press_key",payload:{key:"Control+End"},hideJson:!0},{id:"combo-cmd-end",name:"Cmd+End (Doc End Mac)",browser_action:"browser_press_key",payload:{key:"Meta+End"},hideJson:!0},{id:"combo-ctrl-left",name:"Ctrl+Left (Word Left)",browser_action:"browser_press_key",payload:{key:"Control+ArrowLeft"},hideJson:!0},{id:"combo-cmd-left",name:"Cmd+Left (Word Left Mac)",browser_action:"browser_press_key",payload:{key:"Meta+ArrowLeft"},hideJson:!0},{id:"combo-ctrl-right",name:"Ctrl+Right (Word Right)",browser_action:"browser_press_key",payload:{key:"Control+ArrowRight"},hideJson:!0},{id:"combo-cmd-right",name:"Cmd+Right (Word Right Mac)",browser_action:"browser_press_key",payload:{key:"Meta+ArrowRight"},hideJson:!0},{id:"combo-shift-tab",name:"Shift+Tab",browser_action:"browser_press_key",payload:{key:"Shift+Tab"},hideJson:!0},{id:"combo-shift-enter",name:"Shift+Enter",browser_action:"browser_press_key",payload:{key:"Shift+Enter"},hideJson:!0},{id:"combo-shift-home",name:"Shift+Home (Select to Line Start)",browser_action:"browser_press_key",payload:{key:"Shift+Home"},hideJson:!0},{id:"combo-shift-end",name:"Shift+End (Select to Line End)",browser_action:"browser_press_key",payload:{key:"Shift+End"},hideJson:!0},{id:"combo-ctrl-t",name:"Ctrl+T (New Tab)",browser_action:"browser_press_key",payload:{key:"Control+T"},hideJson:!0},{id:"combo-cmd-t",name:"Cmd+T (New Tab Mac)",browser_action:"browser_press_key",payload:{key:"Meta+T"},hideJson:!0},{id:"combo-ctrl-w",name:"Ctrl+W (Close Tab)",browser_action:"browser_press_key",payload:{key:"Control+W"},hideJson:!0},{id:"combo-cmd-w",name:"Cmd+W (Close Tab Mac)",browser_action:"browser_press_key",payload:{key:"Meta+W"},hideJson:!0},{id:"combo-ctrl-tab",name:"Ctrl+Tab (Next Tab)",browser_action:"browser_press_key",payload:{key:"Control+Tab"},hideJson:!0},{id:"combo-ctrl-shift-t",name:"Ctrl+Shift+T (Reopen Tab)",browser_action:"browser_press_key",payload:{key:"Control+Shift+T"},hideJson:!0},{id:"combo-cmd-shift-t",name:"Cmd+Shift+T (Reopen Tab Mac)",browser_action:"browser_press_key",payload:{key:"Meta+Shift+T"},hideJson:!0},{id:"combo-ctrl-l",name:"Ctrl+L (Address Bar)",browser_action:"browser_press_key",payload:{key:"Control+L"},hideJson:!0},{id:"combo-cmd-l",name:"Cmd+L (Address Bar Mac)",browser_action:"browser_press_key",payload:{key:"Meta+L"},hideJson:!0},{id:"combo-ctrl-r",name:"Ctrl+R (Reload)",browser_action:"browser_press_key",payload:{key:"Control+R"},hideJson:!0},{id:"combo-cmd-r",name:"Cmd+R (Reload Mac)",browser_action:"browser_press_key",payload:{key:"Meta+R"},hideJson:!0},{id:"combo-alt-left",name:"Alt+Left (Back)",browser_action:"browser_press_key",payload:{key:"Alt+ArrowLeft"},hideJson:!0},{id:"combo-alt-right",name:"Alt+Right (Forward)",browser_action:"browser_press_key",payload:{key:"Alt+ArrowRight"},hideJson:!0},{id:"combo-alt-home",name:"Alt+Home (Homepage)",browser_action:"browser_press_key",payload:{key:"Alt+Home"},hideJson:!0},{id:"combo-f5",name:"F5 (Refresh)",browser_action:"browser_press_key",payload:{key:"F5"},hideJson:!0},{id:"combo-ctrl-f5",name:"Ctrl+F5 (Hard Refresh)",browser_action:"browser_press_key",payload:{key:"Control+F5"},hideJson:!0},{id:"combo-cmd-f5",name:"Cmd+F5 (Hard Refresh Mac)",browser_action:"browser_press_key",payload:{key:"Meta+F5"},hideJson:!0},{id:"combo-alt-f4",name:"Alt+F4 (Close Window)",browser_action:"browser_press_key",payload:{key:"Alt+F4"},hideJson:!0},{id:"combo-shift-f10",name:"Shift+F10 (Context Menu)",browser_action:"browser_press_key",payload:{key:"Shift+F10"},hideJson:!0},{id:"combo-ctrl-f1",name:"Ctrl+F1",browser_action:"browser_press_key",payload:{key:"Control+F1"},hideJson:!0},{id:"combo-cmd-f1",name:"Cmd+F1 (Mac)",browser_action:"browser_press_key",payload:{key:"Meta+F1"},hideJson:!0},{id:"combo-ctrl-f2",name:"Ctrl+F2",browser_action:"browser_press_key",payload:{key:"Control+F2"},hideJson:!0},{id:"combo-cmd-f2",name:"Cmd+F2 (Mac)",browser_action:"browser_press_key",payload:{key:"Meta+F2"},hideJson:!0},{id:"combo-ctrl-f3",name:"Ctrl+F3",browser_action:"browser_press_key",payload:{key:"Control+F3"},hideJson:!0},{id:"combo-cmd-f3",name:"Cmd+F3 (Mac)",browser_action:"browser_press_key",payload:{key:"Meta+F3"},hideJson:!0},{id:"combo-ctrl-f4",name:"Ctrl+F4 (Close Tab)",browser_action:"browser_press_key",payload:{key:"Control+F4"},hideJson:!0},{id:"combo-cmd-f4",name:"Cmd+F4 (Mac)",browser_action:"browser_press_key",payload:{key:"Meta+F4"},hideJson:!0},{id:"combo-ctrl-f6",name:"Ctrl+F6 (Next Document)",browser_action:"browser_press_key",payload:{key:"Control+F6"},hideJson:!0},{id:"combo-cmd-f6",name:"Cmd+F6 (Mac)",browser_action:"browser_press_key",payload:{key:"Meta+F6"},hideJson:!0},{id:"combo-ctrl-f7",name:"Ctrl+F7",browser_action:"browser_press_key",payload:{key:"Control+F7"},hideJson:!0},{id:"combo-cmd-f7",name:"Cmd+F7 (Mac)",browser_action:"browser_press_key",payload:{key:"Meta+F7"},hideJson:!0},{id:"combo-ctrl-f8",name:"Ctrl+F8",browser_action:"browser_press_key",payload:{key:"Control+F8"},hideJson:!0},{id:"combo-cmd-f8",name:"Cmd+F8 (Mac)",browser_action:"browser_press_key",payload:{key:"Meta+F8"},hideJson:!0},{id:"combo-ctrl-f9",name:"Ctrl+F9",browser_action:"browser_press_key",payload:{key:"Control+F9"},hideJson:!0},{id:"combo-cmd-f9",name:"Cmd+F9 (Mac)",browser_action:"browser_press_key",payload:{key:"Meta+F9"},hideJson:!0},{id:"combo-ctrl-f10",name:"Ctrl+F10",browser_action:"browser_press_key",payload:{key:"Control+F10"},hideJson:!0},{id:"combo-cmd-f10",name:"Cmd+F10 (Mac)",browser_action:"browser_press_key",payload:{key:"Meta+F10"},hideJson:!0},{id:"combo-ctrl-f11",name:"Ctrl+F11",browser_action:"browser_press_key",payload:{key:"Control+F11"},hideJson:!0},{id:"combo-cmd-f11",name:"Cmd+F11 (Mac)",browser_action:"browser_press_key",payload:{key:"Meta+F11"},hideJson:!0},{id:"combo-ctrl-f12",name:"Ctrl+F12 (DevTools)",browser_action:"browser_press_key",payload:{key:"Control+F12"},hideJson:!0},{id:"combo-cmd-f12",name:"Cmd+F12 (Mac)",browser_action:"browser_press_key",payload:{key:"Meta+F12"},hideJson:!0}]}];function Pr(){const[f,k]=me.useState(new Map),L=me.useCallback(e=>f.get(e)??{status:"idle"},[f]),o=me.useCallback(async(e,s,l,n)=>{if(s===null){ie.error("Cannot trigger action: no active tab"),k(i=>{const u=new Map(i);return u.set(e,{status:"error",error:"No active tab"}),u});return}k(i=>{const u=new Map(i);return u.set(e,{status:"loading"}),u});try{ie.info("Triggering browser action",{actionId:e,tabId:s,actionType:l.type});const i=await ut({source:"sidepanel",type:"automation/trigger-browser-action",tabId:s,action:l,captureArtifacts:(n==null?void 0:n.captureArtifacts)??!1});if(!i.ok)throw new Error(i.error||"Unknown error");k(u=>{const m=new Map(u);return m.set(e,{status:"success",message:i.message}),m}),ie.info("Browser action succeeded",{actionId:e,message:i.message})}catch(i){const u=i instanceof Error?i.message:String(i);ie.error("Browser action failed",{actionId:e,error:u}),k(m=>{const v=new Map(m);return v.set(e,{status:"error",error:u}),v})}},[]),t=me.useCallback(e=>{k(s=>{const l=new Map(s);return l.delete(e),l})},[]);return{getActionState:L,triggerAction:o,clearActionState:t}}const It="view-screen-main";function Rr({activeTabId:f}){const{getActionState:k,triggerAction:L}=Pr(),o=k(It),t=o.status==="loading",e=async()=>{ie.info("View Screen button clicked",{activeTabId:f});try{const l=Pt("browser_view",{}),n=Mt(l);await L(It,f,n,{captureArtifacts:!0})}catch(l){ie.error("Failed to trigger View Screen action",{error:l instanceof Error?l.message:String(l)})}},s=async(l,n,i)=>{ie.info("Browser Action Triggered",{triggerId:l,browser_action:n,payload:i,activeTabId:f});try{const u=Pt(n,i),m=Mt(u);await L(l,f,m)}catch(u){ie.error("Failed to convert or trigger action",{triggerId:l,browser_action:n,error:u instanceof Error?u.message:String(u)})}};return h.jsxs("div",{className:"h-full overflow-y-auto",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("h2",{className:"text-lg font-semibold text-white mb-1",children:"Browser Actions"}),h.jsx("p",{className:"text-sm text-[#94a3b8] mb-3",children:"手动触发浏览器操作，用于测试和调试。编辑 JSON payload 后点击 Trigger 按钮执行。"})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("button",{type:"button",onClick:e,disabled:t||f===null,className:`clickable w-full px-4 py-3 rounded-lg text-white font-medium transition-all flex items-center justify-center gap-2 ${t?"bg-[#5a63ed]/50 cursor-wait":f===null?"bg-[#5a63ed]/30 cursor-not-allowed opacity-50":"bg-[#5a63ed] hover:bg-[#4a53dd] active:bg-[#3a43cd]"}`,children:t?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",fill:"none",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h.jsx("span",{children:"Viewing..."})]}):h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),h.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),h.jsx("span",{children:"View Screen"})]})}),o.status==="error"&&h.jsx("p",{className:"mt-2 text-sm text-red-400",children:o.error}),o.status==="success"&&h.jsx("p",{className:"mt-2 text-sm text-green-400",children:"✓ View captured successfully"})]}),Rt.map((l,n)=>h.jsxs("div",{className:n<Rt.length-1?"mb-6":"",children:[h.jsxs("div",{className:"mb-3",children:[h.jsx("h3",{className:"text-sm font-semibold text-white mb-2",children:l.title}),h.jsx("div",{className:"h-px bg-[#94a3b8]/10"})]}),h.jsx(sr,{triggers:l.triggers,onTrigger:s,getActionStatus:k})]},l.id))]})}function Ir({runLogs:f}){return h.jsx(dr,{runLogs:f,maxLogs:50})}function Lr({manifestVersion:f,buildTime:k,activeTabId:L,activeTabTitle:o,activeTabUrl:t,loadingScenarios:e,error:s,token:l,devBranch:n,lastActivationMessage:i,lastActivationSuccess:u,onActivate:m,onMockActivate:v,onClearLogs:j}){const S=[{label:"Sync Token",onClick:m,title:"从 Manus Web App 激活并获取 Cookie"},{label:"Notify Server",onClick:v,title:"发送 Activate Extension 消息（测试用）"}],P=l||n||i;return h.jsxs("header",{className:"flex flex-col border-b border-white/12",children:[h.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 bg-[#0f121e]/95 text-xs border-b border-white/6",children:[h.jsx("div",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 rounded bg-[#1c2030]/80 border border-[#94a3b8]/20 text-[#94a3b8] hover:text-[#cbd5e1] transition-colors cursor-default",title:`构建于 ${k??"未知"}`,children:h.jsxs("span",{className:"font-mono font-medium",children:["v",f]})}),h.jsx("div",{className:"flex-1 mx-3 px-2 py-0.5 text-[#e2e8f0]/80 truncate text-center",title:t??void 0,children:L!==null?`#${L} - ${o??"未命名标签"}`:"无活动标签"}),h.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 rounded bg-[#1c2030]/80 border border-[#94a3b8]/20",children:[h.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${e?"bg-status-warning":s?"bg-status-error":"bg-status-success"}`}),h.jsx("span",{className:`text-[10px] font-medium ${e?"text-status-warning-light":s?"text-status-error-light":"text-status-success-light"}`,children:e?"Loading":s?"Error":"Ready"})]})]}),h.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-[#0f121e]/90 border-b border-white/6",children:[S.map(T=>h.jsx("button",{type:"button",onClick:T.onClick,className:T.variant==="danger"?"px-3 py-1 rounded border text-[11px] font-medium transition-colors border-[#dc2626]/40 bg-[#7f1d1d]/30 text-[#fca5a5] hover:bg-[#7f1d1d]/50 hover:border-[#dc2626]/60 active:bg-[#7f1d1d]/20":"px-3 py-1 rounded border text-[11px] font-medium transition-colors border-[#475569]/40 bg-[#1e293b]/50 text-[#cbd5e1] hover:bg-[#1e293b]/70 hover:border-[#64748b]/50 active:bg-[#1e293b]/40",title:T.title,children:T.label},T.label)),h.jsx("div",{className:"flex-1"}),h.jsx("button",{type:"button",onClick:j,className:"px-3 py-1 rounded border text-[11px] font-medium transition-colors border-[#dc2626]/40 bg-[#7f1d1d]/30 text-[#fca5a5] hover:bg-[#7f1d1d]/50 hover:border-[#dc2626]/60 active:bg-[#7f1d1d]/20",title:"清空所有日志记录",children:"Clear Logs"})]}),P&&h.jsxs("div",{className:"flex items-center gap-3 px-3 py-1.5 bg-[#0f121e]/85 text-[11px] text-[#94a3b8]",children:[h.jsxs("div",{className:"inline-flex items-center gap-1",title:l?`Token: ${l}`:void 0,children:[h.jsx("span",{className:l?"text-status-success":"text-status-warning",children:l?"✓":"⚠"}),h.jsx("span",{children:l?"已同步":"未同步"})]}),h.jsxs("div",{className:"inline-flex items-center gap-1",children:[h.jsx("span",{className:"text-[#64748b]",children:"泳道:"}),h.jsx("span",{className:"text-[#cbd5e1] font-medium",children:n||"默认环境"})]}),i&&h.jsx("div",{className:`inline-flex items-center gap-1 ${u?"text-status-success":"text-status-error"}`,children:i})]})]})}const Jr=[{id:"browser-actions",label:"Browser Actions"},{id:"automation-test",label:"Automation Test"},{id:"logs",label:"Logs"}],Tr=5e3;function Dr(){const[f,k]=me.useState({view:"browser-actions",token:null,devBranch:null,lastActivationMessage:void 0,lastActivationSuccess:void 0,activeTabId:null,activeTabTitle:null,activeTabUrl:null,manifestVersion:chrome.runtime.getManifest().version,buildTime:null}),{scenarios:L,runLogs:o,activeRunId:t,startingScenarioId:e,loadingScenarios:s,error:l,runScenario:n,stopScenario:i,clearLogs:u}=Fr();me.useEffect(()=>{ie.info("[SidePanelApp] Initializing MessageBus");const S=new Qt;S.registerMiddleware(new er);const P=gt.getInstance();return S.batchRegisterHandler(["automation/progress","automation/summary","automation/event-log"],P),S.attach(),ie.info("[SidePanelApp] MessageBus initialized and attached"),()=>{ie.info("[SidePanelApp] Detaching MessageBus"),S.detach()}},[]),me.useEffect(()=>{const S=Nt.getToken(),P=Ot.getDevBranch();k(B=>({...B,token:S,devBranch:P}));const T=Nt.subscribeToken(B=>{k(H=>({...H,token:B}))}),Y=Ot.subscribeDevBranch(B=>{k(H=>({...H,devBranch:B}))});return()=>{T(),Y()}},[]),me.useEffect(()=>{(async()=>{try{const[P]=await chrome.tabs.query({active:!0,currentWindow:!0});P!=null&&P.id&&k(B=>({...B,activeTabId:P.id??null,activeTabTitle:P.title??null,activeTabUrl:P.url??null}));const T=async B=>{try{const H=await chrome.tabs.get(B.tabId);k(r=>({...r,activeTabId:H.id??B.tabId,activeTabTitle:H.title??null,activeTabUrl:H.url??null}))}catch(H){ie.warn("Failed to resolve activated tab",H)}},Y=(B,H,r)=>{!r.active||f.activeTabId!==B||!("title"in H)&&!("url"in H)&&H.status!=="complete"||k(J=>({...J,activeTabTitle:r.title??J.activeTabTitle??null,activeTabUrl:r.url??J.activeTabUrl??null}))};return chrome.tabs.onActivated.addListener(T),chrome.tabs.onUpdated.addListener(Y),()=>{chrome.tabs.onActivated.removeListener(T),chrome.tabs.onUpdated.removeListener(Y)}}catch(P){ie.warn("Failed to setup tab tracking",{error:P instanceof Error?P.message:String(P)})}})()},[f.activeTabId]),me.useEffect(()=>{(()=>{const P=Yt(),T=Zt();k(Y=>({...Y,manifestVersion:P,buildTime:T}))})()},[]);const m=(S,P)=>{k(T=>({...T,lastActivationMessage:S,lastActivationSuccess:P}))};me.useEffect(()=>{if(f.lastActivationMessage){const S=setTimeout(()=>{k(P=>({...P,lastActivationMessage:void 0,lastActivationSuccess:void 0}))},Tr);return()=>clearTimeout(S)}},[f.lastActivationMessage]);const v=async()=>{try{const S=await ut({source:"sidepanel",type:"automation/activate"});if(!S.ok||!S.sessionId){const P=S.error??"未找到 session_id cookie";m(`激活失败：${P}`,!1);return}m(`激活成功，已同步 session_id：${Br(S.sessionId)}`,!0)}catch(S){m(`激活出错：${S instanceof Error?S.message:String(S)}`,!1)}},j=async()=>{try{await ut({source:"sidepanel",type:"automation/activate"})}catch(S){ie.warn("Failed to send manifest version",{error:S instanceof Error?S.message:String(S)})}};return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx(Lr,{manifestVersion:f.manifestVersion,buildTime:f.buildTime,activeTabId:f.activeTabId,activeTabTitle:f.activeTabTitle,activeTabUrl:f.activeTabUrl,loadingScenarios:s,error:l,token:f.token,devBranch:f.devBranch,lastActivationMessage:f.lastActivationMessage,lastActivationSuccess:f.lastActivationSuccess,onActivate:v,onMockActivate:j,onClearLogs:u}),h.jsx("nav",{className:"flex gap-2 px-4 pt-3",children:Jr.map(S=>h.jsx("button",{type:"button",onClick:()=>k(P=>({...P,view:S.id})),className:`flex-1 px-3 py-2 border border-white/12 rounded-t-lg bg-transparent text-white cursor-pointer transition-all ${f.view===S.id?"bg-[#5a63ed]/15 border-b-transparent":"hover:bg-white/6"}`,children:S.label},S.id))}),h.jsx("main",{className:"flex-1 overflow-y-auto p-4 bg-white/[0.02]",children:f.view==="logs"?h.jsx(Ir,{runLogs:o}):f.view==="browser-actions"?h.jsx(Rr,{activeTabId:f.activeTabId}):h.jsx(kr,{scenarios:L,activeRunId:t,startingScenarioId:e,loadingScenarios:s,error:l,onRunScenario:n,onStopScenario:i})})]})}function Br(f){if(!f)return"";const k=f.trim();return k.length<=12?k:`${k.slice(0,4)}…${k.slice(-4)}`}const Lt=document.getElementById("root");Lt&&Gt(Lt).render(h.jsx(Dr,{}));
