import{I as e,p as t,r as n,a,i as r,M as s,e as o,E as i,s as l,k as c,l as d,m as u,S as m,B as h,t as f,K as g,T as p,x,v,P as b,X as y,f as w,N as j,O as C}from"./Main-iyJ1wi9k.js";import{j as M,r as N,R as k,a as S,i as E,f as D,g as R,S as L,s as A,U as T,D as O}from"./permissions-DQjjgS8V.js";import{a as _}from"./client-BsbSyIlx.js";import{a7 as I,am as z,an as P,aB as H,aq as B,u as U,ac as F,aw as V,as as Z,ai as W,aj as Y,ax as K,aC as X,i as $,a6 as G,a8 as q,aa as J,ab as Q,ar as ee,a9 as te}from"./ModelSelector-B-fXYzGj.js";import{n as ne,a as ae,T as re,u as se}from"./TasksTab-Be_gFnwg.js";const oe=t=>M.jsx(e,{...t,children:M.jsx("path",{d:"M8.14648 4.64648C8.34176 4.45136 8.6583 4.45127 8.85352 4.64648C9.04868 4.8417 9.04862 5.15826 8.85352 5.35352L4.70703 9.50001H16.5C16.7761 9.50001 17 9.72387 17 10C16.9999 10.2761 16.7761 10.5 16.5 10.5H4.70703L8.85352 14.6465C9.04863 14.8418 9.04873 15.1583 8.85352 15.3535C8.6583 15.5487 8.34174 15.5486 8.14648 15.3535L3.14648 10.3535C3.05274 10.2598 3.00003 10.1326 3 10C3 9.90061 3.02967 9.80418 3.08398 9.72267L3.14648 9.64649L8.14648 4.64648Z"})}),ie=t=>M.jsx(e,{...t,children:M.jsx("path",{d:"M12.2471 5.06828C12.4476 4.9506 12.7105 4.98555 12.8721 5.16496C13.0338 5.34458 13.0406 5.60972 12.9024 5.7968L12.835 5.872L8.24806 9.99997L12.835 14.1279C13.0402 14.3126 13.0567 14.6297 12.8721 14.835C12.6874 15.0402 12.3703 15.0568 12.1651 14.8721L7.16504 10.372L7.09473 10.2939C7.03341 10.2093 7 10.1062 7 9.99997C7.00007 9.85834 7.05978 9.72265 7.16504 9.62789L12.1651 5.12785L12.2471 5.06828Z"})}),le=t=>M.jsx(e,{...t,children:M.jsx("path",{d:"M13.1465 6.14635C13.3417 5.95116 13.6582 5.9513 13.8535 6.14635C14.0488 6.34161 14.0488 6.65812 13.8535 6.85338L10.707 9.99988L13.8535 13.1464C14.0488 13.3416 14.0488 13.6581 13.8535 13.8534C13.6826 14.0243 13.4187 14.0462 13.2246 13.9179L13.1465 13.8534L9.99995 10.7069L6.85342 13.8534C6.65815 14.0486 6.34163 14.0486 6.14638 13.8534C5.95134 13.6581 5.95125 13.3416 6.14638 13.1464L9.29291 9.99988L6.14638 6.85338L6.08193 6.77526C5.95394 6.5812 5.97559 6.31715 6.14638 6.14635C6.31718 5.97556 6.58124 5.95391 6.7753 6.0819L6.85342 6.14635L9.99995 9.29285L13.1465 6.14635Z"})}),ce=new Map([["bold",N.createElement(N.Fragment,null,N.createElement("path",{d:"M230.14,70.54,185.46,25.85a20,20,0,0,0-28.29,0L33.86,149.17A19.85,19.85,0,0,0,28,163.31V208a20,20,0,0,0,20,20H92.69a19.86,19.86,0,0,0,14.14-5.86L230.14,98.82a20,20,0,0,0,0-28.28ZM91,204H52V165l84-84,39,39ZM192,103,153,64l18.34-18.34,39,39Z"}))],["duotone",N.createElement(N.Fragment,null,N.createElement("path",{d:"M221.66,90.34,192,120,136,64l29.66-29.66a8,8,0,0,1,11.31,0L221.66,79A8,8,0,0,1,221.66,90.34Z",opacity:"0.2"}),N.createElement("path",{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM92.69,208H48V163.31l88-88L180.69,120ZM192,108.68,147.31,64l24-24L216,84.68Z"}))],["fill",N.createElement(N.Fragment,null,N.createElement("path",{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM192,108.68,147.31,64l24-24L216,84.68Z"}))],["light",N.createElement(N.Fragment,null,N.createElement("path",{d:"M225.9,74.78,181.21,30.09a14,14,0,0,0-19.8,0L38.1,153.41a13.94,13.94,0,0,0-4.1,9.9V208a14,14,0,0,0,14,14H92.69a13.94,13.94,0,0,0,9.9-4.1L225.9,94.58a14,14,0,0,0,0-19.8ZM94.1,209.41a2,2,0,0,1-1.41.59H48a2,2,0,0,1-2-2V163.31a2,2,0,0,1,.59-1.41L136,72.48,183.51,120ZM217.41,86.1,192,111.51,144.49,64,169.9,38.58a2,2,0,0,1,2.83,0l44.68,44.69a2,2,0,0,1,0,2.83Z"}))],["regular",N.createElement(N.Fragment,null,N.createElement("path",{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM92.69,208H48V163.31l88-88L180.69,120ZM192,108.68,147.31,64l24-24L216,84.68Z"}))],["thin",N.createElement(N.Fragment,null,N.createElement("path",{d:"M224.49,76.2,179.8,31.51a12,12,0,0,0-17,0L133.17,61.17h0L39.52,154.83A11.9,11.9,0,0,0,36,163.31V208a12,12,0,0,0,12,12H92.69a12,12,0,0,0,8.48-3.51L224.48,93.17a12,12,0,0,0,0-17Zm-129,134.63A4,4,0,0,1,92.69,212H48a4,4,0,0,1-4-4V163.31a4,4,0,0,1,1.17-2.83L136,69.65,186.34,120ZM218.83,87.51,192,114.34,141.66,64l26.82-26.83a4,4,0,0,1,5.66,0l44.69,44.68a4,4,0,0,1,0,5.66Z"}))]]),de=new Map([["bold",N.createElement(N.Fragment,null,N.createElement("path",{d:"M100,52H40A20,20,0,0,0,20,72v64a20,20,0,0,0,20,20H96v4a28,28,0,0,1-28,28,12,12,0,0,0,0,24,52.06,52.06,0,0,0,52-52V72A20,20,0,0,0,100,52Zm-4,80H44V76H96ZM216,52H156a20,20,0,0,0-20,20v64a20,20,0,0,0,20,20h56v4a28,28,0,0,1-28,28,12,12,0,0,0,0,24,52.06,52.06,0,0,0,52-52V72A20,20,0,0,0,216,52Zm-4,80H160V76h52Z"}))],["duotone",N.createElement(N.Fragment,null,N.createElement("path",{d:"M108,72v72H40a8,8,0,0,1-8-8V72a8,8,0,0,1,8-8h60A8,8,0,0,1,108,72Zm108-8H156a8,8,0,0,0-8,8v64a8,8,0,0,0,8,8h68V72A8,8,0,0,0,216,64Z",opacity:"0.2"}),N.createElement("path",{d:"M100,56H40A16,16,0,0,0,24,72v64a16,16,0,0,0,16,16h60v8a32,32,0,0,1-32,32,8,8,0,0,0,0,16,48.05,48.05,0,0,0,48-48V72A16,16,0,0,0,100,56Zm0,80H40V72h60ZM216,56H156a16,16,0,0,0-16,16v64a16,16,0,0,0,16,16h60v8a32,32,0,0,1-32,32,8,8,0,0,0,0,16,48.05,48.05,0,0,0,48-48V72A16,16,0,0,0,216,56Zm0,80H156V72h60Z"}))],["fill",N.createElement(N.Fragment,null,N.createElement("path",{d:"M116,72v88a48.05,48.05,0,0,1-48,48,8,8,0,0,1,0-16,32,32,0,0,0,32-32v-8H40a16,16,0,0,1-16-16V72A16,16,0,0,1,40,56h60A16,16,0,0,1,116,72ZM216,56H156a16,16,0,0,0-16,16v64a16,16,0,0,0,16,16h60v8a32,32,0,0,1-32,32,8,8,0,0,0,0,16,48.05,48.05,0,0,0,48-48V72A16,16,0,0,0,216,56Z"}))],["light",N.createElement(N.Fragment,null,N.createElement("path",{d:"M100,58H40A14,14,0,0,0,26,72v64a14,14,0,0,0,14,14h62v10a34,34,0,0,1-34,34,6,6,0,0,0,0,12,46.06,46.06,0,0,0,46-46V72A14,14,0,0,0,100,58Zm2,80H40a2,2,0,0,1-2-2V72a2,2,0,0,1,2-2h60a2,2,0,0,1,2,2ZM216,58H156a14,14,0,0,0-14,14v64a14,14,0,0,0,14,14h62v10a34,34,0,0,1-34,34,6,6,0,0,0,0,12,46.06,46.06,0,0,0,46-46V72A14,14,0,0,0,216,58Zm2,80H156a2,2,0,0,1-2-2V72a2,2,0,0,1,2-2h60a2,2,0,0,1,2,2Z"}))],["regular",N.createElement(N.Fragment,null,N.createElement("path",{d:"M100,56H40A16,16,0,0,0,24,72v64a16,16,0,0,0,16,16h60v8a32,32,0,0,1-32,32,8,8,0,0,0,0,16,48.05,48.05,0,0,0,48-48V72A16,16,0,0,0,100,56Zm0,80H40V72h60ZM216,56H156a16,16,0,0,0-16,16v64a16,16,0,0,0,16,16h60v8a32,32,0,0,1-32,32,8,8,0,0,0,0,16,48.05,48.05,0,0,0,48-48V72A16,16,0,0,0,216,56Zm0,80H156V72h60Z"}))],["thin",N.createElement(N.Fragment,null,N.createElement("path",{d:"M100,60H40A12,12,0,0,0,28,72v64a12,12,0,0,0,12,12h64v12a36,36,0,0,1-36,36,4,4,0,0,0,0,8,44.05,44.05,0,0,0,44-44V72A12,12,0,0,0,100,60Zm4,80H40a4,4,0,0,1-4-4V72a4,4,0,0,1,4-4h60a4,4,0,0,1,4,4ZM216,60H156a12,12,0,0,0-12,12v64a12,12,0,0,0,12,12h64v12a36,36,0,0,1-36,36,4,4,0,0,0,0,8,44.05,44.05,0,0,0,44-44V72A12,12,0,0,0,216,60Zm4,80H156a4,4,0,0,1-4-4V72a4,4,0,0,1,4-4h60a4,4,0,0,1,4,4Z"}))]]),ue=N.forwardRef((e,n)=>N.createElement(t,{ref:n,...e,weights:ce}));ue.displayName="PencilSimpleIcon";const me=ue,he=N.forwardRef((e,n)=>N.createElement(t,{ref:n,...e,weights:de}));he.displayName="QuotesIcon";const fe=he;const ge="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function pe(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function xe(e){return"nodeType"in e}function ve(e){var t,n;return e?pe(e)?e:xe(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function be(e){const{Document:t}=ve(e);return e instanceof t}function ye(e){return!pe(e)&&e instanceof ve(e).HTMLElement}function we(e){return e instanceof ve(e).SVGElement}function je(e){return e?pe(e)?e.document:xe(e)?be(e)?e:ye(e)||we(e)?e.ownerDocument:document:document:document}const Ce=ge?N.useLayoutEffect:N.useEffect;function Me(e){const t=N.useRef(e);return Ce(()=>{t.current=e}),N.useCallback(function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return null==t.current?void 0:t.current(...n)},[])}function Ne(e,t){void 0===t&&(t=[e]);const n=N.useRef(e);return Ce(()=>{n.current!==e&&(n.current=e)},t),n}function ke(e,t){const n=N.useRef();return N.useMemo(()=>{const t=e(n.current);return n.current=t,t},[...t])}function Se(e){const t=Me(e),n=N.useRef(null),a=N.useCallback(e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e},[]);return[n,a]}function Ee(e){const t=N.useRef();return N.useEffect(()=>{t.current=e},[e]),t.current}let De={};function Re(e,t){return N.useMemo(()=>{if(t)return t;const n=null==De[e]?0:De[e]+1;return De[e]=n,e+"-"+n},[e,t])}function Le(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return a.reduce((t,n)=>{const a=Object.entries(n);for(const[r,s]of a){const n=t[r];null!=n&&(t[r]=n+e*s)}return t},{...t})}}const Ae=Le(1),Te=Le(-1);function Oe(e){if(!e)return!1;const{KeyboardEvent:t}=ve(e.target);return t&&e instanceof t}function _e(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=ve(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const Ie=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ie.Translate.toString(e),Ie.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),ze="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Pe(e){return e.matches(ze)?e:e.querySelector(ze)}const He={display:"none"};function Be(e){let{id:t,value:n}=e;return k.createElement("div",{id:t,style:He},n)}function Ue(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;return k.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":a,"aria-atomic":!0},n)}const Fe=N.createContext(null);const Ve={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},Ze={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function We(e){let{announcements:t=Ze,container:a,hiddenTextDescribedById:r,screenReaderInstructions:s=Ve}=e;const{announce:o,announcement:i}=function(){const[e,t]=N.useState("");return{announce:N.useCallback(e=>{null!=e&&t(e)},[]),announcement:e}}(),l=Re("DndLiveRegion"),[c,d]=N.useState(!1);if(N.useEffect(()=>{d(!0)},[]),function(e){const t=N.useContext(Fe);N.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}(N.useMemo(()=>({onDragStart(e){let{active:n}=e;o(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:a}=e;t.onDragMove&&o(t.onDragMove({active:n,over:a}))},onDragOver(e){let{active:n,over:a}=e;o(t.onDragOver({active:n,over:a}))},onDragEnd(e){let{active:n,over:a}=e;o(t.onDragEnd({active:n,over:a}))},onDragCancel(e){let{active:n,over:a}=e;o(t.onDragCancel({active:n,over:a}))}}),[o,t])),!c)return null;const u=k.createElement(k.Fragment,null,k.createElement(Be,{id:r,value:s.draggable}),k.createElement(Ue,{id:l,announcement:i}));return a?n.createPortal(u,a):u}var Ye,Ke;function Xe(){}function $e(e,t){return N.useMemo(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}(Ke=Ye||(Ye={})).DragStart="dragStart",Ke.DragMove="dragMove",Ke.DragEnd="dragEnd",Ke.DragCancel="dragCancel",Ke.DragOver="dragOver",Ke.RegisterDroppable="registerDroppable",Ke.SetDroppableDisabled="setDroppableDisabled",Ke.UnregisterDroppable="unregisterDroppable";const Ge=Object.freeze({x:0,y:0});function qe(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Je(e,t){const n=_e(e);if(!n)return"0 0";return(n.x-t.left)/t.width*100+"% "+(n.y-t.top)/t.height*100+"%"}function Qe(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function et(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function tt(e){let{left:t,top:n,height:a,width:r}=e;return[{x:t,y:n},{x:t+r,y:n},{x:t,y:n+a},{x:t+r,y:n+a}]}function nt(e,t){if(!e||0===e.length)return null;const[n]=e;return n[t]}function at(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const rt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const r=at(t,t.left,t.top),s=[];for(const o of a){const{id:e}=o,t=n.get(e);if(t){const n=qe(at(t),r);s.push({id:e,data:{droppableContainer:o,value:n}})}}return s.sort(Qe)};function st(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),r=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),o=r-a,i=s-n;if(a<r&&n<s){const n=t.width*t.height,a=e.width*e.height,r=o*i;return Number((r/(n+a-r)).toFixed(4))}return 0}const ot=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const r=[];for(const s of a){const{id:e}=s,a=n.get(e);if(a){const n=st(a,t);n>0&&r.push({id:e,data:{droppableContainer:s,value:n}})}}return r.sort(et)};function it(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ge}function lt(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return a.reduce((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),{...t})}}const ct=lt(1);function dt(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const ut={ignoreTransform:!1};function mt(e,t){void 0===t&&(t=ut);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:a}=ve(e).getComputedStyle(e);t&&(n=function(e,t,n){const a=dt(t);if(!a)return e;const{scaleX:r,scaleY:s,x:o,y:i}=a,l=e.left-o-(1-r)*parseFloat(n),c=e.top-i-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=r?e.width/r:e.width,u=s?e.height/s:e.height;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l}}(n,t,a))}const{top:a,left:r,width:s,height:o,bottom:i,right:l}=n;return{top:a,left:r,width:s,height:o,bottom:i,right:l}}function ht(e){return mt(e,{ignoreTransform:!0})}function ft(e,t){const n=[];return e?function a(r){if(null!=t&&n.length>=t)return n;if(!r)return n;if(be(r)&&null!=r.scrollingElement&&!n.includes(r.scrollingElement))return n.push(r.scrollingElement),n;if(!ye(r)||we(r))return n;if(n.includes(r))return n;const s=ve(e).getComputedStyle(r);return r!==e&&function(e,t){void 0===t&&(t=ve(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const a=t[e];return"string"==typeof a&&n.test(a)})}(r,s)&&n.push(r),function(e,t){return void 0===t&&(t=ve(e).getComputedStyle(e)),"fixed"===t.position}(r,s)?n:a(r.parentNode)}(e):n}function gt(e){const[t]=ft(e,1);return null!=t?t:null}function pt(e){return ge&&e?pe(e)?e:xe(e)?be(e)||e===je(e).scrollingElement?window:ye(e)?e:null:null:null}function xt(e){return pe(e)?e.scrollX:e.scrollLeft}function vt(e){return pe(e)?e.scrollY:e.scrollTop}function bt(e){return{x:xt(e),y:vt(e)}}var yt,wt;function jt(e){return!(!ge||!e)&&e===document.scrollingElement}function Ct(e){const t={x:0,y:0},n=jt(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=a.y,isRight:e.scrollLeft>=a.x,maxScroll:a,minScroll:t}}(wt=yt||(yt={}))[wt.Forward=1]="Forward",wt[wt.Backward=-1]="Backward";const Mt={x:.2,y:.2};function Nt(e,t,n,a,r){let{top:s,left:o,right:i,bottom:l}=n;void 0===a&&(a=10),void 0===r&&(r=Mt);const{isTop:c,isBottom:d,isLeft:u,isRight:m}=Ct(e),h={x:0,y:0},f={x:0,y:0},g=t.height*r.y,p=t.width*r.x;return!c&&s<=t.top+g?(h.y=yt.Backward,f.y=a*Math.abs((t.top+g-s)/g)):!d&&l>=t.bottom-g&&(h.y=yt.Forward,f.y=a*Math.abs((t.bottom-g-l)/g)),!m&&i>=t.right-p?(h.x=yt.Forward,f.x=a*Math.abs((t.right-p-i)/p)):!u&&o<=t.left+p&&(h.x=yt.Backward,f.x=a*Math.abs((t.left+p-o)/p)),{direction:h,speed:f}}function kt(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:a,bottom:r}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:r,width:e.clientWidth,height:e.clientHeight}}function St(e){return e.reduce((e,t)=>Ae(e,bt(t)),Ge)}function Et(e,t){if(void 0===t&&(t=mt),!e)return;const{top:n,left:a,bottom:r,right:s}=t(e);gt(e)&&(r<=0||s<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Dt=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+xt(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+vt(t),0)}]];class Rt{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=ft(t),a=St(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[r,s,o]of Dt)for(const e of s)Object.defineProperty(this,e,{get:()=>{const t=o(n),s=a[r]-t;return this.rect[e]+s},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Lt{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,n){var a;null==(a=this.target)||a.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function At(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t&&a>t.y}var Tt,Ot,_t,It;function zt(e){e.preventDefault()}function Pt(e){e.stopPropagation()}(Ot=Tt||(Tt={})).Click="click",Ot.DragStart="dragstart",Ot.Keydown="keydown",Ot.ContextMenu="contextmenu",Ot.Resize="resize",Ot.SelectionChange="selectionchange",Ot.VisibilityChange="visibilitychange",(It=_t||(_t={})).Space="Space",It.Down="ArrowDown",It.Right="ArrowRight",It.Left="ArrowLeft",It.Up="ArrowUp",It.Esc="Escape",It.Enter="Enter",It.Tab="Tab";const Ht={start:[_t.Space,_t.Enter],cancel:[_t.Esc],end:[_t.Space,_t.Enter,_t.Tab]},Bt=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case _t.Right:return{...n,x:n.x+25};case _t.Left:return{...n,x:n.x-25};case _t.Down:return{...n,y:n.y+25};case _t.Up:return{...n,y:n.y-25}}};class Ut{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Lt(je(t)),this.windowListeners=new Lt(ve(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Tt.Resize,this.handleCancel),this.windowListeners.add(Tt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Tt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&Et(n),t(Ge)}handleKeyDown(e){if(Oe(e)){const{active:t,context:n,options:a}=this.props,{keyboardCodes:r=Ht,coordinateGetter:s=Bt,scrollBehavior:o="smooth"}=a,{code:i}=e;if(r.end.includes(i))return void this.handleEnd(e);if(r.cancel.includes(i))return void this.handleCancel(e);const{collisionRect:l}=n.current,c=l?{x:l.left,y:l.top}:Ge;this.referenceCoordinates||(this.referenceCoordinates=c);const d=s(e,{active:t,context:n.current,currentCoordinates:c});if(d){const t=Te(d,c),a={x:0,y:0},{scrollableAncestors:r}=n.current;for(const n of r){const r=e.code,{isTop:s,isRight:i,isLeft:l,isBottom:c,maxScroll:u,minScroll:m}=Ct(n),h=kt(n),f={x:Math.min(r===_t.Right?h.right-h.width/2:h.right,Math.max(r===_t.Right?h.left:h.left+h.width/2,d.x)),y:Math.min(r===_t.Down?h.bottom-h.height/2:h.bottom,Math.max(r===_t.Down?h.top:h.top+h.height/2,d.y))},g=r===_t.Right&&!i||r===_t.Left&&!l,p=r===_t.Down&&!c||r===_t.Up&&!s;if(g&&f.x!==d.x){const e=n.scrollLeft+t.x,s=r===_t.Right&&e<=u.x||r===_t.Left&&e>=m.x;if(s&&!t.y)return void n.scrollTo({left:e,behavior:o});a.x=s?n.scrollLeft-e:r===_t.Right?n.scrollLeft-u.x:n.scrollLeft-m.x,a.x&&n.scrollBy({left:-a.x,behavior:o});break}if(p&&f.y!==d.y){const e=n.scrollTop+t.y,s=r===_t.Down&&e<=u.y||r===_t.Up&&e>=m.y;if(s&&!t.x)return void n.scrollTo({top:e,behavior:o});a.y=s?n.scrollTop-e:r===_t.Down?n.scrollTop-u.y:n.scrollTop-m.y,a.y&&n.scrollBy({top:-a.y,behavior:o});break}}this.handleMove(e,Ae(Te(d,this.referenceCoordinates),a))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function Ft(e){return Boolean(e&&"distance"in e)}function Vt(e){return Boolean(e&&"delay"in e)}Ut.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=Ht,onActivation:r}=t,{active:s}=n;const{code:o}=e.nativeEvent;if(a.start.includes(o)){const t=s.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==r||r({event:e.nativeEvent}),!0)}return!1}}];class Zt{constructor(e,t,n){var a;void 0===n&&(n=function(e){const{EventTarget:t}=ve(e);return e instanceof t?e:je(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:r}=e,{target:s}=r;this.props=e,this.events=t,this.document=je(s),this.documentListeners=new Lt(this.document),this.listeners=new Lt(n),this.windowListeners=new Lt(ve(s)),this.initialCoordinates=null!=(a=_e(r))?a:Ge,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Tt.Resize,this.handleCancel),this.windowListeners.add(Tt.DragStart,zt),this.windowListeners.add(Tt.VisibilityChange,this.handleCancel),this.windowListeners.add(Tt.ContextMenu,zt),this.documentListeners.add(Tt.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Vt(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(Ft(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:a}=this.props;a(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Tt.Click,Pt,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Tt.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:a,props:r}=this,{onMove:s,options:{activationConstraint:o}}=r;if(!a)return;const i=null!=(t=_e(e))?t:Ge,l=Te(a,i);if(!n&&o){if(Ft(o)){if(null!=o.tolerance&&At(l,o.tolerance))return this.handleCancel();if(At(l,o.distance))return this.handleStart()}return Vt(o)&&At(l,o.tolerance)?this.handleCancel():void this.handlePending(o,l)}e.cancelable&&e.preventDefault(),s(i)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===_t.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Wt={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Yt extends Zt{constructor(e){const{event:t}=e,n=je(t.target);super(e,Wt,n)}}Yt.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!(!n.isPrimary||0!==n.button)&&(null==a||a({event:n}),!0)}}];const Kt={move:{name:"mousemove"},end:{name:"mouseup"}};var Xt,$t;($t=Xt||(Xt={}))[$t.RightClick=2]="RightClick";(class extends Zt{constructor(e){super(e,Kt,je(e.event.target))}}).activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button!==Xt.RightClick&&(null==a||a({event:n}),!0)}}];const Gt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var qt,Jt,Qt,en;function tn(e){let{acceleration:t,activator:n=qt.Pointer,canScroll:a,draggingRect:r,enabled:s,interval:o=5,order:i=Qt.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:d,delta:u,threshold:m}=e;const h=function(e){let{delta:t,disabled:n}=e;const a=Ee(t);return ke(e=>{if(n||!a||!e)return nn;const r={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[yt.Backward]:e.x[yt.Backward]||-1===r.x,[yt.Forward]:e.x[yt.Forward]||1===r.x},y:{[yt.Backward]:e.y[yt.Backward]||-1===r.y,[yt.Forward]:e.y[yt.Forward]||1===r.y}}},[n,t,a])}({delta:u,disabled:!s}),[f,g]=function(){const e=N.useRef(null);return[N.useCallback((t,n)=>{e.current=setInterval(t,n)},[]),N.useCallback(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),p=N.useRef({x:0,y:0}),x=N.useRef({x:0,y:0}),v=N.useMemo(()=>{switch(n){case qt.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case qt.DraggableRect:return r}},[n,r,l]),b=N.useRef(null),y=N.useCallback(()=>{const e=b.current;if(!e)return;const t=p.current.x*x.current.x,n=p.current.y*x.current.y;e.scrollBy(t,n)},[]),w=N.useMemo(()=>i===Qt.TreeOrder?[...c].reverse():c,[i,c]);N.useEffect(()=>{if(s&&c.length&&v){for(const e of w){if(!1===(null==a?void 0:a(e)))continue;const n=c.indexOf(e),r=d[n];if(!r)continue;const{direction:s,speed:i}=Nt(e,r,v,t,m);for(const e of["x","y"])h[e][s[e]]||(i[e]=0,s[e]=0);if(i.x>0||i.y>0)return g(),b.current=e,f(y,o),p.current=i,void(x.current=s)}p.current={x:0,y:0},x.current={x:0,y:0},g()}else g()},[t,y,a,g,s,o,JSON.stringify(v),JSON.stringify(h),f,c,w,d,JSON.stringify(m)])}(class extends Zt{constructor(e){super(e,Gt)}static setup(){return window.addEventListener(Gt.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Gt.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:r}=n;return!(r.length>1)&&(null==a||a({event:n}),!0)}}],(Jt=qt||(qt={}))[Jt.Pointer=0]="Pointer",Jt[Jt.DraggableRect=1]="DraggableRect",(en=Qt||(Qt={}))[en.TreeOrder=0]="TreeOrder",en[en.ReversedTreeOrder=1]="ReversedTreeOrder";const nn={x:{[yt.Backward]:!1,[yt.Forward]:!1},y:{[yt.Backward]:!1,[yt.Forward]:!1}};var an,rn,sn;(rn=an||(an={}))[rn.Always=0]="Always",rn[rn.BeforeDragging=1]="BeforeDragging",rn[rn.WhileDragging=2]="WhileDragging",(sn||(sn={})).Optimized="optimized";const on=new Map;function ln(e,t){return ke(n=>e?n||("function"==typeof t?t(e):e):null,[t,e])}function cn(e){let{callback:t,disabled:n}=e;const a=Me(t),r=N.useMemo(()=>{if(n||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(a)},[n]);return N.useEffect(()=>()=>null==r?void 0:r.disconnect(),[r]),r}function dn(e){return new Rt(mt(e),e)}function un(e,t,n){void 0===t&&(t=dn);const[a,r]=N.useState(null);function s(){r(a=>{if(!e)return null;var r;if(!1===e.isConnected)return null!=(r=null!=a?a:n)?r:null;const s=t(e);return JSON.stringify(a)===JSON.stringify(s)?a:s})}const o=function(e){let{callback:t,disabled:n}=e;const a=Me(t),r=N.useMemo(()=>{if(n||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(a)},[a,n]);return N.useEffect(()=>()=>null==r?void 0:r.disconnect(),[r]),r}({callback(t){if(e)for(const n of t){const{type:t,target:a}=n;if("childList"===t&&a instanceof HTMLElement&&a.contains(e)){s();break}}}}),i=cn({callback:s});return Ce(()=>{s(),e?(null==i||i.observe(e),null==o||o.observe(document.body,{childList:!0,subtree:!0})):(null==i||i.disconnect(),null==o||o.disconnect())},[e]),a}const mn=[];function hn(e,t){void 0===t&&(t=[]);const n=N.useRef(null);return N.useEffect(()=>{n.current=null},t),N.useEffect(()=>{const t=e!==Ge;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)},[e]),n.current?Te(e,n.current):Ge}function fn(e){return N.useMemo(()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null,[e])}const gn=[];function pn(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return ye(t)?t:e}const xn=[{sensor:Yt,options:{}},{sensor:Ut,options:{}}],vn={current:{}},bn={draggable:{measure:ht},droppable:{measure:ht,strategy:an.WhileDragging,frequency:sn.Optimized},dragOverlay:{measure:mt}};class yn extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const wn={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new yn,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Xe},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:bn,measureDroppableContainers:Xe,windowRect:null,measuringScheduled:!1},jn={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Xe,draggableNodes:new Map,over:null,measureDroppableContainers:Xe},Cn=N.createContext(jn),Mn=N.createContext(wn);function Nn(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new yn}}}function kn(e,t){switch(t.type){case Ye.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ye.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ye.DragEnd:case Ye.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ye.RegisterDroppable:{const{element:n}=t,{id:a}=n,r=new yn(e.droppable.containers);return r.set(a,n),{...e,droppable:{...e.droppable,containers:r}}}case Ye.SetDroppableDisabled:{const{id:n,key:a,disabled:r}=t,s=e.droppable.containers.get(n);if(!s||a!==s.key)return e;const o=new yn(e.droppable.containers);return o.set(n,{...s,disabled:r}),{...e,droppable:{...e.droppable,containers:o}}}case Ye.UnregisterDroppable:{const{id:n,key:a}=t,r=e.droppable.containers.get(n);if(!r||a!==r.key)return e;const s=new yn(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function Sn(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:r}=N.useContext(Cn),s=Ee(a),o=Ee(null==n?void 0:n.id);return N.useEffect(()=>{if(!t&&!a&&s&&null!=o){if(!Oe(s))return;if(document.activeElement===s.target)return;const e=r.get(o);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=Pe(e);if(t){t.focus();break}}})}},[a,t,r,o,s]),null}function En(e,t){let{transform:n,...a}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...a}),n):n}const Dn=N.createContext({...Ge,scaleX:1,scaleY:1});var Rn,Ln;(Ln=Rn||(Rn={}))[Ln.Uninitialized=0]="Uninitialized",Ln[Ln.Initializing=1]="Initializing",Ln[Ln.Initialized=2]="Initialized";const An=N.memo(function(e){var t,a,r,s;let{id:o,accessibility:i,autoScroll:l=!0,children:c,sensors:d=xn,collisionDetection:u=ot,measuring:m,modifiers:h,...f}=e;const g=N.useReducer(kn,void 0,Nn),[p,x]=g,[v,b]=function(){const[e]=N.useState(()=>new Set),t=N.useCallback(t=>(e.add(t),()=>e.delete(t)),[e]);return[N.useCallback(t=>{let{type:n,event:a}=t;e.forEach(e=>{var t;return null==(t=e[n])?void 0:t.call(e,a)})},[e]),t]}(),[y,w]=N.useState(Rn.Uninitialized),j=y===Rn.Initialized,{draggable:{active:C,nodes:M,translate:S},droppable:{containers:E}}=p,D=null!=C?M.get(C):null,R=N.useRef({initial:null,translated:null}),L=N.useMemo(()=>{var e;return null!=C?{id:C,data:null!=(e=null==D?void 0:D.data)?e:vn,rect:R}:null},[C,D]),A=N.useRef(null),[T,O]=N.useState(null),[_,I]=N.useState(null),z=Ne(f,Object.values(f)),P=Re("DndDescribedBy",o),H=N.useMemo(()=>E.getEnabled(),[E]),B=(U=m,N.useMemo(()=>({draggable:{...bn.draggable,...null==U?void 0:U.draggable},droppable:{...bn.droppable,...null==U?void 0:U.droppable},dragOverlay:{...bn.dragOverlay,...null==U?void 0:U.dragOverlay}}),[null==U?void 0:U.draggable,null==U?void 0:U.droppable,null==U?void 0:U.dragOverlay]));var U;const{droppableRects:F,measureDroppableContainers:V,measuringScheduled:Z}=function(e,t){let{dragging:n,dependencies:a,config:r}=t;const[s,o]=N.useState(null),{frequency:i,measure:l,strategy:c}=r,d=N.useRef(e),u=function(){switch(c){case an.Always:return!1;case an.BeforeDragging:return n;default:return!n}}(),m=Ne(u),h=N.useCallback(function(e){void 0===e&&(e=[]),m.current||o(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[m]),f=N.useRef(null),g=ke(t=>{if(u&&!n)return on;if(!t||t===on||d.current!==e||null!=s){const t=new Map;for(let n of e){if(!n)continue;if(s&&s.length>0&&!s.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,a=e?new Rt(l(e),e):null;n.rect.current=a,a&&t.set(n.id,a)}return t}return t},[e,s,n,u,l]);return N.useEffect(()=>{d.current=e},[e]),N.useEffect(()=>{u||h()},[n,u]),N.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),N.useEffect(()=>{u||"number"!=typeof i||null!==f.current||(f.current=setTimeout(()=>{h(),f.current=null},i))},[i,u,h,...a]),{droppableRects:g,measureDroppableContainers:h,measuringScheduled:null!=s}}(H,{dragging:j,dependencies:[S.x,S.y],config:B.droppable}),W=function(e,t){const n=null!=t?e.get(t):void 0,a=n?n.node.current:null;return ke(e=>{var n;return null==t?null:null!=(n=null!=a?a:e)?n:null},[a,t])}(M,C),Y=N.useMemo(()=>_?_e(_):null,[_]),K=function(){const e=!1===(null==T?void 0:T.autoScrollEnabled),t="object"==typeof l?!1===l.enabled:!1===l,n=j&&!e&&!t;if("object"==typeof l)return{...l,enabled:n};return{enabled:n}}(),X=function(e,t){return ln(e,t)}(W,B.draggable.measure);!function(e){let{activeNode:t,measure:n,initialRect:a,config:r=!0}=e;const s=N.useRef(!1),{x:o,y:i}="boolean"==typeof r?{x:r,y:r}:r;Ce(()=>{if(!o&&!i||!t)return void(s.current=!1);if(s.current||!a)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const r=it(n(e),a);if(o||(r.x=0),i||(r.y=0),s.current=!0,Math.abs(r.x)>0||Math.abs(r.y)>0){const t=gt(e);t&&t.scrollBy({top:r.y,left:r.x})}},[t,o,i,a,n])}({activeNode:null!=C?M.get(C):null,config:K.layoutShiftCompensation,initialRect:X,measure:B.draggable.measure});const $=un(W,B.draggable.measure,X),G=un(W?W.parentElement:null),q=N.useRef({activatorEvent:null,active:null,activeNode:W,collisionRect:null,collisions:null,droppableRects:F,draggableNodes:M,draggingNode:null,draggingNodeRect:null,droppableContainers:E,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),J=E.getNodeFor(null==(t=q.current.over)?void 0:t.id),Q=function(e){let{measure:t}=e;const[n,a]=N.useState(null),r=cn({callback:N.useCallback(e=>{for(const{target:n}of e)if(ye(n)){a(e=>{const a=t(n);return e?{...e,width:a.width,height:a.height}:a});break}},[t])}),s=N.useCallback(e=>{const n=pn(e);null==r||r.disconnect(),n&&(null==r||r.observe(n)),a(n?t(n):null)},[t,r]),[o,i]=Se(s);return N.useMemo(()=>({nodeRef:o,rect:n,setRef:i}),[n,o,i])}({measure:B.dragOverlay.measure}),ee=null!=(a=Q.nodeRef.current)?a:W,te=j?null!=(r=Q.rect)?r:$:null,ne=Boolean(Q.nodeRef.current&&Q.rect),ae=it(re=ne?null:$,ln(re));var re;const se=fn(ee?ve(ee):null),oe=function(e){const t=N.useRef(e),n=ke(n=>e?n&&n!==mn&&e&&t.current&&e.parentNode===t.current.parentNode?n:ft(e):mn,[e]);return N.useEffect(()=>{t.current=e},[e]),n}(j?null!=J?J:W:null),ie=function(e,t){void 0===t&&(t=mt);const[n]=e,a=fn(n?ve(n):null),[r,s]=N.useState(gn);function o(){s(()=>e.length?e.map(e=>jt(e)?a:new Rt(t(e),e)):gn)}const i=cn({callback:o});return Ce(()=>{null==i||i.disconnect(),o(),e.forEach(e=>null==i?void 0:i.observe(e))},[e]),r}(oe),le=En(h,{transform:{x:S.x-ae.x,y:S.y-ae.y,scaleX:1,scaleY:1},activatorEvent:_,active:L,activeNodeRect:$,containerNodeRect:G,draggingNodeRect:te,over:q.current.over,overlayNodeRect:Q.rect,scrollableAncestors:oe,scrollableAncestorRects:ie,windowRect:se}),ce=Y?Ae(Y,S):null,de=function(e){const[t,n]=N.useState(null),a=N.useRef(e),r=N.useCallback(e=>{const t=pt(e.target);t&&n(e=>e?(e.set(t,bt(t)),new Map(e)):null)},[]);return N.useEffect(()=>{const t=a.current;if(e!==t){s(t);const o=e.map(e=>{const t=pt(e);return t?(t.addEventListener("scroll",r,{passive:!0}),[t,bt(t)]):null}).filter(e=>null!=e);n(o.length?new Map(o):null),a.current=e}return()=>{s(e),s(t)};function s(e){e.forEach(e=>{const t=pt(e);null==t||t.removeEventListener("scroll",r)})}},[r,e]),N.useMemo(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>Ae(e,t),Ge):St(e):Ge,[e,t])}(oe),ue=hn(de),me=hn(de,[$]),he=Ae(le,ue),fe=te?ct(te,le):null,pe=L&&fe?u({active:L,collisionRect:fe,droppableRects:F,droppableContainers:H,pointerCoordinates:ce}):null,xe=nt(pe,"id"),[be,we]=N.useState(null),je=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(ne?le:Ae(le,me),null!=(s=null==be?void 0:be.rect)?s:null,$),Me=N.useRef(null),Ee=N.useCallback((e,t)=>{let{sensor:a,options:r}=t;if(null==A.current)return;const s=M.get(A.current);if(!s)return;const o=e.nativeEvent,i=new a({active:A.current,activeNode:s,event:o,options:r,context:q,onAbort(e){if(!M.get(e))return;const{onDragAbort:t}=z.current,n={id:e};null==t||t(n),v({type:"onDragAbort",event:n})},onPending(e,t,n,a){if(!M.get(e))return;const{onDragPending:r}=z.current,s={id:e,constraint:t,initialCoordinates:n,offset:a};null==r||r(s),v({type:"onDragPending",event:s})},onStart(e){const t=A.current;if(null==t)return;const a=M.get(t);if(!a)return;const{onDragStart:r}=z.current,s={activatorEvent:o,active:{id:t,data:a.data,rect:R}};n.unstable_batchedUpdates(()=>{null==r||r(s),w(Rn.Initializing),x({type:Ye.DragStart,initialCoordinates:e,active:t}),v({type:"onDragStart",event:s}),O(Me.current),I(o)})},onMove(e){x({type:Ye.DragMove,coordinates:e})},onEnd:l(Ye.DragEnd),onCancel:l(Ye.DragCancel)});function l(e){return async function(){const{active:t,collisions:a,over:r,scrollAdjustedTranslate:s}=q.current;let i=null;if(t&&s){const{cancelDrop:n}=z.current;if(i={activatorEvent:o,active:t,collisions:a,delta:s,over:r},e===Ye.DragEnd&&"function"==typeof n){await Promise.resolve(n(i))&&(e=Ye.DragCancel)}}A.current=null,n.unstable_batchedUpdates(()=>{x({type:e}),w(Rn.Uninitialized),we(null),O(null),I(null),Me.current=null;const t=e===Ye.DragEnd?"onDragEnd":"onDragCancel";if(i){const e=z.current[t];null==e||e(i),v({type:t,event:i})}})}}Me.current=i},[M]),De=function(e,t){return N.useMemo(()=>e.reduce((e,n)=>{const{sensor:a}=n;return[...e,...a.activators.map(e=>({eventName:e.eventName,handler:t(e.handler,n)}))]},[]),[e,t])}(d,N.useCallback((e,t)=>(n,a)=>{const r=n.nativeEvent,s=M.get(a);if(null!==A.current||!s||r.dndKit||r.defaultPrevented)return;const o={active:s};!0===e(n,t.options,o)&&(r.dndKit={capturedBy:t.sensor},A.current=a,Ee(n,t))},[M,Ee]));!function(e){N.useEffect(()=>{if(!ge)return;const t=e.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const e of t)null==e||e()}},e.map(e=>{let{sensor:t}=e;return t}))}(d),Ce(()=>{$&&y===Rn.Initializing&&w(Rn.Initialized)},[$,y]),N.useEffect(()=>{const{onDragMove:e}=z.current,{active:t,activatorEvent:a,collisions:r,over:s}=q.current;if(!t||!a)return;const o={active:t,activatorEvent:a,collisions:r,delta:{x:he.x,y:he.y},over:s};n.unstable_batchedUpdates(()=>{null==e||e(o),v({type:"onDragMove",event:o})})},[he.x,he.y]),N.useEffect(()=>{const{active:e,activatorEvent:t,collisions:a,droppableContainers:r,scrollAdjustedTranslate:s}=q.current;if(!e||null==A.current||!t||!s)return;const{onDragOver:o}=z.current,i=r.get(xe),l=i&&i.rect.current?{id:i.id,rect:i.rect.current,data:i.data,disabled:i.disabled}:null,c={active:e,activatorEvent:t,collisions:a,delta:{x:s.x,y:s.y},over:l};n.unstable_batchedUpdates(()=>{we(l),null==o||o(c),v({type:"onDragOver",event:c})})},[xe]),Ce(()=>{q.current={activatorEvent:_,active:L,activeNode:W,collisionRect:fe,collisions:pe,droppableRects:F,draggableNodes:M,draggingNode:ee,draggingNodeRect:te,droppableContainers:E,over:be,scrollableAncestors:oe,scrollAdjustedTranslate:he},R.current={initial:te,translated:fe}},[L,W,pe,fe,M,ee,te,F,E,be,oe,he]),tn({...K,delta:S,draggingRect:fe,pointerCoordinates:ce,scrollableAncestors:oe,scrollableAncestorRects:ie});const Le=N.useMemo(()=>({active:L,activeNode:W,activeNodeRect:$,activatorEvent:_,collisions:pe,containerNodeRect:G,dragOverlay:Q,draggableNodes:M,droppableContainers:E,droppableRects:F,over:be,measureDroppableContainers:V,scrollableAncestors:oe,scrollableAncestorRects:ie,measuringConfiguration:B,measuringScheduled:Z,windowRect:se}),[L,W,$,_,pe,G,Q,M,E,F,be,V,oe,ie,B,Z,se]),Te=N.useMemo(()=>({activatorEvent:_,activators:De,active:L,activeNodeRect:$,ariaDescribedById:{draggable:P},dispatch:x,draggableNodes:M,over:be,measureDroppableContainers:V}),[_,De,L,$,x,P,M,be,V]);return k.createElement(Fe.Provider,{value:b},k.createElement(Cn.Provider,{value:Te},k.createElement(Mn.Provider,{value:Le},k.createElement(Dn.Provider,{value:je},c)),k.createElement(Sn,{disabled:!1===(null==i?void 0:i.restoreFocus)})),k.createElement(We,{...i,hiddenTextDescribedById:P}))}),Tn=N.createContext(null),On="button";function _n(e){let{id:t,data:n,disabled:a=!1,attributes:r}=e;const s=Re("Draggable"),{activators:o,activatorEvent:i,active:l,activeNodeRect:c,ariaDescribedById:d,draggableNodes:u,over:m}=N.useContext(Cn),{role:h=On,roleDescription:f="draggable",tabIndex:g=0}=null!=r?r:{},p=(null==l?void 0:l.id)===t,x=N.useContext(p?Dn:Tn),[v,b]=Se(),[y,w]=Se(),j=function(e,t){return N.useMemo(()=>e.reduce((e,n)=>{let{eventName:a,handler:r}=n;return e[a]=e=>{r(e,t)},e},{}),[e,t])}(o,t),C=Ne(n);Ce(()=>(u.set(t,{id:t,key:s,node:v,activatorNode:y,data:C}),()=>{const e=u.get(t);e&&e.key===s&&u.delete(t)}),[u,t]);return{active:l,activatorEvent:i,activeNodeRect:c,attributes:N.useMemo(()=>({role:h,tabIndex:g,"aria-disabled":a,"aria-pressed":!(!p||h!==On)||void 0,"aria-roledescription":f,"aria-describedby":d.draggable}),[a,h,g,p,f,d.draggable]),isDragging:p,listeners:a?void 0:j,node:v,over:m,setNodeRef:b,setActivatorNodeRef:w,transform:x}}function In(){return N.useContext(Mn)}const zn={timeout:25};function Pn(e){let{animation:t,children:n}=e;const[a,r]=N.useState(null),[s,o]=N.useState(null),i=Ee(n);return n||a||!i||r(i),Ce(()=>{if(!s)return;const e=null==a?void 0:a.key,n=null==a?void 0:a.props.id;null!=e&&null!=n?Promise.resolve(t(n,s)).then(()=>{r(null)}):r(null)},[t,a,s]),k.createElement(k.Fragment,null,n,a?N.cloneElement(a,{ref:o}):null)}const Hn={x:0,y:0,scaleX:1,scaleY:1};function Bn(e){let{children:t}=e;return k.createElement(Cn.Provider,{value:jn},k.createElement(Dn.Provider,{value:Hn},t))}const Un={position:"fixed",touchAction:"none"},Fn=e=>Oe(e)?"transform 250ms ease":void 0,Vn=N.forwardRef((e,t)=>{let{as:n,activatorEvent:a,adjustScale:r,children:s,className:o,rect:i,style:l,transform:c,transition:d=Fn}=e;if(!i)return null;const u=r?c:{...c,scaleX:1,scaleY:1},m={...Un,width:i.width,height:i.height,top:i.top,left:i.left,transform:Ie.Transform.toString(u),transformOrigin:r&&a?Je(a,i):void 0,transition:"function"==typeof d?d(a):d,...l};return k.createElement(n,{className:o,style:m,ref:t},s)}),Zn={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Ie.Transform.toString(t)},{transform:Ie.Transform.toString(n)}]},sideEffects:(e=>t=>{let{active:n,dragOverlay:a}=t;const r={},{styles:s,className:o}=e;if(null!=s&&s.active)for(const[e,i]of Object.entries(s.active))void 0!==i&&(r[e]=n.node.style.getPropertyValue(e),n.node.style.setProperty(e,i));if(null!=s&&s.dragOverlay)for(const[e,i]of Object.entries(s.dragOverlay))void 0!==i&&a.node.style.setProperty(e,i);return null!=o&&o.active&&n.node.classList.add(o.active),null!=o&&o.dragOverlay&&a.node.classList.add(o.dragOverlay),function(){for(const[e,t]of Object.entries(r))n.node.style.setProperty(e,t);null!=o&&o.active&&n.node.classList.remove(o.active)}})({styles:{active:{opacity:"0"}}})};function Wn(e){let{config:t,draggableNodes:n,droppableContainers:a,measuringConfiguration:r}=e;return Me((e,s)=>{if(null===t)return;const o=n.get(e);if(!o)return;const i=o.node.current;if(!i)return;const l=pn(s);if(!l)return;const{transform:c}=ve(s).getComputedStyle(s),d=dt(c);if(!d)return;const u="function"==typeof t?t:function(e){const{duration:t,easing:n,sideEffects:a,keyframes:r}={...Zn,...e};return e=>{let{active:s,dragOverlay:o,transform:i,...l}=e;if(!t)return;const c={x:o.rect.left-s.rect.left,y:o.rect.top-s.rect.top},d={scaleX:1!==i.scaleX?s.rect.width*i.scaleX/o.rect.width:1,scaleY:1!==i.scaleY?s.rect.height*i.scaleY/o.rect.height:1},u={x:i.x-c.x,y:i.y-c.y,...d},m=r({...l,active:s,dragOverlay:o,transform:{initial:i,final:u}}),[h]=m,f=m[m.length-1];if(JSON.stringify(h)===JSON.stringify(f))return;const g=null==a?void 0:a({active:s,dragOverlay:o,...l}),p=o.node.animate(m,{duration:t,easing:n,fill:"forwards"});return new Promise(e=>{p.onfinish=()=>{null==g||g(),e()}})}}(t);return Et(i,r.draggable.measure),u({active:{id:e,data:o.data,node:i,rect:r.draggable.measure(i)},draggableNodes:n,dragOverlay:{node:s,rect:r.dragOverlay.measure(l)},droppableContainers:a,measuringConfiguration:r,transform:d})})}let Yn=0;const Kn=k.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:a,style:r,transition:s,modifiers:o,wrapperElement:i="div",className:l,zIndex:c=999}=e;const{activatorEvent:d,active:u,activeNodeRect:m,containerNodeRect:h,draggableNodes:f,droppableContainers:g,dragOverlay:p,over:x,measuringConfiguration:v,scrollableAncestors:b,scrollableAncestorRects:y,windowRect:w}=In(),j=N.useContext(Dn),C=(M=null==u?void 0:u.id,N.useMemo(()=>{if(null!=M)return Yn++,Yn},[M]));var M;const S=En(o,{activatorEvent:d,active:u,activeNodeRect:m,containerNodeRect:h,draggingNodeRect:p.rect,over:x,overlayNodeRect:p.rect,scrollableAncestors:b,scrollableAncestorRects:y,transform:j,windowRect:w}),E=ln(m),D=Wn({config:a,draggableNodes:f,droppableContainers:g,measuringConfiguration:v}),R=E?p.setRef:void 0;return k.createElement(Bn,null,k.createElement(Pn,{animation:D},u&&C?k.createElement(Vn,{key:C,id:u.id,ref:R,as:i,activatorEvent:d,adjustScale:t,className:l,transition:s,rect:E,style:{zIndex:c,...r},transform:S},n):null))});function Xn(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function $n(e,t){return e.reduce((e,n,a)=>{const r=t.get(n);return r&&(e[a]=r),e},Array(e.length))}function Gn(e){return null!==e&&e>=0}const qn=e=>{let{rects:t,activeIndex:n,overIndex:a,index:r}=e;const s=Xn(t,a,n),o=t[r],i=s[r];return i&&o?{x:i.left-o.left,y:i.top-o.top,scaleX:i.width/o.width,scaleY:i.height/o.height}:null},Jn="Sortable",Qn=k.createContext({activeIndex:-1,containerId:Jn,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:qn,disabled:{draggable:!1,droppable:!1}});function ea(e){let{children:t,id:n,items:a,strategy:r=qn,disabled:s=!1}=e;const{active:o,dragOverlay:i,droppableRects:l,over:c,measureDroppableContainers:d}=In(),u=Re(Jn,n),m=Boolean(null!==i.rect),h=N.useMemo(()=>a.map(e=>"object"==typeof e&&"id"in e?e.id:e),[a]),f=null!=o,g=o?h.indexOf(o.id):-1,p=c?h.indexOf(c.id):-1,x=N.useRef(h),v=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(h,x.current),b=-1!==p&&-1===g||v,y=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(s);Ce(()=>{v&&f&&d(h)},[v,h,f,d]),N.useEffect(()=>{x.current=h},[h]);const w=N.useMemo(()=>({activeIndex:g,containerId:u,disabled:y,disableTransforms:b,items:h,overIndex:p,useDragOverlay:m,sortedRects:$n(h,l),strategy:r}),[g,u,y.draggable,y.droppable,b,h,p,l,m,r]);return k.createElement(Qn.Provider,{value:w},t)}const ta=e=>{let{id:t,items:n,activeIndex:a,overIndex:r}=e;return Xn(n,a,r).indexOf(t)},na=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:r,items:s,newIndex:o,previousItems:i,previousContainerId:l,transition:c}=e;return!(!c||!a)&&((i===s||r!==o)&&(!!n||o!==r&&t===l))},aa={duration:200,easing:"ease"},ra="transform",sa=Ie.Transition.toString({property:ra,duration:0,easing:"linear"}),oa={roleDescription:"sortable"};function ia(e){let{animateLayoutChanges:t=na,attributes:n,disabled:a,data:r,getNewIndex:s=ta,id:o,strategy:i,resizeObserverConfig:l,transition:c=aa}=e;const{items:d,containerId:u,activeIndex:m,disabled:h,disableTransforms:f,sortedRects:g,overIndex:p,useDragOverlay:x,strategy:v}=N.useContext(Qn),b=function(e,t){var n,a;if("boolean"==typeof e)return{draggable:e,droppable:!1};return{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(a=null==e?void 0:e.droppable)?a:t.droppable}}(a,h),y=d.indexOf(o),w=N.useMemo(()=>({sortable:{containerId:u,index:y,items:d},...r}),[u,r,y,d]),j=N.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:C,node:M,isOver:k,setNodeRef:S}=function(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:r}=e;const s=Re("Droppable"),{active:o,dispatch:i,over:l,measureDroppableContainers:c}=N.useContext(Cn),d=N.useRef({disabled:n}),u=N.useRef(!1),m=N.useRef(null),h=N.useRef(null),{disabled:f,updateMeasurementsFor:g,timeout:p}={...zn,...r},x=Ne(null!=g?g:a),v=cn({callback:N.useCallback(()=>{u.current?(null!=h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{c(Array.isArray(x.current)?x.current:[x.current]),h.current=null},p)):u.current=!0},[p]),disabled:f||!o}),b=N.useCallback((e,t)=>{v&&(t&&(v.unobserve(t),u.current=!1),e&&v.observe(e))},[v]),[y,w]=Se(b),j=Ne(t);return N.useEffect(()=>{v&&y.current&&(v.disconnect(),u.current=!1,v.observe(y.current))},[y,v]),N.useEffect(()=>(i({type:Ye.RegisterDroppable,element:{id:a,key:s,disabled:n,node:y,rect:m,data:j}}),()=>i({type:Ye.UnregisterDroppable,key:s,id:a})),[a]),N.useEffect(()=>{n!==d.current.disabled&&(i({type:Ye.SetDroppableDisabled,id:a,key:s,disabled:n}),d.current.disabled=n)},[a,s,n,i]),{active:o,rect:m,isOver:(null==l?void 0:l.id)===a,node:y,over:l,setNodeRef:w}}({id:o,data:w,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...l}}),{active:E,activatorEvent:D,activeNodeRect:R,attributes:L,setNodeRef:A,listeners:T,isDragging:O,over:_,setActivatorNodeRef:I,transform:z}=_n({id:o,data:w,attributes:{...oa,...n},disabled:b.draggable}),P=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return N.useMemo(()=>e=>{t.forEach(t=>t(e))},t)}(S,A),H=Boolean(E),B=H&&!f&&Gn(m)&&Gn(p),U=!x&&O,F=U&&B?z:null,V=B?null!=F?F:(null!=i?i:v)({rects:g,activeNodeRect:R,activeIndex:m,overIndex:p,index:y}):null,Z=Gn(m)&&Gn(p)?s({id:o,items:d,activeIndex:m,overIndex:p}):y,W=null==E?void 0:E.id,Y=N.useRef({activeId:W,items:d,newIndex:Z,containerId:u}),K=d!==Y.current.items,X=t({active:E,containerId:u,isDragging:O,isSorting:H,id:o,index:y,items:d,newIndex:Y.current.newIndex,previousItems:Y.current.items,previousContainerId:Y.current.containerId,transition:c,wasDragging:null!=Y.current.activeId}),$=function(e){let{disabled:t,index:n,node:a,rect:r}=e;const[s,o]=N.useState(null),i=N.useRef(n);return Ce(()=>{if(!t&&n!==i.current&&a.current){const e=r.current;if(e){const t=mt(a.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&o(n)}}n!==i.current&&(i.current=n)},[t,n,a,r]),N.useEffect(()=>{s&&o(null)},[s]),s}({disabled:!X,index:y,node:M,rect:C});return N.useEffect(()=>{H&&Y.current.newIndex!==Z&&(Y.current.newIndex=Z),u!==Y.current.containerId&&(Y.current.containerId=u),d!==Y.current.items&&(Y.current.items=d)},[H,Z,u,d]),N.useEffect(()=>{if(W===Y.current.activeId)return;if(null!=W&&null==Y.current.activeId)return void(Y.current.activeId=W);const e=setTimeout(()=>{Y.current.activeId=W},50);return()=>clearTimeout(e)},[W]),{active:E,activeIndex:m,attributes:L,data:w,rect:C,index:y,newIndex:Z,items:d,isOver:k,isSorting:H,isDragging:O,listeners:T,node:M,overIndex:p,over:_,setNodeRef:P,setActivatorNodeRef:I,setDroppableNodeRef:S,setDraggableNodeRef:A,transform:null!=$?$:V,transition:function(){if($||K&&Y.current.newIndex===y)return sa;if(U&&!Oe(D)||!c)return;if(H||X)return Ie.Transition.toString({...c,property:ra});return}()}}function la(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const ca=[_t.Down,_t.Right,_t.Up,_t.Left],da=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:r,droppableContainers:s,over:o,scrollableAncestors:i}}=t;if(ca.includes(e.code)){if(e.preventDefault(),!n||!a)return;const t=[];s.getEnabled().forEach(n=>{if(!n||null!=n&&n.disabled)return;const s=r.get(n.id);if(s)switch(e.code){case _t.Down:a.top<s.top&&t.push(n);break;case _t.Up:a.top>s.top&&t.push(n);break;case _t.Left:a.left>s.left&&t.push(n);break;case _t.Right:a.left<s.left&&t.push(n)}});const l=(e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const r=tt(t),s=[];for(const o of a){const{id:e}=o,t=n.get(e);if(t){const n=tt(t),a=r.reduce((e,t,a)=>e+qe(n[a],t),0),i=Number((a/4).toFixed(4));s.push({id:e,data:{droppableContainer:o,value:i}})}}return s.sort(Qe)})({collisionRect:a,droppableRects:r,droppableContainers:t});let c=nt(l,"id");if(c===(null==o?void 0:o.id)&&l.length>1&&(c=l[1].id),null!=c){const e=s.get(n.id),t=s.get(c),o=t?r.get(t.id):null,l=null==t?void 0:t.node.current;if(l&&o&&e&&t){const n=ft(l).some((e,t)=>i[t]!==e),r=ua(e,t),s=function(e,t){if(!la(e)||!la(t))return!1;if(!ua(e,t))return!1;return e.data.current.sortable.index<t.data.current.sortable.index}(e,t),c=n||!r?{x:0,y:0}:{x:s?a.width-o.width:0,y:s?a.height-o.height:0},d={x:o.left,y:o.top};return c.x&&c.y?d:Te(d,c)}}}};function ua(e,t){return!(!la(e)||!la(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}function ma({searchTerm:e,onSelect:t,onClose:n,onCreateNew:l,onEditPrompt:c,systemCommands:d=[],onExecuteSystemCommand:u,sessionId:m,disableClickOutside:h=!1}){const f=a(),{analytics:g}=r(),[p,x]=N.useState([]),[v,b]=N.useState(0),[y,w]=N.useState([]),[j,C]=N.useState([]),k=N.useRef(null),E=N.useCallback(async e=>{await S.recordPromptUsage(e.id),t(e)},[t]),D=async()=>{const e=await S.getAllPrompts();x(e.sort((e,t)=>t.usageCount!==e.usageCount?t.usageCount-e.usageCount:t.createdAt-e.createdAt))};N.useEffect(()=>{D()},[]),N.useEffect(()=>{const e=()=>{D()};return window.addEventListener("prompts-changed",e),()=>window.removeEventListener("prompts-changed",e)},[]);const R=N.useCallback((e,t)=>{let n=0,a=0;for(;a<e.length&&n<t.length;)e[a]===t[n]&&n++,a++;return n===t.length},[]);return N.useEffect(()=>{const t=e.toLowerCase().trim();if(t){const e=t.length>=3,n=p.filter(n=>{if(n.command){const a=n.command.toLowerCase();if(a.includes(t))return!0;if(e&&R(a,t))return!0}return!1}),a=d.filter(n=>{const a=n.command.toLowerCase();return!!a.includes(t)||!(!e||!R(a,t))});w(n),C(a)}else w(p),C(d);b(0)},[e,p,d,R]),N.useEffect(()=>{const e=e=>{const t=j.length+y.length+(l?1:0);if("ArrowDown"===e.key)e.preventDefault(),b(e=>e<t-1?e+1:e);else if("ArrowUp"===e.key)e.preventDefault(),b(e=>e>0?e-1:e);else if("Enter"===e.key){e.preventDefault();const t=j.length,a=y.length;if(v<t){const e=j[v];g?.track("claude_chrome.chat.system_command_executed",{sessionId:m||"",commandName:e.command,commandType:"system"}),u?.(`/${e.command}`),n()}else if(v<t+a){const e=y[v-t];g?.track("claude_chrome.chat.system_command_executed",{sessionId:m||"",commandName:e.command||"untitled",commandType:"shortcut"}),E(e)}else l&&v===t+a&&l()}else"Escape"===e.key&&(e.preventDefault(),n())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[j,y,v,n,E,l,u,g,m]),N.useEffect(()=>{const e=e=>{k.current&&!k.current.contains(e.target)&&n()};if(!h){const t=setTimeout(()=>{document.addEventListener("mousedown",e)},0);return()=>{clearTimeout(t),document.removeEventListener("mousedown",e)}}},[n,h]),0!==j.length||0!==y.length||l?M.jsxs("div",{ref:k,className:"absolute z-dropdown bg-bg-000 border-0.5 border-border-200 rounded-xl backdrop-blur-xl shadow-[0px_2px_8px_0px_hsl(var(--always-black)/8%)] dark:shadow-[0px_2px_8px_0px_hsl(var(--always-black)/24%)] p-1.5 w-full max-h-[300px] overflow-y-auto",style:{bottom:"calc(100% + 8px)",left:0},children:[j.map((e,t)=>M.jsx("button",{onClick:()=>{g?.track("claude_chrome.chat.system_command_executed",{sessionId:m||"",commandName:e.command,commandType:"system"}),u?.(`/${e.command}`),n()},onMouseEnter:()=>b(t),className:o("w-full px-2 py-1.5 text-left rounded-lg transition-colors","hover:bg-bg-200 hover:text-text-000",v===t&&"bg-bg-200 text-text-000"),children:M.jsxs("div",{className:"font-base text-text-300 flex items-center gap-1.5",children:[M.jsx("div",{className:"w-4 h-4 flex items-center justify-center flex-shrink-0",children:M.jsx("span",{className:"text-text-500/50 font-mono",children:M.jsx(s,{defaultMessage:"/",id:"XIbwNE7SSU"})})}),M.jsx("span",{children:e.command}),e.description&&M.jsx("span",{className:"text-text-400 text-xs ml-auto",children:e.description})]})},`system-${e.command}`)),j.length>0&&y.length>0&&M.jsx("div",{className:"my-1.5 border-t-[0.5px] border-border-300"}),y.map((e,t)=>{const n=j.length+t;return M.jsxs("div",{className:o("group flex items-center px-2 py-1.5 rounded-lg transition-colors","hover:bg-bg-200",v===n&&"bg-bg-200"),onMouseEnter:()=>b(n),children:[M.jsx("button",{onClick:()=>{g?.track("claude_chrome.chat.system_command_executed",{sessionId:m||"",commandName:e.command||"untitled",commandType:"shortcut"}),E(e)},className:"flex-1 text-left",children:M.jsxs("div",{className:"font-base text-text-300 flex items-center gap-1.5",children:[M.jsx("div",{className:"w-4 h-4 flex items-center justify-center flex-shrink-0",children:M.jsx("span",{className:"text-text-500/50 font-mono",children:M.jsx(s,{defaultMessage:"/",id:"XIbwNE7SSU"})})}),M.jsx("span",{className:o(v===n&&"text-text-000"),children:e.command||M.jsx(s,{defaultMessage:"untitled",id:"zZuYUk2GGf"})})]})}),c&&M.jsx("button",{onClick:t=>{t.stopPropagation(),c(e)},className:o("p-1 rounded transition-all","opacity-0 group-hover:opacity-100","hover:bg-bg-300",v===n&&"opacity-100"),"aria-label":f.formatMessage({defaultMessage:"Edit {name}",id:"s3IOQQ+nJU"},{name:e.command||f.formatMessage({defaultMessage:"shortcut",id:"ZByvH8UXog"})}),children:M.jsx(i,{size:12,className:"text-text-400"})})]},e.id)}),l&&M.jsxs(M.Fragment,{children:[(j.length>0||y.length>0)&&M.jsx("div",{className:"my-1.5 border-t-[0.5px] border-border-300"}),M.jsxs("button",{onClick:l,onMouseEnter:()=>b(j.length+y.length),className:o("w-full px-2 py-1.5 text-left rounded-lg transition-colors flex items-center gap-1.5","hover:bg-bg-200 hover:text-text-000",v===j.length+y.length&&"bg-bg-200 text-text-000"),children:[M.jsx(ne,{size:16,className:"text-text-300 flex-shrink-0"}),M.jsx("span",{className:"font-base text-text-300",children:M.jsx(s,{defaultMessage:"Create new shortcut",id:"w5LAgMj8xn"})})]})]})]}):M.jsx("div",{ref:k,className:"absolute z-dropdown bg-bg-000 border-0.5 border-border-200 rounded-xl backdrop-blur-xl shadow-[0px_2px_8px_0px_hsl(var(--always-black)/8%)] dark:shadow-[0px_2px_8px_0px_hsl(var(--always-black)/24%)] p-2 w-full",style:{bottom:"calc(100% + 8px)",left:0},children:M.jsx("div",{className:"text-text-300 font-base",children:e?M.jsx(s,{defaultMessage:'No shortcuts found for "/{searchTerm}"',id:"7Zr5grAGuN",values:{searchTerm:e}}):M.jsx(s,{defaultMessage:"No shortcuts available",id:"ejLVhl2kIU"})})})}function ha(){const e=N.useRef(null),t=N.useRef(null);return N.useEffect(()=>{const n=t.current,a=e.current;if(!n||!a)return;const r=n.getContext("2d");if(!r)return;const s=()=>{n.width=a.clientWidth,n.height=a.clientHeight;r.clearRect(0,0,n.width,n.height);const e=r.createImageData(n.width,n.height),t=e.data;for(let n=0;n<t.length;n+=4){if(Math.random()>.15)continue;const e=255*Math.random();t[n]=e,t[n+1]=e,t[n+2]=e,t[n+3]=12.75}r.putImageData(e,0,0)};return s(),window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]),M.jsxs("div",{className:"gradient-bg",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"hidden",children:M.jsx("defs",{children:M.jsxs("filter",{id:"goo",children:[M.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"10",result:"blur"}),M.jsx("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -8",result:"goo"}),M.jsx("feBlend",{in:"SourceGraphic",in2:"goo"})]})})}),M.jsxs("div",{ref:e,className:"gradients-container",children:[M.jsx("div",{className:"g1"}),M.jsx("div",{className:"g2"}),M.jsx("div",{className:"g3"}),M.jsx("div",{className:"g4"}),M.jsx("canvas",{ref:t,className:"absolute inset-0 w-full h-full pointer-events-none"})]})]})}function fa({prompt:e,onClose:t,onSave:n,renderButtons:r}){const o=a(),[i,f]=N.useState(e?.command||""),[g,p]=N.useState(e?.prompt||""),[x,v]=N.useState(""),[b,y]=N.useState(!1),w=!e?.id,j=N.useRef(null),[C,k]=N.useState(Boolean(e?.repeatType&&"none"!==e.repeatType)),[E,D]=N.useState(e?.repeatType&&"none"!==e.repeatType?e.repeatType:"once"),[R,L]=N.useState(e?.specificTime||"09:00"),[A,T]=N.useState(e?.dayOfWeek??0),[O,_]=N.useState(e?.dayOfMonth||1),[I,z]=N.useState(e?.monthAndDay&&parseInt(e.monthAndDay.split("-")[0])||1),[P,H]=N.useState(e?.monthAndDay&&parseInt(e.monthAndDay.split("-")[1])||1),[B,U]=N.useState(()=>{const t=e?.specificDate;if(!t)return"";return t>=(new Date).toISOString().split("T")[0]?t:""}),[F,V]=N.useState(e?.url||""),Z=l.useDynamicConfig("chrome_ext_models"),W=Z.value,[Y,K]=N.useState(e?.model||Z.get("default")||"claude-sonnet-4-5-20250929"),X=[o.formatMessage({defaultMessage:"Sunday",id:"mJR06Pgp0X"}),o.formatMessage({defaultMessage:"Monday",id:"azMsfMtNvt"}),o.formatMessage({defaultMessage:"Tuesday",id:"YAgYL60fLm"}),o.formatMessage({defaultMessage:"Wednesday",id:"lxblglMBAV"}),o.formatMessage({defaultMessage:"Thursday",id:"qAhUUOIWbF"}),o.formatMessage({defaultMessage:"Friday",id:"QrihTZnk0x"}),o.formatMessage({defaultMessage:"Saturday",id:"WMNHPhDie+"})],$=[o.formatMessage({defaultMessage:"January",id:"t8QlFE5KKF"}),o.formatMessage({defaultMessage:"February",id:"0TR0PDvKax"}),o.formatMessage({defaultMessage:"March",id:"T5W0CVKXi6"}),o.formatMessage({defaultMessage:"April",id:"h7xti1PjS7"}),o.formatMessage({defaultMessage:"May",id:"zUpHdfwzIp"}),o.formatMessage({defaultMessage:"June",id:"xBaHKeE0uO"}),o.formatMessage({defaultMessage:"July",id:"NGWumBAsap"}),o.formatMessage({defaultMessage:"August",id:"lINtN6vYsg"}),o.formatMessage({defaultMessage:"September",id:"TFf5u+qBgM"}),o.formatMessage({defaultMessage:"October",id:"EuK7yRq90M"}),o.formatMessage({defaultMessage:"November",id:"pn+jQDsOvh"}),o.formatMessage({defaultMessage:"December",id:"SsiZK7n81x"})];N.useEffect(()=>{setTimeout(()=>{j.current?.focus()},100),e&&!w||chrome.tabs.query({active:!0,currentWindow:!0},e=>{if(e[0]?.url)try{const t=new URL(e[0].url).origin;t.startsWith("http")&&V(t)}catch{}})},[e,w]),N.useEffect(()=>{const e=e=>{if("Enter"===e.key){const t=document.activeElement;"INPUT"===t?.tagName||"TEXTAREA"===t?.tagName||(e.preventDefault(),G())}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i,g]);const G=async()=>{if(y(!0),i.trim()&&g.trim())try{if(e&&!w){const t={prompt:g.trim(),command:i.trim(),url:F.trim()||void 0};C?(t.repeatType=E,t.specificTime=R,t.model=Y,"once"===E&&(t.specificDate=B),"weekly"===E&&(t.dayOfWeek=A),"monthly"===E&&(t.dayOfMonth=O),"annually"===E&&(t.monthAndDay=`${I.toString().padStart(2,"0")}-${P.toString().padStart(2,"0")}`)):(t.repeatType=void 0,t.specificTime=void 0,t.specificDate=void 0,t.dayOfWeek=void 0,t.dayOfMonth=void 0,t.monthAndDay=void 0,t.model=void 0),await S.updatePrompt(e.id,t)}else{const e={prompt:g.trim(),command:i.trim(),url:F.trim()||void 0,createdAt:Date.now(),usageCount:0};C&&(e.repeatType=E,e.specificTime=R,e.model=Y,"once"===E&&(e.specificDate=B),"weekly"===E&&(e.dayOfWeek=A),"monthly"===E&&(e.dayOfMonth=O),"annually"===E&&(e.monthAndDay=`${I.toString().padStart(2,"0")}-${P.toString().padStart(2,"0")}`)),await S.savePrompt(e)}n(!(!e||w))}catch(t){v(t instanceof Error?t.message:"Failed to save")}};return M.jsxs("div",{className:"space-y-4 mt-4",children:[M.jsxs("div",{children:[M.jsx("span",{className:"font-base text-text-200 block mb-1",children:M.jsx(s,{defaultMessage:"Name",id:"HAlOn1ZsuY"})}),M.jsx(c,{ref:j,type:"text",value:i,onChange:e=>{const t=e.target.value.replace(/\s/g,"-").replace(/[^a-zA-Z0-9-_]/g,"");f(t),x&&v("")},prepend:M.jsx("span",{className:"text-text-300",children:"/"}),placeholder:o.formatMessage({defaultMessage:"task-name",id:"zfW5u5DbnY"}),className:"text-sm",error:b&&!i.trim()||x?.includes("already in use")}),(b&&!i.trim()||x?.includes("already in use"))&&M.jsx(d,{className:"mt-1",children:b&&!i.trim()?M.jsx(s,{defaultMessage:"Name is required",id:"Gvxoji2HqE"}):x})]}),M.jsxs("div",{children:[M.jsx("span",{className:"font-base text-text-200 block mb-1",children:M.jsx(s,{defaultMessage:"Prompt",id:"iWKE8shLIt"})}),M.jsx(u,{required:!0,value:g,onChange:e=>p(e.target.value),className:"min-h-32 max-h-64 overflow-y-auto font-large text-sm",placeholder:o.formatMessage({defaultMessage:"Enter your prompt text...",id:"xvBEtpDq86"}),error:b&&!g.trim()?o.formatMessage({defaultMessage:"Prompt is required",id:"E8uSl+czLg"}):void 0})]}),M.jsx(m,{scheduleEnabled:C,setScheduleEnabled:k,repeatType:E,setRepeatType:D,specificDate:B,setSpecificDate:U,dayOfWeek:A,setDayOfWeek:T,dayOfMonth:O,setDayOfMonth:_,month:I,setMonth:z,day:P,setDay:H,specificTime:R,setSpecificTime:L,monthLabels:$,daysOfWeekLabels:X,url:F,setUrl:V,compact:!1,model:Y,setModel:K,modelConfig:W}),x&&!x.includes("already in use")&&M.jsx("div",{className:"text-danger-000 text-sm",children:x}),r?r(G,w):M.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4",children:[M.jsx(h,{onClick:t,variant:"secondary",children:M.jsx(s,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),M.jsx(h,{onClick:G,children:e&&!w?M.jsx(s,{defaultMessage:"Save changes",id:"X0ha1a+WYV"}):M.jsx(s,{defaultMessage:"Create shortcut",id:"AzO4h7b149"})})]})]})}function ga({isOpen:e,onClose:t,initialTab:n}){const[r,o]=N.useState(!1),[i,l]=N.useState(null),{showToast:c}=se(),d=a(),u=r?"form":"list",m=()=>{o(!1),l(null)};return M.jsxs(M.Fragment,{children:[M.jsx(ae,{}),M.jsx(f,{isOpen:e,onClose:"form"===u?m:t,modalSize:"2xl",autoCloseOnFocusOut:"list"===u,closeOnEscapeKeydown:!0,overlayClassName:"[background-color:hsl(var(--always-black)/0.5)!important]",title:M.jsxs("div",{className:"flex items-center gap-2",children:["form"===u&&M.jsx(h,{onClick:m,variant:"ghost",size:"icon_sm","aria-label":d.formatMessage({defaultMessage:"Back",id:"cyR7KhiuaU"}),children:M.jsx(oe,{size:20})}),M.jsx("span",{children:"form"===u?i?.id?M.jsx(s,{defaultMessage:"Edit shortcut",id:"R592aOW18A"}):M.jsx(s,{defaultMessage:"Create shortcut",id:"AzO4h7b149"}):M.jsx(s,{defaultMessage:"Shortcuts",id:"7FAwwkYilD"})})]}),hasCloseButton:!0,prependBeforeCloseButton:"list"===u?M.jsx(h,{onClick:()=>{l(null),o(!0)},variant:"ghost",size:"icon_sm","aria-label":d.formatMessage({defaultMessage:"Add shortcut",id:"LkvG7lWavW"}),children:M.jsx(I,{size:20})}):void 0,children:"list"===u?M.jsx(re,{showAddForm:r,setShowAddForm:o,editingPrompt:i,setEditingPrompt:l,isInModal:!0,initialTab:n}):M.jsx(fa,{prompt:i,onClose:m,onSave:async e=>{o(!1),l(null),c(e?d.formatMessage({defaultMessage:"Shortcut updated",id:"IV5WU06zbs"}):d.formatMessage({defaultMessage:"Shortcut added",id:"wn15NDyLWm"}))}})})]})}const pa="data:image/svg+xml,%3csvg%20width='139'%20height='53'%20viewBox='0%200%20139%2053'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1100_7846)'%3e%3cmask%20id='path-1-outside-1_1100_7846'%20maskUnits='userSpaceOnUse'%20x='-0.498535'%20y='-0.498535'%20width='140'%20height='53'%20fill='black'%3e%3crect%20fill='white'%20x='-0.498535'%20y='-0.498535'%20width='140'%20height='53'/%3e%3cpath%20d='M0.501465%209.39433C0.501465%204.48294%204.48294%200.501465%209.39433%200.501465H129.297C134.209%200.501465%20138.19%204.48294%20138.19%209.39433V52.0801H0.501465V9.39433Z'/%3e%3c/mask%3e%3cpath%20d='M138.846%2040.7986V29.0872C138.846%2026.1403%20136.457%2023.7515%20133.51%2023.7515H92.5015M-0.154236%2040.7986V29.0872C-0.154236%2026.1403%202.23465%2023.7515%205.18148%2023.7515H63.0015'%20stroke='%231F1E1D'%20stroke-opacity='0.15'%20stroke-width='0.444643'/%3e%3cpath%20d='M32.6287%2023.542H62.7335C65.0376%2023.542%2067.0893%2021.1382%2067.0893%2018.7471C67.0893%2016.356%2067.0893%207.75243%2067.0893%207.75243C67.0893%205.65655%2068.944%203.4519%2070.9337%203.4519H82.8465C84.8363%203.4519%2086.4493%205.09106%2086.4493%207.75243C86.4493%207.75243%2086.4493%2016.8496%2086.4493%2018.7471C86.4493%2020.6446%2088.1981%2023.542%2091.0781%2023.542C93.9582%2023.542%20106.429%2023.542%20106.429%2023.542'%20stroke='%23B7B7B7'%20stroke-width='0.889286'%20stroke-linecap='round'/%3e%3cg%20opacity='0.2'%3e%3crect%20x='32.8458'%20y='7.50146'%20width='27'%20height='11'%20rx='3.25279'%20fill='%2373726C'/%3e%3c/g%3e%3cg%20opacity='0.5'%3e%3ccircle%20cx='9.61627'%20cy='12.5668'%20r='1.90259'%20fill='%23979797'/%3e%3ccircle%20cx='15.7046'%20cy='12.5668'%20r='1.90259'%20fill='%23979797'/%3e%3ccircle%20cx='21.7929'%20cy='12.5668'%20r='1.90259'%20fill='%23979797'/%3e%3c/g%3e%3c/g%3e%3cpath%20d='M2.18153e-05%209.39433C2.18153e-05%204.206%204.206%202.18153e-05%209.39433%202.18153e-05H129.297C134.486%202.18153e-05%20138.692%204.206%20138.692%209.39433L137.689%209.39433C137.689%204.75988%20133.932%201.00291%20129.297%201.00291H9.39433C4.75988%201.00291%201.00291%204.75988%201.00291%209.39433L2.18153e-05%209.39433ZM138.19%2052.0801H0.501465H138.19ZM2.18153e-05%2052.0801V9.39433C2.18153e-05%204.206%204.206%202.18153e-05%209.39433%202.18153e-05L9.39433%201.00291C4.75988%201.00291%201.00291%204.75988%201.00291%209.39433V52.0801H2.18153e-05ZM129.297%202.18153e-05C134.486%202.18153e-05%20138.692%204.206%20138.692%209.39433V52.0801H137.689V9.39433C137.689%204.75988%20133.932%201.00291%20129.297%201.00291L129.297%202.18153e-05Z'%20fill='url(%23paint0_linear_1100_7846)'%20fill-opacity='0.15'%20mask='url(%23path-1-outside-1_1100_7846)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_1100_7846'%20x1='69.3458'%20y1='0.501465'%20x2='69.3458'%20y2='52.0801'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0.605769'%20stop-color='%231F1E1D'/%3e%3cstop%20offset='1'%20stop-color='%231F1E1D'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3cclipPath%20id='clip0_1100_7846'%3e%3cpath%20d='M0.501465%209.39433C0.501465%204.48294%204.48294%200.501465%209.39433%200.501465H129.297C134.209%200.501465%20138.19%204.48294%20138.19%209.39433V52.0801H0.501465V9.39433Z'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";function xa(e){const t=e.sort().join("|");let n=0;for(let a=0;a<t.length;a++){n=(n<<5)-n+t.charCodeAt(a),n&=n}return n.toString(36)}async function va(e,t){const n=xa(t),a=`daily_summary_${e}`;try{const e=(await chrome.storage.local.get(a))[a];if(e&&e.titlesHash===n)return e.summary}catch(r){}return null}async function ba(e,t,n){const a=`daily_summary_${e}`,r={summary:n,titlesHash:xa(t),timestamp:Date.now()};try{await chrome.storage.local.set({[a]:r})}catch(s){}}const ya=N.memo(function(){const{data:e}=g(),t=e?.organization?.uuid,n=!!e,{dailySummaries:a,isLoading:r,error:o}=function(e,t=5){const[n,a]=N.useState([]),[r,s]=N.useState(!1),[o,i]=N.useState(null),l=N.useCallback(async()=>{if(e){i(null);try{const e=(await z({platforms:["CLAUDE_BROWSER_EXTENSION"],limit:50})).filter(e=>!e.name?.startsWith(P));if(0===e.length)return a([]),void s(!1);const n=new Map;e.forEach(e=>{const t=new Date(e.created_at),a=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`;n.has(a)||n.set(a,[]),n.get(a).push(e)});const r=Array.from(n.keys()).sort().reverse().slice(0,t),o=[],i=[];for(const t of r){const e=n.get(t),a=e.map(e=>e.summary||e.name||"Untitled conversation").filter(e=>e&&e.trim().length>0);if(0===a.length)continue;const r=await va(t,a);r?o.push({date:t,summary:r,conversationCount:e.length}):i.push({date:t,titles:a,conversationCount:e.length})}if(o.length>0&&a(o),0===i.length)return void s(!1);s(!0);const l=await E();if(!l)throw new Error("No auth token available");const c=D(),d=new _({baseURL:c.apiBaseUrl,authToken:l,dangerouslyAllowBrowser:!0}),u=async e=>{const{modelClass:t,maxTokens:n,...a}=e,r="small_fast"===t?"claude-haiku-4-5-20251001":"claude-3-5-sonnet-20241022";return await d.beta.messages.create({...a,model:r,max_tokens:n,betas:["oauth-2025-04-20"]})},m=i.map(async({date:e,titles:t,conversationCount:n})=>{try{const a=await H(t,u);if(a)return await ba(e,t,a),{date:e,summary:a,conversationCount:n};{const a=t.join(", ");return await ba(e,t,a),{date:e,summary:a,conversationCount:n}}}catch(a){let r;if(1===t.length)r=t[0];else if(2===t.length)r=`${t[0]}, then ${t[1].toLowerCase()}`;else{const e=t.map((e,t)=>0===t?e:e.toLowerCase());r=`${e.slice(0,-1).join(", ")}, and ${e[e.length-1]}`}return await ba(e,t,r),{date:e,summary:r,conversationCount:n}}}),h=await Promise.all(m),f=[...o,...h];f.sort((e,t)=>t.date.localeCompare(e.date)),a(f),s(!1)}catch(n){i(n instanceof Error?n.message:"Failed to fetch conversations"),s(!1)}}},[e,t]);return N.useEffect(()=>{l()},[l]),{dailySummaries:n,isLoading:r,error:o,refresh:l}}(t,30),[i,l]=N.useState(0),c=N.useMemo(()=>{const e=new Date;e.setDate(e.getDate()-i);return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`},[i]),d=a.find(e=>e.date===c),u=function(e){const[t,n,a]=e.split("-").map(Number),r=new Date(t,n-1,a),s=new Date,o=new Date(s);o.setDate(o.getDate()-1);const i=new Date(r.toDateString()),l=new Date(s.toDateString()),c=new Date(o.toDateString()),d=r.getDate().toString(),u=r.toLocaleDateString("en-US",{month:"long"}),m=r.toLocaleDateString("en-US",{weekday:"long"});let h;return h=i.getTime()===l.getTime()?`Today, ${m} in Claude's log`:i.getTime()===c.getTime()?`Yesterday, ${m} in Claude's log`:`${m} in Claude's log`,{dayNumber:d,month:u,dayLabel:h}}(c);return M.jsxs("div",{className:"flex flex-col rounded-2xl backdrop-blur-sm border-[0.5px] border-border-200 shadow-sm shadow-black/[0.04] h-full px-4 pt-4",style:{background:"linear-gradient(180deg, hsl(var(--bg-000) / 0.16) 0%, hsl(var(--bg-000) / 0.08) 100%), hsl(var(--bg-000) / 0.7)"},children:[M.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[M.jsx("div",{className:"flex flex-col",children:M.jsx("div",{className:"text-text-000 font-medium text-[32px] leading-none",children:u.dayNumber})}),M.jsxs("div",{className:"flex flex-col justify-center flex-1",children:[M.jsx("div",{className:"text-text-000 font-small",children:u.month}),M.jsx("div",{className:"text-text-500 font-small",children:u.dayLabel})]}),M.jsxs("div",{className:"flex items-center gap-1",children:[M.jsx("button",{onClick:()=>{l(i+1)},className:"p-1 hover:bg-bg-500/50 rounded transition-colors",children:M.jsx(ie,{size:16,className:"text-text-500"})}),M.jsx("button",{onClick:()=>{i>0&&l(i-1)},disabled:0===i,className:"p-1 hover:bg-bg-500/50 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:M.jsx(B,{size:16,className:"text-text-500"})})]})]}),M.jsx("div",{className:"flex-1 overflow-y-auto",children:n?r?M.jsx("div",{className:"text-text-300 font-small",children:M.jsx(s,{defaultMessage:"Loading...",id:"gjBiyjshwX"})}):o?M.jsx("div",{className:"text-text-300 font-small",children:M.jsx(s,{defaultMessage:"Error: {error}",id:"29gmtdw6e5",values:{error:o}})}):d&&d.summary.trim()?M.jsx("div",{className:"text-text-100 font-base text-sm",children:d.summary}):M.jsx("div",{className:"text-text-500 font-base text-sm",children:0===i?M.jsx(s,{defaultMessage:"I did nothing today yet",id:"HEgmPRO+5B"}):M.jsx(s,{defaultMessage:"I did nothing today",id:"cIbPxRbF3Y"})}):M.jsx("div",{className:"flex items-start justify-center pt-4",children:M.jsx(h,{onClick:()=>chrome.runtime.openOptionsPage(),variant:"secondary",size:"sm",children:M.jsx(s,{defaultMessage:"Sign in",id:"SQJto27U8S"})})})})]})}),wa=N.memo(function({userShortcuts:e,scheduledTasksCount:t,onShortcutsModalOpen:n,analytics:r}){const o=a(),{data:i}=g(),l=!!i;return M.jsxs("div",{className:"flex flex-col rounded-2xl backdrop-blur-sm border-[0.5px] border-border-200 shadow-sm shadow-black/[0.04] h-full relative overflow-hidden",style:{background:"linear-gradient(180deg, hsl(var(--bg-000) / 0.16) 0%, hsl(var(--bg-000) / 0.08) 100%), hsl(var(--bg-000) / 0.7)"},children:[M.jsx("div",{className:"px-4 pt-4 pb-2 shrink-0",children:M.jsx("div",{className:"text-text-500 font-small",children:M.jsx(s,{defaultMessage:"Saved tasks",id:"NltzMwsCKS"})})}),M.jsx("div",{className:"absolute top-3 right-3 z-10",children:M.jsx(p,{tooltipContent:o.formatMessage({defaultMessage:"{count} scheduled",id:"KLmcsO5yco"},{count:t}),side:"bottom",children:M.jsxs(h,{onClick:()=>n("my-shortcuts"),variant:"ghost",size:"icon_sm",className:"!h-6 !px-1.5 !gap-1 group/button",children:[M.jsx("span",{className:"font-small font-normal text-text-500 group-hover/button:text-text-000",children:t}),M.jsx(x,{size:12,className:"text-text-500 group-hover/button:text-text-000"})]})})}),M.jsx("div",{className:"flex-1 flex flex-col overflow-y-auto px-4 pb-4",children:l?e.length>0?e.slice(0,4).map(e=>M.jsx("button",{onClick:async()=>{const t=await S.getPromptByCommand(e.command);if(t){r?.track("claude_chrome.chat.system_command_executed",{sessionId:"",commandName:e.command,commandType:"shortcut"});const[n]=await chrome.tabs.query({active:!0,currentWindow:!0});await chrome.runtime.sendMessage({type:"open_side_panel",prompt:t.prompt,tabId:n?.id})}},className:"group/item text-text-100 font-base hover:text-text-000 hover:bg-bg-200 transition-colors text-left px-2 py-1.5 rounded-lg cursor-pointer -ml-2 -mr-2 overflow-hidden relative shrink-0",children:M.jsxs("div",{className:"relative overflow-hidden whitespace-nowrap [mask-image:linear-gradient(to_right,black_calc(100%-2rem),transparent)] [-webkit-mask-image:linear-gradient(to_right,black_calc(100%-2rem),transparent)]",children:[M.jsx("span",{className:"text-text-500 opacity-40 mr-0.5","aria-hidden":"true",children:"/"}),e.command]})},e.command)):M.jsx("div",{className:"flex-1 flex items-center justify-center",children:M.jsx("button",{onClick:()=>n("browse"),className:"text-text-300 font-small text-center hover:opacity-80 transition-opacity",children:M.jsx(s,{defaultMessage:"No tasks yet",id:"ZXH44sMrF0"})})}):M.jsx("div",{className:"flex-1 flex items-center justify-center",children:M.jsx(h,{onClick:()=>chrome.runtime.openOptionsPage(),variant:"secondary",size:"sm",children:M.jsx(s,{defaultMessage:"Sign in",id:"SQJto27U8S"})})})})]})}),ja=N.memo(function({noteRef:e,noteValue:t,onNoteChange:n,onGenerateQuote:r}){const s=a(),[o,i]=N.useState(!1);return M.jsxs("div",{className:"relative flex flex-col justify-between items-start p-4 rounded-2xl text-left transition-all bg-[#FFF4D6]/80 dark:bg-[#633806]/80 backdrop-blur-sm border-[0.5px] border-border-200 shadow-sm shadow-black/[0.04] focus-within:border-[#E8D49E] h-full",children:[M.jsx("textarea",{ref:e,value:t,onChange:e=>n(e.target.value),placeholder:s.formatMessage({defaultMessage:"New note...",id:"i+imRH5ndN"}),className:"w-full h-full bg-transparent border-none outline-none text-[#301901] dark:text-white placeholder-[#301901]/70 dark:placeholder-white/70 text-sm resize-none hide-focus-ring pb-8"}),M.jsx(p,{tooltipContent:s.formatMessage({defaultMessage:"Get a quote instead",id:"ARbpHolQpg"}),side:"top",children:M.jsx("button",{onClick:async()=>{i(!0);try{await r()}finally{i(!1)}},disabled:o,className:"absolute bottom-2 right-2 p-1 rounded transition-colors disabled:opacity-30 hover:bg-bg-500/50",children:M.jsx(fe,{size:16,weight:"regular",className:"text-text-500"})})})]})});function Ca({isOpen:e,onClose:t,onAdd:n}){const[r,o]=N.useState(""),[i,l]=N.useState(""),[c,d]=N.useState(""),u=a(),m=e=>{if(!e.trim())return d(u.formatMessage({defaultMessage:"URL is required",id:"26Cn0oifmR"})),!1;try{return new URL(e.startsWith("http")?e:`https://${e}`).protocol.startsWith("http")?(d(""),!0):(d(u.formatMessage({defaultMessage:"URL must use http or https",id:"PJRWsHQ+YN"})),!1)}catch{return d(u.formatMessage({defaultMessage:"Please enter a valid URL",id:"ajU+HTjQNK"})),!1}},h=()=>{o(""),l(""),d(""),t()};return M.jsxs(f,{isOpen:e,onClose:h,modalSize:"md",title:u.formatMessage({defaultMessage:"Add link",id:"JnxkKMhrqm"}),hasCloseButton:!0,overlayClassName:"[background-color:hsl(var(--always-black)/0.5)!important]",children:[M.jsxs("div",{className:"space-y-4 mt-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block font-base text-text-200 mb-1",children:M.jsx(s,{defaultMessage:"Name",id:"HAlOn1ZsuY"})}),M.jsx("input",{type:"text",value:r,onChange:e=>o(e.target.value),placeholder:"",className:"w-full px-4 py-3 bg-bg-200 border border-border-200 rounded-xl text-text-100 placeholder-text-300 focus:outline-none focus:border-border-100 font-large"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block font-base text-text-200 mb-1",children:M.jsx(s,{defaultMessage:"URL",id:"bWjdfaXOzU"})}),M.jsx("input",{type:"text",value:i,onChange:e=>{l(e.target.value),c&&d("")},onBlur:()=>i&&m(i),placeholder:"",className:"w-full px-4 py-3 bg-bg-200 border border-border-200 rounded-xl text-text-100 placeholder-text-300 focus:outline-none focus:border-border-100 font-large"}),c&&M.jsx("p",{className:"text-danger-200 text-xs mt-1",children:c})]})]}),M.jsxs(v,{children:[M.jsx(b,{onClick:h,variant:"secondary",children:M.jsx(s,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),M.jsx(b,{onClick:()=>{if(!r.trim())return;const e=i.startsWith("http")?i:`https://${i}`;m(e)&&(n(r,e),o(""),l(""),d(""),t())},variant:"primary",disabled:!r.trim()||!i.trim()||!!c,children:M.jsx(s,{defaultMessage:"Done",id:"JXdbo8Vnlw"})})]})]})}const Ma=[{id:"default-gmail",name:"Gmail",url:"https://gmail.com",isDefault:!0},{id:"default-news",name:"News",url:"https://www.anthropic.com/news",isDefault:!0}],Na=N.memo(function(){const[e,t]=N.useState(!1),[n,a]=N.useState([]);N.useEffect(()=>{(async()=>{let e=await R(L.CUSTOM_APP_LINKS);if(!e){const t=await chrome.storage.local.get("customAppShortcuts");if(t.customAppShortcuts){e=t.customAppShortcuts.map((e,t)=>({...e,id:e.id||`custom-${Date.now()}-${t}`})),await A(L.CUSTOM_APP_LINKS,e),await chrome.storage.local.remove("customAppShortcuts")}}e&&0!==e.length||(e=Ma,await A(L.CUSTOM_APP_LINKS,e)),a(e)})()},[]);const r=n.map(e=>{if("default-gmail"===e.id)return{...e,icon:"data:image/svg+xml,%3csvg%20width='31'%20height='24'%20viewBox='0%200%2031%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cmask%20id='mask0_1454_24130'%20style='mask-type:luminance'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='31'%20height='24'%3e%3cpath%20d='M30.7202%200H0V23.0401H30.7202V0Z'%20fill='white'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_1454_24130)'%3e%3cpath%20d='M2.09455%2023.0404H6.98186V11.1712L0%205.93481V20.9458C0%2022.1048%200.939064%2023.0404%202.09455%2023.0404Z'%20fill='%234285F4'/%3e%3cpath%20d='M23.7383%2023.0404H28.6255C29.7845%2023.0404%2030.7201%2022.1013%2030.7201%2020.9458V5.93481L23.7383%2011.1712'%20fill='%2334A853'/%3e%3cpath%20d='M23.7383%202.09465V11.1711L30.7201%205.93467V3.14192C30.7201%200.551644%2027.7633%20-0.925007%2025.6931%200.628444'%20fill='%23FBBC04'/%3e%3cpath%20d='M6.98169%2011.1712V2.09473L15.3599%208.3784L23.7382%202.09473V11.1712L15.3599%2017.4548'%20fill='%23EA4335'/%3e%3cpath%20d='M0%203.14192V5.93467L6.98186%2011.1711V2.09465L5.02693%200.628444C2.95332%20-0.925007%200%200.551644%200%203.14192Z'%20fill='%23C5221F'/%3e%3c/g%3e%3c/svg%3e"};try{const t=new URL(e.url).hostname;return{...e,icon:`https://www.google.com/s2/favicons?domain=${t}&sz=128`}}catch(t){return null}}).filter(e=>null!==e).slice(0,4);return M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"flex flex-col justify-center items-center p-4 rounded-2xl backdrop-blur-sm border-[0.5px] border-border-200 shadow-sm shadow-black/[0.04] h-full",style:{background:"linear-gradient(180deg, hsl(var(--bg-000) / 0.16) 0%, hsl(var(--bg-000) / 0.08) 100%), hsl(var(--bg-000) / 0.7)"},children:M.jsxs("div",{className:"flex items-center justify-center gap-6 w-full",children:[r.map(e=>M.jsxs("div",{className:"relative group",children:[M.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center gap-2 group/link",children:[M.jsx("div",{className:"w-12 h-12 rounded-full bg-bg-000 border-[0.5px] border-border-200 shadow-sm shadow-black/[0.04] flex items-center justify-center overflow-hidden group-hover/link:border-border-100 group-hover/link:scale-105 transition-all",children:M.jsx("img",{src:e.icon,alt:e.name,className:"w-6 h-6"})}),M.jsx("span",{className:"text-text-200 font-small",children:e.name})]}),M.jsx("button",{onClick:t=>{t.preventDefault(),(async e=>{const t=n.filter(t=>t.id!==e);a(t),await A(L.CUSTOM_APP_LINKS,t)})(e.id)},className:"absolute -top-1 -right-1 w-5 h-5 rounded-full bg-bg-000/70 backdrop-blur-sm border-[0.5px] border-border-200 flex items-center justify-center opacity-0 scale-75 group-hover:opacity-100 group-hover:scale-100 transition-all [transition-delay:0ms] group-hover:[transition-delay:300ms] hover:bg-bg-000/90",children:M.jsx(le,{className:"text-text-300",size:12})})]},e.id)),r.length<4&&M.jsxs("button",{onClick:()=>t(!0),className:"flex flex-col items-center gap-2 group/add",children:[M.jsx("div",{className:"w-12 h-12 rounded-full bg-bg-000/40 border-[0.5px] border-border-300 group-hover/add:border-border-100 flex items-center justify-center transition-colors",children:M.jsx(I,{size:20,className:"text-text-300"})}),M.jsx("span",{className:"text-text-200 font-small",children:M.jsx(s,{defaultMessage:"Add",id:"2/2yg+qAwp"})})]})]})}),M.jsx(Ca,{isOpen:e,onClose:()=>t(!1),onAdd:async(e,t)=>{const r={id:`custom-${Date.now()}`,name:e,url:t,isDefault:!1},s=[...n,r];a(s),await A(L.CUSTOM_APP_LINKS,s)}})]})}),ka=N.memo(function({tipTitle:e,onTipClick:t}){return M.jsxs("div",{onClick:t,className:"flex flex-col justify-start p-4 rounded-2xl text-left transition-all backdrop-blur-sm border-[0.5px] border-border-200 shadow-sm shadow-black/[0.04] hover:border-border-200 cursor-pointer h-full",style:{background:"linear-gradient(180deg, hsl(var(--bg-000) / 0.16) 0%, hsl(var(--bg-000) / 0.08) 100%), hsl(var(--bg-000) / 0.7)"},children:[M.jsx("div",{className:"text-text-500 font-small mb-3",children:M.jsx(s,{defaultMessage:"Learn",id:"IbrSk1x1M4"})}),M.jsx("div",{className:"text-text-100 font-base mb-2",children:e}),M.jsx("img",{src:pa,alt:"",className:"mt-auto w-full"})]})});function Sa(e){const t=new Date(e),n=(new Date).getTime()-t.getTime(),a=Math.floor(n/6e4),r=Math.floor(n/36e5),s=Math.floor(n/864e5);return a<1?"Just now":a<60?`${a}m ago`:r<24?`${r}h ago`:s<7?`${s}d ago`:t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}const Ea=N.memo(function(){const e=a(),{data:t,isLoading:n}=g(),r=t?.organization?.uuid,o=!!t,[i,l]=N.useState([]),[c,d]=N.useState(!0),[u,m]=N.useState(null),[f,p]=N.useState(!0);N.useEffect(()=>{const e=setTimeout(()=>{p(!1)},300);return()=>clearTimeout(e)},[]),N.useEffect(()=>{(async()=>{if(r)try{d(!0);const e=(await z({platforms:["CLAUDE_BROWSER_EXTENSION"]})).filter(e=>!e.name?.startsWith(P));l(e),m(null)}catch(e){m("Failed to load chats")}finally{d(!1)}else d(!1)})()},[r]);return M.jsxs("div",{className:"flex flex-col rounded-2xl backdrop-blur-sm border-[0.5px] border-border-200 shadow-sm shadow-black/[0.04] h-full overflow-hidden",style:{background:"linear-gradient(180deg, hsl(var(--bg-000) / 0.16) 0%, hsl(var(--bg-000) / 0.08) 100%), hsl(var(--bg-000) / 0.7)"},children:[M.jsx("div",{className:"px-4 pt-4 pb-2 shrink-0",children:M.jsx("div",{className:"text-text-500 font-small",children:M.jsx(s,{defaultMessage:"Recent chats",id:"Cd4uvaQFKD"})})}),M.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-4",children:f||n||c?M.jsxs("div",{className:"px-2 py-2 -ml-2 -mr-2",children:[M.jsx("div",{className:"relative h-4 bg-bg-400 rounded mb-2 w-3/4 overflow-hidden",children:M.jsx("div",{className:"absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-bg-000/20 to-transparent animate-[shimmer_1.5s_infinite]"})}),M.jsx("div",{className:"relative h-3 bg-bg-400 rounded w-1/4 overflow-hidden",children:M.jsx("div",{className:"absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-bg-000/20 to-transparent animate-[shimmer_1.5s_infinite]"})})]}):o?u?M.jsx("div",{className:"text-text-300 font-small",children:u}):0===i.length?M.jsx("div",{className:"text-text-500 font-base text-sm",children:M.jsx(s,{defaultMessage:"No chats yet",id:"YfXudLEmrv"})}):M.jsx("div",{className:"flex flex-col gap-1",children:i.map(t=>M.jsxs("button",{onClick:()=>(async e=>{try{const[t]=await chrome.tabs.query({active:!0,currentWindow:!0});await chrome.runtime.sendMessage({type:"open_side_panel",conversationUuid:e.uuid,tabId:t?.id})}catch(t){}})(t),className:"group/item text-left px-2 py-2 rounded-lg hover:bg-bg-200 transition-colors cursor-pointer -ml-2 -mr-2",children:[M.jsx("div",{className:"text-text-100 group-hover/item:text-text-000 font-base text-sm line-clamp-2 mb-1",children:t.name||e.formatMessage({defaultMessage:"Untitled",id:"3kbIhS7KZS"})}),M.jsx("div",{className:"text-text-500 font-small",children:Sa(t.updated_at)})]},t.uuid))}):M.jsx("div",{className:"flex items-center justify-center h-full py-4",children:M.jsx(h,{onClick:()=>chrome.runtime.openOptionsPage(),variant:"secondary",size:"sm",children:M.jsx(s,{defaultMessage:"Sign in",id:"SQJto27U8S"})})})})]})}),Da={log:{name:"Activity",span:2,description:"Recent conversations"},tasks:{name:"Shortcuts",span:1,description:"Quick actions"},note:{name:"Note",span:1,description:"Jot down ideas"},apps:{name:"Apps",span:2,description:"Web applications"},learn:{name:"Learn",span:1,description:"Tips and guides"},pastChats:{name:"Past chats",span:1,description:"Recent conversations"}},Ra={log:2,tasks:1,note:1,apps:2,learn:1,pastChats:1},La=[{title:"Quick access to Claude",shortDescription:"Use keyboard shortcuts, pin Claude to your toolbar, or start conversations from your new tab page.",sections:[{intro:"Access Claude from anywhere in your browser to start conversations, get help with tasks, or interact with web pages."},{heading:"1. Keyboard shortcuts",prose:"Press E (Mac) or Ctrl+E (Windows) to toggle the side panel. You can customize shortcuts in Chrome's extension settings (chrome://extensions/shortcuts)."},{heading:"2. Pin to toolbar",prose:"Click the puzzle piece icon in Chrome's toolbar, find Claude and click the pin icon to access Claude with one click from any page."},{heading:"3. New tab page",prose:"Open a new tab to see Claude's new tab page where you can start conversations directly from the search box."}],image:null},{title:"Permission modes",shortDescription:"Control how Claude interacts with your browser using different permission modes.",sections:[{intro:"Permission modes give you control over how much autonomy Claude has when working in your browser. Choose the mode that best fits your workflow and comfort level."},{heading:"Ask before acting (default)",prose:"Claude asks before taking any action in your browser. You review and approve each step individually. This is best when you want full control and visibility, and is ideal for sensitive tasks or learning how Claude works."},{heading:"Act before asking",prose:"Claude takes actions and shows you what it did. You can undo or redirect if needed. This provides a faster workflow with less interruption and offers a good balance between speed and oversight."},{heading:"Follow a plan",prose:"Claude presents a complete plan before starting. You approve the entire plan upfront, and Claude executes all steps automatically once approved. This is great for complex multi-step tasks where you trust the approach."},{heading:"How to change permission mode",prose:"You can change your permission mode anytime from the input box on the new tab page or in the side panel. Your preference is saved and will be used for future conversations."}],image:null},{title:"Working with tab groups",shortDescription:"Claude works within tab groups to keep your work organized and private.",sections:[{intro:"When you open Claude in a tab group, it can only see and interact with tabs in that same group. You'll always know exactly what Claude has access totabs outside the group remain private and Claude can't see them."},{heading:"What Claude can do:",items:["See the URL, title, and content of all tabs in its group","Create new tabs that automatically join the group","Navigate and interact with tabs in the group"]},{heading:"Visual indicators:",items:[" Actively working"," Task complete"]},{heading:"Important to note:",items:["You can only have one active chat with Claude at a time"]}],image:null},{title:"Shortcuts and scheduling",shortDescription:"Create custom keyboard shortcuts for your saved prompts and schedule them to run automatically.",sections:[{intro:"Shortcuts let you save your favorite prompts and run them instantly with a slash command. You can also schedule prompts to run automatically at regular intervals."},{heading:"What are shortcuts?",prose:"Shortcuts are saved prompts with custom slash commands (like /summarize or /research). They appear in your shortcuts widget on the new tab page, and you can type / in the input box to see all available shortcuts. You can create up to 12 shortcuts for quick access."},{heading:"How to use shortcuts",prose:"To use a shortcut, type / followed by your command name (e.g., /summarize) in the input box. You can also add additional context after the command, like '/summarize this page in 3 bullet points'. The shortcut will expand to your full saved prompt."},{heading:"How to save a shortcut",prose:"Click the shortcuts widget on your new tab page and click 'New shortcut' to create one from scratch. Give your shortcut a name (this becomes your slash command), write the prompt you want to save, and your shortcut will appear in the shortcuts list."},{heading:"How to schedule prompts",prose:"Open the shortcuts modal from your new tab page and create a new shortcut or edit an existing one. Click the schedule option to set up automatic runs and choose how often to run (hourly, daily, weekly). Scheduled tasks will run automatically in the background."}],image:null},{title:"Prompting tips",shortDescription:"Learn how to write effective prompts to get the best results from Claude.",sections:[{intro:"Good prompts help Claude understand exactly what you need. Here are some techniques to improve your results."},{heading:"Be specific and clear",items:["Provide context about what you're trying to accomplish","Break complex tasks into smaller, clear steps","Specify the format you want for the output"]},{heading:"Use examples",items:["Show Claude what good output looks like","Provide sample inputs and desired outputs","Reference similar tasks you've done before"]},{heading:"Iterate and refine",items:["Start with a basic prompt and improve based on results","Ask Claude to revise its response if needed","Build on successful prompts for similar tasks"]}],image:null}],Aa=N.memo(function({id:e,children:t,row:n,col:r,colSpan:s,isEditMode:o,onDelete:i}){const l=a(),{attributes:c,listeners:d,setNodeRef:u,transform:m,transition:h,isDragging:f}=ia({id:e,disabled:!o}),g={...{gridRow:n+1,gridColumn:`${r+1} / span ${s}`},transform:Ie.Transform.toString(m),transition:h};return M.jsxs("div",{ref:u,style:g,className:"relative "+(o?"cursor-move animate-[wiggle_0.35s_ease-in-out_infinite]":""),children:[f&&M.jsx("div",{className:"absolute inset-0 rounded-xl bg-text-100/10 z-20"}),o&&M.jsx("button",{onClick:t=>{t.stopPropagation(),i(e)},className:"absolute -top-2 -right-2 z-10 w-6 h-6 rounded-full bg-bg-000/70 backdrop-blur-sm border-[0.5px] border-border-200 hover:bg-bg-000/90 text-text-200 hover:text-text-100 flex items-center justify-center transition-all shadow-md","aria-label":l.formatMessage({defaultMessage:"Remove {widgetName} widget",id:"JQOIE896U3"},{widgetName:Da[e]?.name||e}),children:M.jsx(y,{size:12})}),M.jsx("div",{...c,...d,className:"w-full h-full",style:{opacity:f?0:1},children:t})]})}),Ta=N.memo(function({row:e,col:t,onAdd:n}){const r=a(),s={gridRow:e+1,gridColumn:`${t+1} / span 1`};return M.jsx("button",{onClick:n,style:s,className:"w-full h-[160px] rounded-xl bg-bg-000/50 hover:bg-bg-000/70 transition-all flex items-center justify-center group","aria-label":r.formatMessage({defaultMessage:"Add widget",id:"OQeBGoBcLP"}),children:M.jsx(ne,{size:32,weight:"regular",className:"text-text-100 opacity-40 group-hover:opacity-60 transition-opacity"})})});function Oa(){const e=a(),t=N.useRef(0);t.current++,console.info("[DnD] NewTab render #",t.current);const n=N.useRef(!1),[o,i]=N.useState(""),[c,d]=N.useState(!1),[u,m]=N.useState(),[f,g]=N.useState(!1),[p,x]=N.useState(""),[v,b]=N.useState("ask"),[j,C]=N.useState("claude-sonnet-4"),[k,I]=N.useState(!1),[z,P]=N.useState(["log","tasks","pastChats","note","apps","learn"]),[H,B]=N.useState(null),[ne,ae]=N.useState(4),[re,se]=N.useState(!1),[ie,le]=N.useState([]),[ce,de]=N.useState(!1),[ue,he]=N.useState("my-shortcuts"),[fe,ge]=N.useState(""),[pe,xe]=N.useState(0),[ve,be]=N.useState(!1),[ye,we]=N.useState(null),[je,Ce]=N.useState(0),Me=N.useRef(null),Ne=N.useRef(null),ke=N.useRef(null),Se=N.useRef(!1),{analytics:Ee}=r(),De=U(),Re=La,Le=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return N.useMemo(()=>[...t].filter(e=>null!=e),[...t])}($e(Yt),$e(Ut,{coordinateGetter:da})),{value:Ae}=l.useFeatureGate("crochet_can_skip_permissions"),{value:Te}=l.useFeatureGate("chrome_ext_show_model_selector"),Oe=l.useDynamicConfig("chrome_ext_model_selector").value,{loadStickyModel:_e,setStickyModel:Ie}=F(),ze=T,Pe=N.useMemo(()=>Oe?.options??[],[Oe]),{attachments:He,handleFiles:Be,handleDrop:Ue,handlePaste:Fe,removeAttachment:Ve,clearAttachments:Ze,isUploading:We,uploadingCount:Ye,addAttachment:Ke}=V(),{captureSelection:Xe,isCapturing:Ge}=Z({onCapture:e=>{Ke(e)}}),qe=N.useMemo(()=>[De?W:Y,De?"/assets/tabgrp-working-dark-BLKG_kBo.svg":"/assets/tabgrp-working-BVbHlw3h.svg",De?"/assets/tabgrp-done-dark-B3o0rXMr.svg":"/assets/tabgrp-done-CtT5nf9m.svg"],[De]);N.useEffect(()=>{const e=()=>{ae(window.innerWidth>=768?4:2)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),N.useEffect(()=>{(async()=>{const[e]=await chrome.tabs.query({active:!0,currentWindow:!0});e?.url&&m(e.url)})()},[]),N.useEffect(()=>{Me.current?.focus()},[]),N.useEffect(()=>{(async()=>{if(0===Pe.length)return;const e=await _e(Pe);e?C(e):Oe?.default&&C(Oe.default)})()},[_e,Pe,Oe]),N.useEffect(()=>{if(!ve||2!==ye)return;const e=setInterval(()=>{Ce(e=>(e+1)%3)},1500);return()=>clearInterval(e)},[ve,ye]),N.useEffect(()=>{let e=!0;return(async()=>{try{let t=await R(L.LAST_PERMISSION_MODE_PREFERENCE);if(!e)return;"ask"===t&&(t=O),void 0!==t&&ze.includes(t)?b(t):b(O),Se.current=!0}catch(t){Se.current=!0}})(),()=>{e=!1}},[ze]),N.useEffect(()=>{Se.current&&A(L.LAST_PERMISSION_MODE_PREFERENCE,v)},[v]);const Je=async()=>{const e=await S.getAllPrompts(),t=e.filter(e=>e.command).slice(0,12).map(e=>({command:e.command}));le(t);const n=e.filter(e=>e.repeatType&&"none"!==e.repeatType);xe(n.length)};N.useEffect(()=>{Je()},[]),N.useEffect(()=>{(async()=>{const e=await R(L.NEW_TAB_NOTE);e&&ge(e)})()},[]),N.useEffect(()=>{A(L.NEW_TAB_NOTE,fe)},[fe]),N.useEffect(()=>{R(L.WIDGET_ORDER).then(e=>{e&&e.length>0&&P(e)})},[]),N.useEffect(()=>{A(L.WIDGET_ORDER,z)},[z]);const Qe=N.useCallback(e=>{console.info("[DnD] dragStart:",e.active.id),n.current=!1,B(e.active.id)},[]),et=N.useCallback(e=>{const{active:t,over:a}=e;if(!a||t.id===a.id)return;if(n.current)return;const r=a.id;console.info("[DnD] dragOver - active:",t.id,"over:",r),n.current=!0,setTimeout(()=>{n.current=!1},100),P(e=>{const n=e.indexOf(t.id),a=e.indexOf(r);if(-1===n||-1===a||n===a)return e;const s=Xn(e,n,a);return console.info("[DnD] dragOver - new order:",s),s})},[]),tt=N.useCallback(()=>{console.info("[DnD] dragEnd"),n.current=!1,B(null)},[]),nt=N.useCallback(e=>{P(t=>t.filter(t=>t!==e))},[]),at=N.useCallback(e=>{P(t=>[...t,e]),se(!1)},[]),st=N.useMemo(()=>Object.keys(Da).filter(e=>!z.includes(e)),[z]),ot=N.useCallback(async e=>{if(e?.preventDefault(),(o.trim()||0!==He.length)&&!c){d(!0);try{let e=o.trim();if(e.startsWith("/")){const t=e.slice(1).split(" ")[0],n=e.slice(1+t.length).trim(),a=await S.getPromptByCommand(t);a?(Ee?.track("claude_chrome.chat.system_command_executed",{sessionId:"",commandName:t,commandType:"shortcut"}),e=a.prompt,n&&(e=e+" "+n)):K(t)&&Ee?.track("claude_chrome.chat.system_command_executed",{sessionId:"",commandName:t,commandType:"system"})}const t=e,n=He.filter(e=>!e.error).map(e=>{let t="image/jpeg";return"image/png"===e.file.type?t="image/png":"image/gif"===e.file.type?t="image/gif":"image/webp"===e.file.type?t="image/webp":"image/jpeg"!==e.file.type&&"image/jpg"!==e.file.type||(t="image/jpeg"),{id:e.id,base64:e.base64,mediaType:t,fileName:e.file.name,isAnnotated:e.isAnnotated}}),[a]=await chrome.tabs.query({active:!0,currentWindow:!0});await chrome.runtime.sendMessage({type:"open_side_panel",prompt:t,tabId:a?.id,permissionMode:v,selectedModel:j,attachments:n.length>0?n:void 0}),i(""),Ze()}catch(t){}finally{d(!1)}}},[o,He,c,Ee,v,j,Ze]),it=N.useCallback(e=>{he(e),de(!0)},[]),lt=N.useCallback(()=>{be(!0)},[]),ct=N.useCallback(async()=>{try{const e=D(),t=await E();if(!t)return;const n=new _({baseURL:e.apiBaseUrl,authToken:t,dangerouslyAllowBrowser:!0}),a=async e=>{const{modelClass:t,maxTokens:a,...r}=e,s="small_fast"===t?"claude-haiku-4-5-20251001":"claude-3-5-sonnet-20241022";return await n.beta.messages.create({...r,model:s,max_tokens:a,betas:["oauth-2025-04-20"]})},r=await X(a);if(r){ge("");const e=new $;e.start(e=>{ge(e)});let t=0;const n=()=>{t<r.length?(e.addText(r[t]),t++,setTimeout(n,30)):e.complete()};n()}}catch(e){}},[]),dt=N.useMemo(()=>M.jsx(ya,{}),[]),ut=N.useMemo(()=>M.jsx(wa,{userShortcuts:ie,scheduledTasksCount:pe,onShortcutsModalOpen:it,analytics:Ee}),[ie,pe,it,Ee]),mt=N.useMemo(()=>M.jsx(ja,{noteRef:Ne,noteValue:fe,onNoteChange:ge,onGenerateQuote:ct}),[fe,ct]),ht=N.useMemo(()=>M.jsx(Na,{}),[]),ft=N.useMemo(()=>M.jsx(ka,{tipTitle:Re[2].title,onTipClick:lt}),[Re,lt]),gt=N.useMemo(()=>M.jsx(Ea,{}),[]),pt=N.useCallback(e=>{switch(e){case"log":return dt;case"tasks":return ut;case"note":return mt;case"apps":return ht;case"learn":return ft;case"pastChats":return gt;default:return null}},[dt,ut,mt,ht,ft,gt]),xt=N.useMemo(()=>(console.info("[DnD] Computing gridPositions for widgetOrder:",z),((e,t)=>{const n=[];let a=0,r=0;for(const s of e){const e=Ra[s]||1;r+e>t&&(a++,r=0),n.push({id:s,row:a,col:r}),r+=e,r>=t&&(a++,r=0)}return n})(z,ne)),[z,ne]),vt=N.useMemo(()=>{if(0===xt.length)return{row:0,col:0};const e=xt[xt.length-1],t=Ra[e.id]||1;let n=e.col+t,a=e.row;return n>=ne&&(a++,n=0),{row:a,col:n}},[xt,ne]),bt=N.useCallback(()=>{se(!0)},[]),yt=N.useMemo(()=>{const e=xt.find(e=>"log"===e.id);return e?M.jsx(Aa,{id:"log",row:e.row,col:e.col,colSpan:Ra.log,isEditMode:k,onDelete:nt,children:dt},"log"):M.jsx("div",{style:{display:"none"}},"log")},[xt,dt,k,nt]),wt=N.useMemo(()=>{const e=xt.find(e=>"tasks"===e.id);return e?M.jsx(Aa,{id:"tasks",row:e.row,col:e.col,colSpan:Ra.tasks,isEditMode:k,onDelete:nt,children:ut},"tasks"):M.jsx("div",{style:{display:"none"}},"tasks")},[xt,ut,k,nt]),jt=N.useMemo(()=>{const e=xt.find(e=>"note"===e.id);return e?M.jsx(Aa,{id:"note",row:e.row,col:e.col,colSpan:Ra.note,isEditMode:k,onDelete:nt,children:mt},"note"):M.jsx("div",{style:{display:"none"}},"note")},[xt,mt,k,nt]),Ct=N.useMemo(()=>{const e=xt.find(e=>"apps"===e.id);return e?M.jsx(Aa,{id:"apps",row:e.row,col:e.col,colSpan:Ra.apps,isEditMode:k,onDelete:nt,children:ht},"apps"):M.jsx("div",{style:{display:"none"}},"apps")},[xt,ht,k,nt]),Mt=N.useMemo(()=>{const e=xt.find(e=>"learn"===e.id);return e?M.jsx(Aa,{id:"learn",row:e.row,col:e.col,colSpan:Ra.learn,isEditMode:k,onDelete:nt,children:ft},"learn"):M.jsx("div",{style:{display:"none"}},"learn")},[xt,ft,k,nt]),Nt=N.useMemo(()=>{const e=xt.find(e=>"pastChats"===e.id);return e?M.jsx(Aa,{id:"pastChats",row:e.row,col:e.col,colSpan:Ra.pastChats,isEditMode:k,onDelete:nt,children:gt},"pastChats"):M.jsx("div",{style:{display:"none"}},"pastChats")},[xt,gt,k,nt]),kt=N.useMemo(()=>({log:yt,tasks:wt,note:jt,apps:Ct,learn:Mt,pastChats:Nt}),[yt,wt,jt,Ct,Mt,Nt]);return M.jsxs("div",{className:"relative flex min-h-screen w-full items-center justify-center py-24","data-theme":"claude",children:[M.jsx(ha,{}),k&&M.jsx("div",{className:"absolute inset-0 bg-always-black/20 z-[5] pointer-events-none transition-opacity duration-300"}),M.jsx("div",{className:"fixed top-6 right-6 flex items-center gap-2 z-50",children:M.jsx("button",{onClick:()=>I(!k),className:`h-8 rounded-full border-2 ${k?"border-text-100 px-3":"border-border-300 bg-bg-000/70 w-8"} backdrop-blur-sm hover:scale-105 transition-all flex items-center justify-center gap-1.5`,style:k?{backgroundColor:"hsl(var(--text-100))"}:void 0,"aria-label":e.formatMessage({defaultMessage:"Toggle edit mode",id:"nl5phX6L/e"}),children:k?M.jsxs(M.Fragment,{children:[M.jsx(w,{size:16,className:"text-bg-000"}),M.jsx("span",{className:"text-bg-000 font-small",children:M.jsx(s,{defaultMessage:"Save",id:"jvo0vs3nF0"})})]}):M.jsx(me,{size:16,weight:"regular",className:"text-text-200"})})}),M.jsx("div",{className:"relative w-full px-4 sm:px-6 md:px-8 z-10 flex flex-col items-center",children:M.jsx("div",{className:"w-full max-w-[340px] sm:max-w-[340px] md:max-w-[700px]",children:M.jsxs("div",{className:"relative",children:[f&&M.jsx(ma,{searchTerm:p,systemCommands:G(e),onSelect:e=>{i(e.prompt),g(!1),x(""),Me.current?.focus()},onClose:()=>{g(!1),x("")},onExecuteSystemCommand:e=>{i(e),g(!1),x(""),Me.current?.focus()}}),M.jsx("form",{onSubmit:ot,className:"relative",children:M.jsx("div",{className:"relative z-10 rounded-2xl border-[0.5px] border-border-200 bg-bg-000 shadow-sm transition-all hover:border-border-200 focus-within:border-border-200",style:{boxShadow:"0 4px 20px 0 rgba(0, 0, 0, 0.04)"},children:M.jsxs(q,{onDrop:Ue,children:[M.jsx("div",{className:"px-4 pt-4 pb-2",children:M.jsx("textarea",{ref:Me,value:o,onChange:e=>{const t=e.target.value;i(t),"/"===t||t.startsWith("/")&&!t.includes(" ")?(g(!0),x(t.substring(1))):(g(!1),x("")),e.target.style.height="auto",e.target.style.height=`${e.target.scrollHeight}px`},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||f||(e.preventDefault(),ot())},onPaste:Fe,placeholder:e.formatMessage({defaultMessage:"Put Claude to work in your browser...",id:"3KYfO78h3Q"}),disabled:c,className:"hide-focus-ring w-full resize-none overflow-y-auto bg-transparent font-ui text-base text-text-100 placeholder-text-400 outline-none disabled:cursor-not-allowed disabled:opacity-50",rows:2,style:{minHeight:"48px",maxHeight:"50vh",height:"auto"}})}),M.jsxs("div",{className:"flex items-center justify-between px-3 pt-2 pb-3",children:[M.jsx("div",{className:"flex items-center gap-2",children:Ae&&M.jsx(J,{permissionMode:v,permissionModeOptions:ze,onChange:e=>{b(e),Ee?.track("claude_chrome.permission_mode.changed",{from:v,to:e,method:"manual"})}})}),M.jsxs("div",{className:"shrink-0 flex items-center gap-2",children:[M.jsx(Q,{onScreenshot:()=>Xe(),onUpload:()=>ke.current?.click(),disabled:We||Ge||c,currentUrl:u,hideScreenshot:!0}),M.jsx("button",{type:"submit",disabled:!o.trim()&&0===He.length||c||He.some(e=>e.error),className:"inline-flex items-center justify-center relative shrink-0 select-none disabled:pointer-events-none disabled:opacity-50 font-medium h-7 w-7 rounded-lg active:scale-95 text-oncolor-100 transition-colors bg-accent-main-000 hover:bg-accent-main-200","aria-label":e.formatMessage({defaultMessage:"Send message",id:"Xx0WZVz8QS"}),children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 256 256",children:M.jsx("path",{d:"M208.49,120.49a12,12,0,0,1-17,0L140,69V216a12,12,0,0,1-24,0V69L64.49,120.49a12,12,0,0,1-17-17l72-72a12,12,0,0,1,17,0l72,72A12,12,0,0,1,208.49,120.49Z"})})})]})]}),M.jsx("input",{ref:ke,type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:e=>{e.target.files&&Be(e.target.files),e.target.value=""}}),Te&&Pe.length>0&&M.jsx("div",{className:"flex items-center gap-2 px-4 pb-3",children:M.jsx("div",{className:"flex items-center gap-2",onClick:e=>{e.stopPropagation()},children:Te&&Pe.length>0&&M.jsx(ee,{currentModel:j,onChange:C,modelConfig:{default:Oe?.default||"claude-sonnet-4",options:Pe},onModelChange:async e=>{await Ie(e),Ee?.track("claude_chrome.model.changed",{model:e,method:"manual"})}})})}),M.jsx(te,{attachments:He,onRemove:Ve,isUploading:We,uploadingCount:Ye})]})})}),0===He.length&&M.jsx("div",{className:"mt-6",children:M.jsxs(An,{sensors:Le,collisionDetection:rt,onDragStart:Qe,onDragOver:et,onDragEnd:tt,children:[M.jsx(ea,{items:z,strategy:qn,children:M.jsxs("div",{className:"grid grid-cols-[repeat(2,160px)] sm:grid-cols-[repeat(2,160px)] md:grid-cols-[repeat(4,160px)] auto-rows-[160px] gap-3 sm:gap-4 md:gap-5 transition-all duration-300",children:[z.map(e=>kt[e]),k&&st.length>0&&M.jsx(Ta,{row:vt.row,col:vt.col,onAdd:bt})]})}),M.jsx(Kn,{children:H?M.jsx("div",{className:"h-[160px] cursor-move shadow-lg",style:{width:"log"===H||"apps"===H?4===ne?"calc(160px + 1.25rem + 160px)":"calc(160px + 0.75rem + 160px)":"160px"},children:pt(H)}):null})]})})]})})}),M.jsx(ga,{isOpen:ce,onClose:()=>{de(!1),he("my-shortcuts"),Je()},initialTab:ue}),ve&&M.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-always-black/50 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>{be(!1),we(null)},children:M.jsxs("div",{className:"relative w-full max-w-xl h-[70vh] bg-bg-100 rounded-2xl shadow-xl overflow-hidden",style:{animation:"modalZoom 300ms cubic-bezier(0.16, 1, 0.3, 1) forwards"},onClick:e=>e.stopPropagation(),children:[M.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-[0.5px] border-border-300",children:[null!==ye?M.jsx(h,{onClick:()=>we(null),variant:"ghost",size:"icon_sm","aria-label":e.formatMessage({defaultMessage:"Back",id:"cyR7KhiuaU"}),children:M.jsx(oe,{size:20})}):M.jsx("h2",{className:"font-xl-bold text-text-100",children:M.jsx(s,{defaultMessage:"Learn",id:"IbrSk1x1M4"})}),M.jsx(h,{onClick:()=>{be(!1),we(null)},variant:"ghost",size:"icon_sm","aria-label":e.formatMessage({defaultMessage:"Close",id:"rbrahOGMC3"}),children:M.jsx(y,{size:20})})]}),M.jsx("div",{className:"overflow-y-auto max-h-[calc(70vh-80px)] px-6 pt-6",children:null!==ye?M.jsxs("div",{className:"flex flex-col h-full",children:[M.jsx("h3",{className:"text-text-100 font-xl-bold mb-4",children:Re[ye].title}),M.jsxs("div",{className:"space-y-4",children:[Re[ye].sections[0]?.intro&&M.jsx("p",{className:"text-text-200 font-base",children:Re[ye].sections[0].intro}),2===ye&&M.jsxs("div",{className:"rounded-xl bg-bg-000 border-[0.5px] border-border-300 pt-6 pb-4 px-6 relative min-h-[180px] flex items-center justify-center",children:[M.jsx("img",{src:qe[je],alt:"",className:"w-1/2 max-h-[150px] object-contain transition-opacity duration-500"},je),Re[ye].sections[2]&&"items"in Re[ye].sections[2]&&Re[ye].sections[2].items&&M.jsx("div",{className:"absolute bottom-4 right-4 bg-bg-200 rounded-lg px-2.5 py-1.5 flex flex-col gap-1",children:Re[ye].sections[2].items.map((e,t)=>M.jsx("div",{className:"text-text-200 font-small",children:e},t))})]}),0===ye||1===ye||3===ye?M.jsx(M.Fragment,{children:Re[ye].sections.slice(1).map((e,t)=>M.jsxs("div",{children:[M.jsx("h4",{className:"text-text-100 font-base-bold mb-2",children:e.heading}),"prose"in e&&e.prose&&M.jsx("p",{className:"text-text-200 font-base mb-4",children:e.prose}),"items"in e&&e.items&&M.jsx("ul",{className:"space-y-1.5 mb-4",children:e.items.map((e,t)=>M.jsxs("li",{className:"text-text-200 font-base flex gap-2",children:[M.jsx("span",{className:"text-text-300","aria-hidden":"true",children:""}),M.jsx("span",{children:e})]},t))}),M.jsx("div",{className:"rounded-xl bg-bg-000 border-[0.5px] border-border-300 p-8 min-h-[200px] flex items-center justify-center",children:M.jsx("div",{className:"text-text-300 font-small",children:M.jsx(s,{defaultMessage:"Illustration placeholder",id:"U8e24+q4Zx"})})})]},t+1))}):M.jsxs(M.Fragment,{children:[Re[ye].sections[1]?.heading&&M.jsxs(M.Fragment,{children:[M.jsx("h4",{className:"text-text-100 font-base-bold mb-2",children:Re[ye].sections[1].heading}),Re[ye].sections[1]&&"items"in Re[ye].sections[1]&&Re[ye].sections[1].items&&M.jsx("ul",{className:"space-y-1.5",children:Re[ye].sections[1].items.map((e,t)=>M.jsxs("li",{className:"text-text-200 font-base flex gap-2",children:[M.jsx("span",{className:"text-text-300","aria-hidden":"true",children:""}),M.jsx("span",{children:e})]},t))})]}),Re[ye].sections[3]?.heading&&M.jsxs(M.Fragment,{children:[M.jsx("h4",{className:"text-text-100 font-base-bold mb-2",children:Re[ye].sections[3].heading}),Re[ye].sections[3]&&"items"in Re[ye].sections[3]&&Re[ye].sections[3].items&&M.jsx("ul",{className:"space-y-1.5",children:Re[ye].sections[3].items.map((e,t)=>M.jsxs("li",{className:"text-text-200 font-base flex gap-2",children:[M.jsx("span",{className:"text-text-300","aria-hidden":"true",children:""}),M.jsx("span",{children:e})]},t))})]}),Re[ye].sections.slice(4).map((e,t)=>M.jsx("div",{children:e.heading&&M.jsxs(M.Fragment,{children:[M.jsx("h4",{className:"text-text-100 font-base-bold mb-2 mt-4",children:e.heading}),"items"in e&&e.items&&M.jsx("ul",{className:"space-y-1.5",children:e.items.map((e,t)=>M.jsxs("li",{className:"text-text-200 font-base flex gap-2",children:[M.jsx("span",{className:"text-text-300","aria-hidden":"true",children:""}),M.jsx("span",{children:e})]},t))})]})},t+4))]})]})]}):M.jsx("div",{className:"flex flex-col gap-6",children:Re.map((e,t)=>M.jsxs("button",{onClick:()=>we(t),className:"flex gap-6 items-center hover:opacity-80 transition-opacity text-left cursor-pointer",children:[M.jsx("div",{className:"flex-shrink-0 w-[160px] h-[90px] bg-bg-000 border-[0.5px] border-border-300 rounded-xl flex items-center justify-center",children:2===t&&M.jsx("img",{src:pa,alt:"",className:"w-3/4"})}),M.jsxs("div",{className:"flex-1",children:[M.jsx("h3",{className:"text-text-100 font-large-bold mb-2",children:e.title}),M.jsx("p",{className:"text-text-300 font-base line-clamp-2",children:e.shortDescription})]})]},t))})})]})}),re&&M.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center pt-24 md:pt-32 bg-always-black/50 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>se(!1),children:[M.jsx("div",{className:"fixed top-6 right-6 z-10",children:M.jsx(h,{onClick:()=>se(!1),variant:"ghost",size:"icon_sm","aria-label":e.formatMessage({defaultMessage:"Close",id:"rbrahOGMC3"}),children:M.jsx(y,{size:20})})}),M.jsx("div",{className:"flex items-center justify-center w-full px-4 sm:px-6 md:px-8",onClick:e=>e.stopPropagation(),children:st.length>0?M.jsx("div",{className:"grid grid-cols-[repeat(2,160px)] sm:grid-cols-[repeat(2,160px)] md:grid-cols-[repeat(4,160px)] auto-rows-[160px] gap-3 sm:gap-4 md:gap-5",children:st.map((e,t)=>{const n=Ra[e]||1;return M.jsx("div",{onClick:()=>at(e),className:(2===n?"col-span-2":"")+" h-full w-full hover:opacity-80 transition-opacity duration-200 cursor-pointer rounded-2xl overflow-hidden",style:{animation:`slideUpIn 0.4s ease-out ${.1*t}s backwards`,background:"hsl(var(--bg-000))"},children:M.jsx("div",{className:"pointer-events-none h-full w-full",children:pt(e)})},e)})}):M.jsx("div",{className:"text-center py-8",children:M.jsx("p",{className:"text-text-300 font-base",children:M.jsx(s,{defaultMessage:"All widgets are currently visible",id:"9hU0zUNoF+"})})})})]})]})}j.createRoot(document.getElementById("root")).render(M.jsx(k.StrictMode,{children:M.jsx(C,{pageName:"New Tab",children:M.jsx(Oa,{})})}));
